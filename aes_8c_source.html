<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>EE445M Real Time Operating Systems: driverlib/aes.c Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">EE445M Real Time Operating Systems
   
   </div>
   <div id="projectbrief">Taken at the University of Texas Spring 2015</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('aes_8c.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">driverlib/aes.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="aes_8c.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">//*****************************************************************************</span>
<a name="l00002"></a>00002 <span class="comment">//</span>
<a name="l00003"></a>00003 <span class="comment">// aes.c - Driver for the AES module.</span>
<a name="l00004"></a>00004 <span class="comment">//</span>
<a name="l00005"></a>00005 <span class="comment">// Copyright (c) 2012-2014 Texas Instruments Incorporated.  All rights reserved.</span>
<a name="l00006"></a>00006 <span class="comment">// Software License Agreement</span>
<a name="l00007"></a>00007 <span class="comment">// </span>
<a name="l00008"></a>00008 <span class="comment">//   Redistribution and use in source and binary forms, with or without</span>
<a name="l00009"></a>00009 <span class="comment">//   modification, are permitted provided that the following conditions</span>
<a name="l00010"></a>00010 <span class="comment">//   are met:</span>
<a name="l00011"></a>00011 <span class="comment">// </span>
<a name="l00012"></a>00012 <span class="comment">//   Redistributions of source code must retain the above copyright</span>
<a name="l00013"></a>00013 <span class="comment">//   notice, this list of conditions and the following disclaimer.</span>
<a name="l00014"></a>00014 <span class="comment">// </span>
<a name="l00015"></a>00015 <span class="comment">//   Redistributions in binary form must reproduce the above copyright</span>
<a name="l00016"></a>00016 <span class="comment">//   notice, this list of conditions and the following disclaimer in the</span>
<a name="l00017"></a>00017 <span class="comment">//   documentation and/or other materials provided with the  </span>
<a name="l00018"></a>00018 <span class="comment">//   distribution.</span>
<a name="l00019"></a>00019 <span class="comment">// </span>
<a name="l00020"></a>00020 <span class="comment">//   Neither the name of Texas Instruments Incorporated nor the names of</span>
<a name="l00021"></a>00021 <span class="comment">//   its contributors may be used to endorse or promote products derived</span>
<a name="l00022"></a>00022 <span class="comment">//   from this software without specific prior written permission.</span>
<a name="l00023"></a>00023 <span class="comment">// </span>
<a name="l00024"></a>00024 <span class="comment">// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS</span>
<a name="l00025"></a>00025 <span class="comment">// &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT</span>
<a name="l00026"></a>00026 <span class="comment">// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR</span>
<a name="l00027"></a>00027 <span class="comment">// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT</span>
<a name="l00028"></a>00028 <span class="comment">// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,</span>
<a name="l00029"></a>00029 <span class="comment">// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT</span>
<a name="l00030"></a>00030 <span class="comment">// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,</span>
<a name="l00031"></a>00031 <span class="comment">// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY</span>
<a name="l00032"></a>00032 <span class="comment">// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</span>
<a name="l00033"></a>00033 <span class="comment">// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE</span>
<a name="l00034"></a>00034 <span class="comment">// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<a name="l00035"></a>00035 <span class="comment">// </span>
<a name="l00036"></a>00036 <span class="comment">// This is part of revision 2.1.0.12573 of the Tiva Peripheral Driver Library.</span>
<a name="l00037"></a>00037 <span class="comment">//</span>
<a name="l00038"></a>00038 <span class="comment">//*****************************************************************************</span>
<a name="l00039"></a>00039 
<a name="l00040"></a>00040 <span class="comment">//*****************************************************************************</span>
<a name="l00041"></a>00041 <span class="comment">//</span>
<a name="l00044"></a>00044 <span class="comment"></span><span class="comment">//</span>
<a name="l00045"></a>00045 <span class="comment">//*****************************************************************************</span>
<a name="l00046"></a>00046 
<a name="l00047"></a>00047 <span class="preprocessor">#include &lt;stdint.h&gt;</span>
<a name="l00048"></a>00048 <span class="preprocessor">#include &lt;stdbool.h&gt;</span>
<a name="l00049"></a>00049 <span class="preprocessor">#include &lt;stdint.h&gt;</span>
<a name="l00050"></a>00050 <span class="preprocessor">#include &quot;<a class="code" href="hw__aes_8h.html">inc/hw_aes.h</a>&quot;</span>
<a name="l00051"></a>00051 <span class="preprocessor">#include &quot;<a class="code" href="hw__ccm_8h.html">inc/hw_ccm.h</a>&quot;</span>
<a name="l00052"></a>00052 <span class="preprocessor">#include &quot;<a class="code" href="hw__ints_8h.html">inc/hw_ints.h</a>&quot;</span>
<a name="l00053"></a>00053 <span class="preprocessor">#include &quot;<a class="code" href="hw__memmap_8h.html">inc/hw_memmap.h</a>&quot;</span>
<a name="l00054"></a>00054 <span class="preprocessor">#include &quot;<a class="code" href="hw__nvic_8h.html">inc/hw_nvic.h</a>&quot;</span>
<a name="l00055"></a>00055 <span class="preprocessor">#include &quot;<a class="code" href="hw__types_8h.html">inc/hw_types.h</a>&quot;</span>
<a name="l00056"></a>00056 <span class="preprocessor">#include &quot;<a class="code" href="aes_8h.html">driverlib/aes.h</a>&quot;</span>
<a name="l00057"></a>00057 <span class="preprocessor">#include &quot;<a class="code" href="debug_8h.html">driverlib/debug.h</a>&quot;</span>
<a name="l00058"></a>00058 <span class="preprocessor">#include &quot;<a class="code" href="interrupt_8h.html">driverlib/interrupt.h</a>&quot;</span>
<a name="l00059"></a>00059 
<a name="l00060"></a>00060 <span class="comment">//*****************************************************************************</span>
<a name="l00061"></a>00061 <span class="comment">//</span>
<a name="l00069"></a>00069 <span class="comment"></span><span class="comment">//</span>
<a name="l00070"></a>00070 <span class="comment">//*****************************************************************************</span>
<a name="l00071"></a>00071 <span class="keywordtype">void</span>
<a name="l00072"></a><a class="code" href="group__aes__api.html#ga8956146c96851cabc9fd6bc2a194d2dd">00072</a> <a class="code" href="group__aes__api.html#ga8956146c96851cabc9fd6bc2a194d2dd">AESReset</a>(uint32_t ui32Base)
<a name="l00073"></a>00073 {
<a name="l00074"></a>00074     <span class="comment">//</span>
<a name="l00075"></a>00075     <span class="comment">// Check the arguments.</span>
<a name="l00076"></a>00076     <span class="comment">//</span>
<a name="l00077"></a>00077     <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#ad099ae8679538f6c00294639d67528bf">AES_BASE</a>);
<a name="l00078"></a>00078 
<a name="l00079"></a>00079     <span class="comment">//</span>
<a name="l00080"></a>00080     <span class="comment">// Trigger the reset.</span>
<a name="l00081"></a>00081     <span class="comment">//</span>
<a name="l00082"></a>00082     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__aes_8h.html#a8b429266b1bf419f810b4fa44bd55442">AES_O_SYSCONFIG</a>) |= <a class="code" href="hw__aes_8h.html#a346f6021be1521782191b0d7cee7de07">AES_SYSCONFIG_SOFTRESET</a>;
<a name="l00083"></a>00083 
<a name="l00084"></a>00084     <span class="comment">//</span>
<a name="l00085"></a>00085     <span class="comment">// Wait for the reset to finish.</span>
<a name="l00086"></a>00086     <span class="comment">//</span>
<a name="l00087"></a>00087     <span class="keywordflow">while</span>((<a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__aes_8h.html#a513fae2b18934b647d1d5a3de86d2d9d">AES_O_SYSSTATUS</a>) &amp;
<a name="l00088"></a>00088            <a class="code" href="hw__aes_8h.html#aeafd5d8b72d870a84cf4097e8e7536a5">AES_SYSSTATUS_RESETDONE</a>) == 0)
<a name="l00089"></a>00089     {
<a name="l00090"></a>00090     }
<a name="l00091"></a>00091 }
<a name="l00092"></a>00092 
<a name="l00093"></a>00093 <span class="comment">//*****************************************************************************</span>
<a name="l00094"></a>00094 <span class="comment">//</span>
<a name="l00180"></a>00180 <span class="comment"></span><span class="comment">//</span>
<a name="l00181"></a>00181 <span class="comment">//*****************************************************************************</span>
<a name="l00182"></a>00182 <span class="keywordtype">void</span>
<a name="l00183"></a><a class="code" href="group__aes__api.html#gaafceff26eee9c3519789540fa2f0249a">00183</a> <a class="code" href="group__aes__api.html#gaafceff26eee9c3519789540fa2f0249a">AESConfigSet</a>(uint32_t ui32Base, uint32_t ui32Config)
<a name="l00184"></a>00184 {
<a name="l00185"></a>00185     <span class="comment">//</span>
<a name="l00186"></a>00186     <span class="comment">// Check the arguments.</span>
<a name="l00187"></a>00187     <span class="comment">//</span>
<a name="l00188"></a>00188     <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#ad099ae8679538f6c00294639d67528bf">AES_BASE</a>);
<a name="l00189"></a>00189     <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32Config &amp; <a class="code" href="aes_8h.html#afd775f86576b2e4d130bfd7334446de0">AES_CFG_DIR_ENCRYPT</a>) ||
<a name="l00190"></a>00190            (ui32Config &amp; <a class="code" href="aes_8h.html#a71ae5532b3f78277e844d15887858bcb">AES_CFG_DIR_DECRYPT</a>));
<a name="l00191"></a>00191     <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32Config &amp; <a class="code" href="aes_8h.html#a6979f25c18e655bf8231ebbc43331ac7">AES_CFG_KEY_SIZE_128BIT</a>) ||
<a name="l00192"></a>00192            (ui32Config &amp; <a class="code" href="aes_8h.html#a0528e686cf641599eb7a92eb964f4aba">AES_CFG_KEY_SIZE_192BIT</a>) ||
<a name="l00193"></a>00193            (ui32Config &amp; <a class="code" href="aes_8h.html#acfea50befe1ba19d78bb149656c645c4">AES_CFG_KEY_SIZE_256BIT</a>));
<a name="l00194"></a>00194     <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32Config &amp; <a class="code" href="aes_8h.html#a28f2db1d98f7b5d4c6bd8262fa014336">AES_CFG_MODE_ECB</a>) ||
<a name="l00195"></a>00195            (ui32Config &amp; <a class="code" href="aes_8h.html#a2d288a844b1d02aebeae99ea1cfe0335">AES_CFG_MODE_CBC</a>) ||
<a name="l00196"></a>00196            (ui32Config &amp; <a class="code" href="aes_8h.html#aeb18a8377f0e1597372063567b156307">AES_CFG_MODE_CTR</a>) ||
<a name="l00197"></a>00197            (ui32Config &amp; <a class="code" href="aes_8h.html#a65a331518cf04c51eea2880286a06428">AES_CFG_MODE_ICM</a>) ||
<a name="l00198"></a>00198            (ui32Config &amp; <a class="code" href="aes_8h.html#a550724941c6013414a1438369f84c742">AES_CFG_MODE_CFB</a>) ||
<a name="l00199"></a>00199            (ui32Config &amp; <a class="code" href="aes_8h.html#a5b946db7c593c25305ce7f7ab2e6ed39">AES_CFG_MODE_XTS_TWEAKJL</a>) ||
<a name="l00200"></a>00200            (ui32Config &amp; <a class="code" href="aes_8h.html#a6221e7e3d1783004e823c5391bb1a9ae">AES_CFG_MODE_XTS_K2IJL</a>) ||
<a name="l00201"></a>00201            (ui32Config &amp; <a class="code" href="aes_8h.html#af7f42289562b2bccd6447fda06ee663f">AES_CFG_MODE_XTS_K2ILJ0</a>) ||
<a name="l00202"></a>00202            (ui32Config &amp; <a class="code" href="aes_8h.html#a52d9203901858d0a020d753d3d63be4d">AES_CFG_MODE_F8</a>) ||
<a name="l00203"></a>00203            (ui32Config &amp; <a class="code" href="aes_8h.html#a74c44f2bd350d87e48fc215ae17029df">AES_CFG_MODE_F9</a>) ||
<a name="l00204"></a>00204            (ui32Config &amp; AES_CFG_MODE_CTR) ||
<a name="l00205"></a>00205            (ui32Config &amp; <a class="code" href="aes_8h.html#a91ea55fcf172c761a68e66d1a80cfacf">AES_CFG_MODE_CBCMAC</a>) ||
<a name="l00206"></a>00206            (ui32Config &amp; <a class="code" href="aes_8h.html#a07d47716f8eaa9678fb61197992a9b2b">AES_CFG_MODE_GCM_HLY0ZERO</a>) ||
<a name="l00207"></a>00207            (ui32Config &amp; <a class="code" href="aes_8h.html#a5248bf9a2c95cb0edf7e03b1688fa75b">AES_CFG_MODE_GCM_HLY0CALC</a>) ||
<a name="l00208"></a>00208            (ui32Config &amp; <a class="code" href="aes_8h.html#ad2acbb11db05dc6bb26f7973fac6e5d2">AES_CFG_MODE_GCM_HY0CALC</a>) ||
<a name="l00209"></a>00209            (ui32Config &amp; <a class="code" href="aes_8h.html#aef91b29b5c9c9293a2482e130d1338ef">AES_CFG_MODE_CCM</a>));
<a name="l00210"></a>00210     <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(((ui32Config &amp; AES_CFG_MODE_CTR) ||
<a name="l00211"></a>00211             (ui32Config &amp; AES_CFG_MODE_GCM_HLY0ZERO) ||
<a name="l00212"></a>00212             (ui32Config &amp; AES_CFG_MODE_GCM_HLY0CALC) ||
<a name="l00213"></a>00213             (ui32Config &amp; AES_CFG_MODE_GCM_HY0CALC) ||
<a name="l00214"></a>00214             (ui32Config &amp; AES_CFG_MODE_CCM)) &amp;&amp;
<a name="l00215"></a>00215            ((ui32Config &amp; <a class="code" href="aes_8h.html#af7edaa7e5ab7111ea8db3c2bccbff79c">AES_CFG_CTR_WIDTH_32</a>) ||
<a name="l00216"></a>00216             (ui32Config &amp; <a class="code" href="aes_8h.html#a01a8dc57ee7992c6ec651547409079df">AES_CFG_CTR_WIDTH_64</a>) ||
<a name="l00217"></a>00217             (ui32Config &amp; <a class="code" href="aes_8h.html#acda9c8d92140e4b9752eefb37062ba78">AES_CFG_CTR_WIDTH_96</a>) ||
<a name="l00218"></a>00218             (ui32Config &amp; <a class="code" href="aes_8h.html#a3ea314ef83b01dc72cb687a91be5cd75">AES_CFG_CTR_WIDTH_128</a>)));
<a name="l00219"></a>00219     <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32Config &amp; AES_CFG_MODE_CCM) &amp;&amp;
<a name="l00220"></a>00220            ((ui32Config &amp; <a class="code" href="aes_8h.html#a2c3e68b1efd5b9f4283dc437f0768be2">AES_CFG_CCM_L_1</a>) ||
<a name="l00221"></a>00221             (ui32Config &amp; <a class="code" href="aes_8h.html#a2fc24be648489355aabaeed88945cc5b">AES_CFG_CCM_L_2</a>) ||
<a name="l00222"></a>00222             (ui32Config &amp; <a class="code" href="aes_8h.html#a3a8ddc854b6ef5bdcccee1af4e53b348">AES_CFG_CCM_L_3</a>) ||
<a name="l00223"></a>00223             (ui32Config &amp; <a class="code" href="aes_8h.html#ac0bfdee100b489274f46794dd48c6376">AES_CFG_CCM_L_4</a>) ||
<a name="l00224"></a>00224             (ui32Config &amp; <a class="code" href="aes_8h.html#aed98f70e9f620a3627332b9af7b7941d">AES_CFG_CCM_L_5</a>) ||
<a name="l00225"></a>00225             (ui32Config &amp; <a class="code" href="aes_8h.html#a1367f8cdeabccd3066555271e454cdab">AES_CFG_CCM_L_6</a>) ||
<a name="l00226"></a>00226             (ui32Config &amp; <a class="code" href="aes_8h.html#aefad9b3308ad22e31cd00ecfc9121989">AES_CFG_CCM_L_7</a>) ||
<a name="l00227"></a>00227             (ui32Config &amp; <a class="code" href="aes_8h.html#ae235bf96bf5adeafccb5d802c66c7d0b">AES_CFG_CCM_L_8</a>)) &amp;&amp;
<a name="l00228"></a>00228            ((ui32Config &amp; <a class="code" href="aes_8h.html#adbcbeb953097370ff54f494e39134a27">AES_CFG_CCM_M_4</a>) ||
<a name="l00229"></a>00229             (ui32Config &amp; <a class="code" href="aes_8h.html#ad92e36fd08180181b8d59206c2b7710a">AES_CFG_CCM_M_6</a>) ||
<a name="l00230"></a>00230             (ui32Config &amp; <a class="code" href="aes_8h.html#ae6c6dc0fa77234d0d8b7eaca3f77a260">AES_CFG_CCM_M_8</a>) ||
<a name="l00231"></a>00231             (ui32Config &amp; <a class="code" href="aes_8h.html#a36c1c7327097b386c534c543cb4d0865">AES_CFG_CCM_M_10</a>) ||
<a name="l00232"></a>00232             (ui32Config &amp; <a class="code" href="aes_8h.html#a1fdb3e3551b412983607ba37b8c8750b">AES_CFG_CCM_M_12</a>) ||
<a name="l00233"></a>00233             (ui32Config &amp; <a class="code" href="aes_8h.html#a3f30a9ed6890295de46b95bf0c12a192">AES_CFG_CCM_M_14</a>) ||
<a name="l00234"></a>00234             (ui32Config &amp; <a class="code" href="aes_8h.html#a38395918c538e4e5ad563b3cd15f9e9b">AES_CFG_CCM_M_16</a>)));
<a name="l00235"></a>00235 
<a name="l00236"></a>00236     <span class="comment">//</span>
<a name="l00237"></a>00237     <span class="comment">// Backup the save context field before updating the register.</span>
<a name="l00238"></a>00238     <span class="comment">//</span>
<a name="l00239"></a>00239     <span class="keywordflow">if</span>(<a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__aes_8h.html#a403496677a56a07c021b2d35b1a0407a">AES_O_CTRL</a>) &amp; <a class="code" href="hw__aes_8h.html#adb1887cec00cce519b6614ac03e7f446">AES_CTRL_SAVE_CONTEXT</a>)
<a name="l00240"></a>00240     {
<a name="l00241"></a>00241         ui32Config |= <a class="code" href="hw__aes_8h.html#adb1887cec00cce519b6614ac03e7f446">AES_CTRL_SAVE_CONTEXT</a>;
<a name="l00242"></a>00242     }
<a name="l00243"></a>00243 
<a name="l00244"></a>00244     <span class="comment">//</span>
<a name="l00245"></a>00245     <span class="comment">// Write the CTRL register with the new value</span>
<a name="l00246"></a>00246     <span class="comment">//</span>
<a name="l00247"></a>00247     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__aes_8h.html#a403496677a56a07c021b2d35b1a0407a">AES_O_CTRL</a>) = ui32Config;
<a name="l00248"></a>00248 }
<a name="l00249"></a>00249 
<a name="l00250"></a>00250 <span class="comment">//*****************************************************************************</span>
<a name="l00251"></a>00251 <span class="comment">//</span>
<a name="l00266"></a>00266 <span class="comment"></span><span class="comment">//</span>
<a name="l00267"></a>00267 <span class="comment">//*****************************************************************************</span>
<a name="l00268"></a>00268 <span class="keywordtype">void</span>
<a name="l00269"></a><a class="code" href="group__aes__api.html#ga762aacfb50b6edd92b016f665f3403f6">00269</a> <a class="code" href="group__aes__api.html#ga762aacfb50b6edd92b016f665f3403f6">AESKey1Set</a>(uint32_t ui32Base, uint32_t *pui32Key, uint32_t ui32Keysize)
<a name="l00270"></a>00270 {
<a name="l00271"></a>00271     <span class="comment">//</span>
<a name="l00272"></a>00272     <span class="comment">// Check the arguments.</span>
<a name="l00273"></a>00273     <span class="comment">//</span>
<a name="l00274"></a>00274     <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#ad099ae8679538f6c00294639d67528bf">AES_BASE</a>);
<a name="l00275"></a>00275     <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32Keysize == <a class="code" href="aes_8h.html#a6979f25c18e655bf8231ebbc43331ac7">AES_CFG_KEY_SIZE_128BIT</a>) ||
<a name="l00276"></a>00276            (ui32Keysize == <a class="code" href="aes_8h.html#a0528e686cf641599eb7a92eb964f4aba">AES_CFG_KEY_SIZE_192BIT</a>) ||
<a name="l00277"></a>00277            (ui32Keysize == <a class="code" href="aes_8h.html#acfea50befe1ba19d78bb149656c645c4">AES_CFG_KEY_SIZE_256BIT</a>));
<a name="l00278"></a>00278 
<a name="l00279"></a>00279     <span class="comment">//</span>
<a name="l00280"></a>00280     <span class="comment">// With all key sizes, the first 4 words are written.</span>
<a name="l00281"></a>00281     <span class="comment">//</span>
<a name="l00282"></a>00282     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__aes_8h.html#a0e79a373fe64e97abd7a68b0ac74ff41">AES_O_KEY1_0</a>) = pui32Key[0];
<a name="l00283"></a>00283     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__aes_8h.html#abeffd7f82bdd861db8230d17c6237991">AES_O_KEY1_1</a>) = pui32Key[1];
<a name="l00284"></a>00284     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__aes_8h.html#a47174a157380c661dbe71088ab71d806">AES_O_KEY1_2</a>) = pui32Key[2];
<a name="l00285"></a>00285     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__aes_8h.html#a272d762556711b64f6f9c83454934f21">AES_O_KEY1_3</a>) = pui32Key[3];
<a name="l00286"></a>00286 
<a name="l00287"></a>00287     <span class="comment">//</span>
<a name="l00288"></a>00288     <span class="comment">// The key is 192 or 256 bits.  Write the next 2 words.</span>
<a name="l00289"></a>00289     <span class="comment">//</span>
<a name="l00290"></a>00290     <span class="keywordflow">if</span>(ui32Keysize != <a class="code" href="aes_8h.html#a6979f25c18e655bf8231ebbc43331ac7">AES_CFG_KEY_SIZE_128BIT</a>)
<a name="l00291"></a>00291     {
<a name="l00292"></a>00292         <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__aes_8h.html#a840f292421103fd4222cf9c4d3db377f">AES_O_KEY1_4</a>) = pui32Key[4];
<a name="l00293"></a>00293         <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__aes_8h.html#a4dce09caf46bb69f4f93de7754f5efb2">AES_O_KEY1_5</a>) = pui32Key[5];
<a name="l00294"></a>00294     }
<a name="l00295"></a>00295 
<a name="l00296"></a>00296     <span class="comment">//</span>
<a name="l00297"></a>00297     <span class="comment">// The key is 256 bits.  Write the last 2 words.</span>
<a name="l00298"></a>00298     <span class="comment">//</span>
<a name="l00299"></a>00299     <span class="keywordflow">if</span>(ui32Keysize == <a class="code" href="aes_8h.html#acfea50befe1ba19d78bb149656c645c4">AES_CFG_KEY_SIZE_256BIT</a>)
<a name="l00300"></a>00300     {
<a name="l00301"></a>00301         <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__aes_8h.html#a8953994bd0389926adf0d58dbd8e406f">AES_O_KEY1_6</a>) = pui32Key[6];
<a name="l00302"></a>00302         <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__aes_8h.html#aadc80664c68c47eea982bc26d6779e88">AES_O_KEY1_7</a>) = pui32Key[7];
<a name="l00303"></a>00303     }
<a name="l00304"></a>00304 }
<a name="l00305"></a>00305 
<a name="l00306"></a>00306 <span class="comment">//*****************************************************************************</span>
<a name="l00307"></a>00307 <span class="comment">//</span>
<a name="l00322"></a>00322 <span class="comment"></span><span class="comment">//</span>
<a name="l00323"></a>00323 <span class="comment">//*****************************************************************************</span>
<a name="l00324"></a>00324 <span class="keywordtype">void</span>
<a name="l00325"></a><a class="code" href="group__aes__api.html#gaff08eea1d05c05438a34f626a42c662e">00325</a> <a class="code" href="group__aes__api.html#gaff08eea1d05c05438a34f626a42c662e">AESKey2Set</a>(uint32_t ui32Base, uint32_t *pui32Key, uint32_t ui32Keysize)
<a name="l00326"></a>00326 {
<a name="l00327"></a>00327     <span class="comment">//</span>
<a name="l00328"></a>00328     <span class="comment">// Check the arguments.</span>
<a name="l00329"></a>00329     <span class="comment">//</span>
<a name="l00330"></a>00330     <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#ad099ae8679538f6c00294639d67528bf">AES_BASE</a>);
<a name="l00331"></a>00331     <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32Keysize == <a class="code" href="aes_8h.html#a6979f25c18e655bf8231ebbc43331ac7">AES_CFG_KEY_SIZE_128BIT</a>) ||
<a name="l00332"></a>00332            (ui32Keysize == <a class="code" href="aes_8h.html#a0528e686cf641599eb7a92eb964f4aba">AES_CFG_KEY_SIZE_192BIT</a>) ||
<a name="l00333"></a>00333            (ui32Keysize == <a class="code" href="aes_8h.html#acfea50befe1ba19d78bb149656c645c4">AES_CFG_KEY_SIZE_256BIT</a>));
<a name="l00334"></a>00334 
<a name="l00335"></a>00335     <span class="comment">//</span>
<a name="l00336"></a>00336     <span class="comment">// With all key sizes, the first 4 words are written.</span>
<a name="l00337"></a>00337     <span class="comment">//</span>
<a name="l00338"></a>00338     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__aes_8h.html#a4924c821cc218bb47d64c11b92745a1b">AES_O_KEY2_0</a>) = pui32Key[0];
<a name="l00339"></a>00339     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__aes_8h.html#a12eda5c9fbfe342c87b2f3d769b54d95">AES_O_KEY2_1</a>) = pui32Key[1];
<a name="l00340"></a>00340     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__aes_8h.html#adf01737f093b45060785ba22ae489430">AES_O_KEY2_2</a>) = pui32Key[2];
<a name="l00341"></a>00341     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__aes_8h.html#ad9543c8e1d92edb5eb5c6eaec029ca9e">AES_O_KEY2_3</a>) = pui32Key[3];
<a name="l00342"></a>00342 
<a name="l00343"></a>00343     <span class="comment">//</span>
<a name="l00344"></a>00344     <span class="comment">// The key is 192 or 256 bits.  Write the next 2 words.</span>
<a name="l00345"></a>00345     <span class="comment">//</span>
<a name="l00346"></a>00346     <span class="keywordflow">if</span>(ui32Keysize != <a class="code" href="aes_8h.html#a6979f25c18e655bf8231ebbc43331ac7">AES_CFG_KEY_SIZE_128BIT</a>)
<a name="l00347"></a>00347     {
<a name="l00348"></a>00348         <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__aes_8h.html#aabcadd921edf2d74c0260ae22c73fb07">AES_O_KEY2_4</a>) = pui32Key[4];
<a name="l00349"></a>00349         <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__aes_8h.html#a8581495c0491e1f047373e67a3df0ce8">AES_O_KEY2_5</a>) = pui32Key[5];
<a name="l00350"></a>00350     }
<a name="l00351"></a>00351 
<a name="l00352"></a>00352     <span class="comment">//</span>
<a name="l00353"></a>00353     <span class="comment">// The key is 256 bits.  Write the last 2 words.</span>
<a name="l00354"></a>00354     <span class="comment">//</span>
<a name="l00355"></a>00355     <span class="keywordflow">if</span>(ui32Keysize == <a class="code" href="aes_8h.html#acfea50befe1ba19d78bb149656c645c4">AES_CFG_KEY_SIZE_256BIT</a>)
<a name="l00356"></a>00356     {
<a name="l00357"></a>00357         <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__aes_8h.html#a036b3733209e1d7f70fd3b1bc6230089">AES_O_KEY2_6</a>) = pui32Key[6];
<a name="l00358"></a>00358         <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__aes_8h.html#a5d239d25685e67b51cb1d75f6040691a">AES_O_KEY2_7</a>) = pui32Key[7];
<a name="l00359"></a>00359     }
<a name="l00360"></a>00360 }
<a name="l00361"></a>00361 
<a name="l00362"></a>00362 <span class="comment">//*****************************************************************************</span>
<a name="l00363"></a>00363 <span class="comment">//</span>
<a name="l00375"></a>00375 <span class="comment"></span><span class="comment">//</span>
<a name="l00376"></a>00376 <span class="comment">//*****************************************************************************</span>
<a name="l00377"></a>00377 <span class="keywordtype">void</span>
<a name="l00378"></a><a class="code" href="group__aes__api.html#gacf8c84fbddc8b3cd2171efb16015d4c6">00378</a> <a class="code" href="group__aes__api.html#gacf8c84fbddc8b3cd2171efb16015d4c6">AESKey3Set</a>(uint32_t ui32Base, uint32_t *pui32Key)
<a name="l00379"></a>00379 {
<a name="l00380"></a>00380     <span class="comment">//</span>
<a name="l00381"></a>00381     <span class="comment">// Check the arguments.</span>
<a name="l00382"></a>00382     <span class="comment">//</span>
<a name="l00383"></a>00383     <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#ad099ae8679538f6c00294639d67528bf">AES_BASE</a>);
<a name="l00384"></a>00384 
<a name="l00385"></a>00385     <span class="comment">//</span>
<a name="l00386"></a>00386     <span class="comment">// Write the key into the upper 4 key registers</span>
<a name="l00387"></a>00387     <span class="comment">//</span>
<a name="l00388"></a>00388     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__aes_8h.html#aabcadd921edf2d74c0260ae22c73fb07">AES_O_KEY2_4</a>) = pui32Key[0];
<a name="l00389"></a>00389     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__aes_8h.html#a8581495c0491e1f047373e67a3df0ce8">AES_O_KEY2_5</a>) = pui32Key[1];
<a name="l00390"></a>00390     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__aes_8h.html#a036b3733209e1d7f70fd3b1bc6230089">AES_O_KEY2_6</a>) = pui32Key[2];
<a name="l00391"></a>00391     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__aes_8h.html#a5d239d25685e67b51cb1d75f6040691a">AES_O_KEY2_7</a>) = pui32Key[3];
<a name="l00392"></a>00392 }
<a name="l00393"></a>00393 
<a name="l00394"></a>00394 <span class="comment">//*****************************************************************************</span>
<a name="l00395"></a>00395 <span class="comment">//</span>
<a name="l00405"></a>00405 <span class="comment"></span><span class="comment">//</span>
<a name="l00406"></a>00406 <span class="comment">//*****************************************************************************</span>
<a name="l00407"></a>00407 <span class="keywordtype">void</span>
<a name="l00408"></a><a class="code" href="group__aes__api.html#ga5aae476fa4025874a0f6b10dddf63235">00408</a> <a class="code" href="group__aes__api.html#ga5aae476fa4025874a0f6b10dddf63235">AESIVSet</a>(uint32_t ui32Base, uint32_t *pui32IVdata)
<a name="l00409"></a>00409 {
<a name="l00410"></a>00410     <span class="comment">//</span>
<a name="l00411"></a>00411     <span class="comment">// Check the arguments.</span>
<a name="l00412"></a>00412     <span class="comment">//</span>
<a name="l00413"></a>00413     <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#ad099ae8679538f6c00294639d67528bf">AES_BASE</a>);
<a name="l00414"></a>00414 
<a name="l00415"></a>00415     <span class="comment">//</span>
<a name="l00416"></a>00416     <span class="comment">// Write the initial vector registers.</span>
<a name="l00417"></a>00417     <span class="comment">//</span>
<a name="l00418"></a>00418     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__aes_8h.html#a7f36964fa473816f2d859c2a76883418">AES_O_IV_IN_0</a>) = pui32IVdata[0];
<a name="l00419"></a>00419     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__aes_8h.html#aa4c5d2dd30e00a244eee9cc25fee6e46">AES_O_IV_IN_1</a>) = pui32IVdata[1];
<a name="l00420"></a>00420     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__aes_8h.html#a1371db5ece07e661264bf5138b40537a">AES_O_IV_IN_2</a>) = pui32IVdata[2];
<a name="l00421"></a>00421     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__aes_8h.html#afdec9ccbcb3eacd84f62a8ac76a6a14d">AES_O_IV_IN_3</a>) = pui32IVdata[3];
<a name="l00422"></a>00422 }
<a name="l00423"></a>00423 
<a name="l00424"></a>00424 <span class="comment">//*****************************************************************************</span>
<a name="l00425"></a>00425 <span class="comment">//</span>
<a name="l00436"></a>00436 <span class="comment"></span><span class="comment">//</span>
<a name="l00437"></a>00437 <span class="comment">//*****************************************************************************</span>
<a name="l00438"></a>00438 <span class="keywordtype">void</span>
<a name="l00439"></a><a class="code" href="group__aes__api.html#ga078235087d35746d0b3cafda0f69bddf">00439</a> <a class="code" href="group__aes__api.html#ga078235087d35746d0b3cafda0f69bddf">AESIVRead</a>(uint32_t ui32Base, uint32_t *pui32IVData)
<a name="l00440"></a>00440 {
<a name="l00441"></a>00441     <span class="comment">//</span>
<a name="l00442"></a>00442     <span class="comment">// Check the arguments.</span>
<a name="l00443"></a>00443     <span class="comment">//</span>
<a name="l00444"></a>00444     <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#ad099ae8679538f6c00294639d67528bf">AES_BASE</a>);
<a name="l00445"></a>00445 
<a name="l00446"></a>00446     <span class="comment">//</span>
<a name="l00447"></a>00447     <span class="comment">// Wait for the output context to be ready.</span>
<a name="l00448"></a>00448     <span class="comment">//</span>
<a name="l00449"></a>00449     <span class="keywordflow">while</span>((<a class="code" href="hw__aes_8h.html#a618683819e6572890d8b0b83f4e25065">AES_CTRL_SVCTXTRDY</a> &amp; (<a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__aes_8h.html#a403496677a56a07c021b2d35b1a0407a">AES_O_CTRL</a>))) == 0)
<a name="l00450"></a>00450     {
<a name="l00451"></a>00451     }
<a name="l00452"></a>00452 
<a name="l00453"></a>00453     <span class="comment">//</span>
<a name="l00454"></a>00454     <span class="comment">// Read the tag data.</span>
<a name="l00455"></a>00455     <span class="comment">//</span>
<a name="l00456"></a>00456     pui32IVData[0] = <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>((ui32Base + <a class="code" href="hw__aes_8h.html#a7f36964fa473816f2d859c2a76883418">AES_O_IV_IN_0</a>));
<a name="l00457"></a>00457     pui32IVData[1] = <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>((ui32Base + <a class="code" href="hw__aes_8h.html#aa4c5d2dd30e00a244eee9cc25fee6e46">AES_O_IV_IN_1</a>));
<a name="l00458"></a>00458     pui32IVData[2] = <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>((ui32Base + <a class="code" href="hw__aes_8h.html#a1371db5ece07e661264bf5138b40537a">AES_O_IV_IN_2</a>));
<a name="l00459"></a>00459     pui32IVData[3] = <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>((ui32Base + <a class="code" href="hw__aes_8h.html#afdec9ccbcb3eacd84f62a8ac76a6a14d">AES_O_IV_IN_3</a>));
<a name="l00460"></a>00460 }
<a name="l00461"></a>00461 
<a name="l00462"></a>00462 <span class="comment">//*****************************************************************************</span>
<a name="l00463"></a>00463 <span class="comment">//</span>
<a name="l00474"></a>00474 <span class="comment"></span><span class="comment">//</span>
<a name="l00475"></a>00475 <span class="comment">//*****************************************************************************</span>
<a name="l00476"></a>00476 <span class="keywordtype">void</span>
<a name="l00477"></a><a class="code" href="group__aes__api.html#gae4d89be99ad0411c6bd99f893ebc40d3">00477</a> <a class="code" href="group__aes__api.html#gae4d89be99ad0411c6bd99f893ebc40d3">AESTagRead</a>(uint32_t ui32Base, uint32_t *pui32TagData)
<a name="l00478"></a>00478 {
<a name="l00479"></a>00479     <span class="comment">//</span>
<a name="l00480"></a>00480     <span class="comment">// Check the arguments.</span>
<a name="l00481"></a>00481     <span class="comment">//</span>
<a name="l00482"></a>00482     <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#ad099ae8679538f6c00294639d67528bf">AES_BASE</a>);
<a name="l00483"></a>00483 
<a name="l00484"></a>00484     <span class="comment">//</span>
<a name="l00485"></a>00485     <span class="comment">// Wait for the output context to be ready.</span>
<a name="l00486"></a>00486     <span class="comment">//</span>
<a name="l00487"></a>00487     <span class="keywordflow">while</span>((<a class="code" href="hw__aes_8h.html#a618683819e6572890d8b0b83f4e25065">AES_CTRL_SVCTXTRDY</a> &amp; (<a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__aes_8h.html#a403496677a56a07c021b2d35b1a0407a">AES_O_CTRL</a>))) == 0)
<a name="l00488"></a>00488     {
<a name="l00489"></a>00489     }
<a name="l00490"></a>00490 
<a name="l00491"></a>00491     <span class="comment">//</span>
<a name="l00492"></a>00492     <span class="comment">// Read the tag data.</span>
<a name="l00493"></a>00493     <span class="comment">//</span>
<a name="l00494"></a>00494     pui32TagData[0] = <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>((ui32Base + <a class="code" href="hw__aes_8h.html#a8ae51bc180f27a8eeda5196d50aaed7d">AES_O_TAG_OUT_0</a>));
<a name="l00495"></a>00495     pui32TagData[1] = <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>((ui32Base + <a class="code" href="hw__aes_8h.html#a511e4ac1dca26dcfdfb0d1b50adc5398">AES_O_TAG_OUT_1</a>));
<a name="l00496"></a>00496     pui32TagData[2] = <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>((ui32Base + <a class="code" href="hw__aes_8h.html#a4ec4fc8c667a7026d98778e16c610e68">AES_O_TAG_OUT_2</a>));
<a name="l00497"></a>00497     pui32TagData[3] = <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>((ui32Base + <a class="code" href="hw__aes_8h.html#a036c53e7ba7db998b55279703196528c">AES_O_TAG_OUT_3</a>));
<a name="l00498"></a>00498 }
<a name="l00499"></a>00499 
<a name="l00500"></a>00500 <span class="comment">//*****************************************************************************</span>
<a name="l00501"></a>00501 <span class="comment">//</span>
<a name="l00521"></a>00521 <span class="comment"></span><span class="comment">//</span>
<a name="l00522"></a>00522 <span class="comment">//*****************************************************************************</span>
<a name="l00523"></a>00523 <span class="keywordtype">void</span>
<a name="l00524"></a><a class="code" href="group__aes__api.html#ga884731d9239e9f5313d14b84721cf8f2">00524</a> <a class="code" href="group__aes__api.html#ga884731d9239e9f5313d14b84721cf8f2">AESLengthSet</a>(uint32_t ui32Base, uint64_t ui64Length)
<a name="l00525"></a>00525 {
<a name="l00526"></a>00526     <span class="comment">//</span>
<a name="l00527"></a>00527     <span class="comment">// Check the arguments.</span>
<a name="l00528"></a>00528     <span class="comment">//</span>
<a name="l00529"></a>00529     <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#ad099ae8679538f6c00294639d67528bf">AES_BASE</a>);
<a name="l00530"></a>00530 
<a name="l00531"></a>00531     <span class="comment">//</span>
<a name="l00532"></a>00532     <span class="comment">// Write the length register by shifting the 64-bit ui64Length.</span>
<a name="l00533"></a>00533     <span class="comment">//</span>
<a name="l00534"></a>00534     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__aes_8h.html#a498fc5a5a803deb5c900f1eb14d8c3d7">AES_O_C_LENGTH_0</a>) = (uint32_t)(ui64Length);
<a name="l00535"></a>00535     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__aes_8h.html#af2657bd90e544d85a28ae1ebb96dc0b2">AES_O_C_LENGTH_1</a>) = (uint32_t)(ui64Length &gt;&gt; 32);
<a name="l00536"></a>00536 }
<a name="l00537"></a>00537 
<a name="l00538"></a>00538 <span class="comment">//*****************************************************************************</span>
<a name="l00539"></a>00539 <span class="comment">//</span>
<a name="l00558"></a>00558 <span class="comment"></span><span class="comment">//</span>
<a name="l00559"></a>00559 <span class="comment">//*****************************************************************************</span>
<a name="l00560"></a>00560 <span class="keywordtype">void</span>
<a name="l00561"></a><a class="code" href="group__aes__api.html#ga5fa37d394b281d2a4c1ee10e6cbb37a6">00561</a> <a class="code" href="group__aes__api.html#ga5fa37d394b281d2a4c1ee10e6cbb37a6">AESAuthLengthSet</a>(uint32_t ui32Base, uint32_t ui32Length)
<a name="l00562"></a>00562 {
<a name="l00563"></a>00563     <span class="comment">//</span>
<a name="l00564"></a>00564     <span class="comment">// Check the arguments.</span>
<a name="l00565"></a>00565     <span class="comment">//</span>
<a name="l00566"></a>00566     <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#ad099ae8679538f6c00294639d67528bf">AES_BASE</a>);
<a name="l00567"></a>00567 
<a name="l00568"></a>00568     <span class="comment">//</span>
<a name="l00569"></a>00569     <span class="comment">// Write the length into the register.</span>
<a name="l00570"></a>00570     <span class="comment">//</span>
<a name="l00571"></a>00571     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__aes_8h.html#a7540e7529daa70b61152383ab1efbccf">AES_O_AUTH_LENGTH</a>) = ui32Length;
<a name="l00572"></a>00572 }
<a name="l00573"></a>00573 
<a name="l00574"></a>00574 <span class="comment">//*****************************************************************************</span>
<a name="l00575"></a>00575 <span class="comment">//</span>
<a name="l00587"></a>00587 <span class="comment"></span><span class="comment">//</span>
<a name="l00588"></a>00588 <span class="comment">//*****************************************************************************</span>
<a name="l00589"></a>00589 <span class="keywordtype">bool</span>
<a name="l00590"></a><a class="code" href="group__aes__api.html#gabc0884a2a899a86d4914385e66ea8f38">00590</a> <a class="code" href="group__aes__api.html#gabc0884a2a899a86d4914385e66ea8f38">AESDataReadNonBlocking</a>(uint32_t ui32Base, uint32_t *pui32Dest)
<a name="l00591"></a>00591 {
<a name="l00592"></a>00592     <span class="comment">//</span>
<a name="l00593"></a>00593     <span class="comment">// Check the arguments.</span>
<a name="l00594"></a>00594     <span class="comment">//</span>
<a name="l00595"></a>00595     <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#ad099ae8679538f6c00294639d67528bf">AES_BASE</a>);
<a name="l00596"></a>00596 
<a name="l00597"></a>00597     <span class="comment">//</span>
<a name="l00598"></a>00598     <span class="comment">// Check if the output is ready before reading the data.  If it not ready,</span>
<a name="l00599"></a>00599     <span class="comment">// return false.</span>
<a name="l00600"></a>00600     <span class="comment">//</span>
<a name="l00601"></a>00601     <span class="keywordflow">if</span>((<a class="code" href="hw__aes_8h.html#acda5848c245d393fab930d08b7c4abed">AES_CTRL_OUTPUT_READY</a> &amp; (<a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__aes_8h.html#a403496677a56a07c021b2d35b1a0407a">AES_O_CTRL</a>))) == 0)
<a name="l00602"></a>00602     {
<a name="l00603"></a>00603         <span class="keywordflow">return</span>(<span class="keyword">false</span>);
<a name="l00604"></a>00604     }
<a name="l00605"></a>00605 
<a name="l00606"></a>00606     <span class="comment">//</span>
<a name="l00607"></a>00607     <span class="comment">// Read a block of data from the data registers</span>
<a name="l00608"></a>00608     <span class="comment">//</span>
<a name="l00609"></a>00609     pui32Dest[0] = <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__aes_8h.html#a00bf97878ef2e04be4e133a9370e6d43">AES_O_DATA_IN_3</a>);
<a name="l00610"></a>00610     pui32Dest[1] = <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__aes_8h.html#abc6c5ab957225de7e3483de16517583d">AES_O_DATA_IN_2</a>);
<a name="l00611"></a>00611     pui32Dest[2] = <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__aes_8h.html#ae0d305d301c14f1838a293e169b16f24">AES_O_DATA_IN_1</a>);
<a name="l00612"></a>00612     pui32Dest[3] = <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__aes_8h.html#a90e19cbf255862541eb6b7e9b98b2495">AES_O_DATA_IN_0</a>);
<a name="l00613"></a>00613 
<a name="l00614"></a>00614     <span class="comment">//</span>
<a name="l00615"></a>00615     <span class="comment">// Read successful, return true.</span>
<a name="l00616"></a>00616     <span class="comment">//</span>
<a name="l00617"></a>00617     <span class="keywordflow">return</span>(<span class="keyword">true</span>);
<a name="l00618"></a>00618 }
<a name="l00619"></a>00619 
<a name="l00620"></a>00620 <span class="comment">//*****************************************************************************</span>
<a name="l00621"></a>00621 <span class="comment">//</span>
<a name="l00632"></a>00632 <span class="comment"></span><span class="comment">//</span>
<a name="l00633"></a>00633 <span class="comment">//*****************************************************************************</span>
<a name="l00634"></a>00634 <span class="keywordtype">void</span>
<a name="l00635"></a><a class="code" href="group__aes__api.html#gaedb4c7e08dd21ec321ebb1df2262f512">00635</a> <a class="code" href="group__aes__api.html#gaedb4c7e08dd21ec321ebb1df2262f512">AESDataRead</a>(uint32_t ui32Base, uint32_t *pui32Dest)
<a name="l00636"></a>00636 {
<a name="l00637"></a>00637     <span class="comment">//</span>
<a name="l00638"></a>00638     <span class="comment">// Check the arguments.</span>
<a name="l00639"></a>00639     <span class="comment">//</span>
<a name="l00640"></a>00640     <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#ad099ae8679538f6c00294639d67528bf">AES_BASE</a>);
<a name="l00641"></a>00641 
<a name="l00642"></a>00642     <span class="comment">//</span>
<a name="l00643"></a>00643     <span class="comment">// Wait for the output to be ready before reading the data.</span>
<a name="l00644"></a>00644     <span class="comment">//</span>
<a name="l00645"></a>00645     <span class="keywordflow">while</span>((<a class="code" href="hw__aes_8h.html#acda5848c245d393fab930d08b7c4abed">AES_CTRL_OUTPUT_READY</a> &amp; (<a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__aes_8h.html#a403496677a56a07c021b2d35b1a0407a">AES_O_CTRL</a>))) == 0)
<a name="l00646"></a>00646     {
<a name="l00647"></a>00647     }
<a name="l00648"></a>00648 
<a name="l00649"></a>00649     <span class="comment">//</span>
<a name="l00650"></a>00650     <span class="comment">// Read a block of data from the data registers</span>
<a name="l00651"></a>00651     <span class="comment">//</span>
<a name="l00652"></a>00652     pui32Dest[0] = <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__aes_8h.html#a00bf97878ef2e04be4e133a9370e6d43">AES_O_DATA_IN_3</a>);
<a name="l00653"></a>00653     pui32Dest[1] = <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__aes_8h.html#abc6c5ab957225de7e3483de16517583d">AES_O_DATA_IN_2</a>);
<a name="l00654"></a>00654     pui32Dest[2] = <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__aes_8h.html#ae0d305d301c14f1838a293e169b16f24">AES_O_DATA_IN_1</a>);
<a name="l00655"></a>00655     pui32Dest[3] = <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__aes_8h.html#a90e19cbf255862541eb6b7e9b98b2495">AES_O_DATA_IN_0</a>);
<a name="l00656"></a>00656 }
<a name="l00657"></a>00657 
<a name="l00658"></a>00658 <span class="comment">//*****************************************************************************</span>
<a name="l00659"></a>00659 <span class="comment">//</span>
<a name="l00671"></a>00671 <span class="comment"></span><span class="comment">//</span>
<a name="l00672"></a>00672 <span class="comment">//*****************************************************************************</span>
<a name="l00673"></a>00673 <span class="keywordtype">bool</span>
<a name="l00674"></a><a class="code" href="group__aes__api.html#gab0275ca45c516db504755ac06e148a49">00674</a> <a class="code" href="group__aes__api.html#gab0275ca45c516db504755ac06e148a49">AESDataWriteNonBlocking</a>(uint32_t ui32Base, uint32_t *pui32Src)
<a name="l00675"></a>00675 {
<a name="l00676"></a>00676     <span class="comment">//</span>
<a name="l00677"></a>00677     <span class="comment">// Check the arguments.</span>
<a name="l00678"></a>00678     <span class="comment">//</span>
<a name="l00679"></a>00679     <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#ad099ae8679538f6c00294639d67528bf">AES_BASE</a>);
<a name="l00680"></a>00680 
<a name="l00681"></a>00681     <span class="comment">//</span>
<a name="l00682"></a>00682     <span class="comment">// Check if the input is ready.  If not, then return false.</span>
<a name="l00683"></a>00683     <span class="comment">//</span>
<a name="l00684"></a>00684     <span class="keywordflow">if</span>(!(<a class="code" href="hw__aes_8h.html#a551f0a92081b4c4d059915313c69e6f5">AES_CTRL_INPUT_READY</a> &amp; (<a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__aes_8h.html#a403496677a56a07c021b2d35b1a0407a">AES_O_CTRL</a>))))
<a name="l00685"></a>00685     {
<a name="l00686"></a>00686         <span class="keywordflow">return</span>(<span class="keyword">false</span>);
<a name="l00687"></a>00687     }
<a name="l00688"></a>00688 
<a name="l00689"></a>00689     <span class="comment">//</span>
<a name="l00690"></a>00690     <span class="comment">// Write a block of data into the data registers.</span>
<a name="l00691"></a>00691     <span class="comment">//</span>
<a name="l00692"></a>00692     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__aes_8h.html#a00bf97878ef2e04be4e133a9370e6d43">AES_O_DATA_IN_3</a>) = pui32Src[0];
<a name="l00693"></a>00693     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__aes_8h.html#abc6c5ab957225de7e3483de16517583d">AES_O_DATA_IN_2</a>) = pui32Src[1];
<a name="l00694"></a>00694     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__aes_8h.html#ae0d305d301c14f1838a293e169b16f24">AES_O_DATA_IN_1</a>) = pui32Src[2];
<a name="l00695"></a>00695     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__aes_8h.html#a90e19cbf255862541eb6b7e9b98b2495">AES_O_DATA_IN_0</a>) = pui32Src[3];
<a name="l00696"></a>00696 
<a name="l00697"></a>00697     <span class="comment">//</span>
<a name="l00698"></a>00698     <span class="comment">// Write successful, return true.</span>
<a name="l00699"></a>00699     <span class="comment">//</span>
<a name="l00700"></a>00700     <span class="keywordflow">return</span>(<span class="keyword">true</span>);
<a name="l00701"></a>00701 }
<a name="l00702"></a>00702 
<a name="l00703"></a>00703 <span class="comment">//*****************************************************************************</span>
<a name="l00704"></a>00704 <span class="comment">//</span>
<a name="l00715"></a>00715 <span class="comment"></span><span class="comment">//</span>
<a name="l00716"></a>00716 <span class="comment">//*****************************************************************************</span>
<a name="l00717"></a>00717 <span class="keywordtype">void</span>
<a name="l00718"></a><a class="code" href="group__aes__api.html#gaece7b2668ed8e5e01353cd42d6cf30ad">00718</a> <a class="code" href="group__aes__api.html#gaece7b2668ed8e5e01353cd42d6cf30ad">AESDataWrite</a>(uint32_t ui32Base, uint32_t *pui32Src)
<a name="l00719"></a>00719 {
<a name="l00720"></a>00720     <span class="comment">//</span>
<a name="l00721"></a>00721     <span class="comment">// Check the arguments.</span>
<a name="l00722"></a>00722     <span class="comment">//</span>
<a name="l00723"></a>00723     <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#ad099ae8679538f6c00294639d67528bf">AES_BASE</a>);
<a name="l00724"></a>00724 
<a name="l00725"></a>00725     <span class="comment">//</span>
<a name="l00726"></a>00726     <span class="comment">// Wait for input ready.</span>
<a name="l00727"></a>00727     <span class="comment">//</span>
<a name="l00728"></a>00728     <span class="keywordflow">while</span>((<a class="code" href="hw__aes_8h.html#a551f0a92081b4c4d059915313c69e6f5">AES_CTRL_INPUT_READY</a> &amp; (<a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__aes_8h.html#a403496677a56a07c021b2d35b1a0407a">AES_O_CTRL</a>))) == 0)
<a name="l00729"></a>00729     {
<a name="l00730"></a>00730     }
<a name="l00731"></a>00731 
<a name="l00732"></a>00732     <span class="comment">//</span>
<a name="l00733"></a>00733     <span class="comment">// Write a block of data into the data registers.</span>
<a name="l00734"></a>00734     <span class="comment">//</span>
<a name="l00735"></a>00735     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__aes_8h.html#a00bf97878ef2e04be4e133a9370e6d43">AES_O_DATA_IN_3</a>) = pui32Src[0];
<a name="l00736"></a>00736     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__aes_8h.html#abc6c5ab957225de7e3483de16517583d">AES_O_DATA_IN_2</a>) = pui32Src[1];
<a name="l00737"></a>00737     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__aes_8h.html#ae0d305d301c14f1838a293e169b16f24">AES_O_DATA_IN_1</a>) = pui32Src[2];
<a name="l00738"></a>00738     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__aes_8h.html#a90e19cbf255862541eb6b7e9b98b2495">AES_O_DATA_IN_0</a>) = pui32Src[3];
<a name="l00739"></a>00739 }
<a name="l00740"></a>00740 
<a name="l00741"></a>00741 <span class="comment">//*****************************************************************************</span>
<a name="l00742"></a>00742 <span class="comment">//</span>
<a name="l00763"></a>00763 <span class="comment"></span><span class="comment">//</span>
<a name="l00764"></a>00764 <span class="comment">//*****************************************************************************</span>
<a name="l00765"></a>00765 <span class="keywordtype">bool</span>
<a name="l00766"></a><a class="code" href="group__aes__api.html#ga313d4e29ad51d1688146196ca11bbca9">00766</a> <a class="code" href="group__aes__api.html#ga313d4e29ad51d1688146196ca11bbca9">AESDataProcess</a>(uint32_t ui32Base, uint32_t *pui32Src, uint32_t *pui32Dest,
<a name="l00767"></a>00767                uint32_t ui32Length)
<a name="l00768"></a>00768 {
<a name="l00769"></a>00769     uint32_t ui32Count;
<a name="l00770"></a>00770 
<a name="l00771"></a>00771     <span class="comment">//</span>
<a name="l00772"></a>00772     <span class="comment">// Check the arguments.</span>
<a name="l00773"></a>00773     <span class="comment">//</span>
<a name="l00774"></a>00774     <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#ad099ae8679538f6c00294639d67528bf">AES_BASE</a>);
<a name="l00775"></a>00775 
<a name="l00776"></a>00776     <span class="comment">//</span>
<a name="l00777"></a>00777     <span class="comment">// Write the length register first, which triggers the engine to start</span>
<a name="l00778"></a>00778     <span class="comment">// using this context.</span>
<a name="l00779"></a>00779     <span class="comment">//</span>
<a name="l00780"></a>00780     <a class="code" href="group__aes__api.html#ga884731d9239e9f5313d14b84721cf8f2">AESLengthSet</a>(<a class="code" href="hw__memmap_8h.html#ad099ae8679538f6c00294639d67528bf">AES_BASE</a>, (uint64_t)ui32Length);
<a name="l00781"></a>00781 
<a name="l00782"></a>00782     <span class="comment">//</span>
<a name="l00783"></a>00783     <span class="comment">// Now loop until the blocks are written.</span>
<a name="l00784"></a>00784     <span class="comment">//</span>
<a name="l00785"></a>00785     <span class="keywordflow">for</span>(ui32Count = 0; ui32Count &lt; ui32Length; ui32Count += 16)
<a name="l00786"></a>00786     {
<a name="l00787"></a>00787         <span class="comment">//</span>
<a name="l00788"></a>00788         <span class="comment">// Write the data registers.</span>
<a name="l00789"></a>00789         <span class="comment">//</span>
<a name="l00790"></a>00790         <a class="code" href="group__aes__api.html#gaece7b2668ed8e5e01353cd42d6cf30ad">AESDataWrite</a>(ui32Base, pui32Src + (ui32Count / 4));
<a name="l00791"></a>00791 
<a name="l00792"></a>00792         <span class="comment">//</span>
<a name="l00793"></a>00793         <span class="comment">// Read the data registers.</span>
<a name="l00794"></a>00794         <span class="comment">//</span>
<a name="l00795"></a>00795         <a class="code" href="group__aes__api.html#gaedb4c7e08dd21ec321ebb1df2262f512">AESDataRead</a>(ui32Base, pui32Dest + (ui32Count / 4));
<a name="l00796"></a>00796     }
<a name="l00797"></a>00797 
<a name="l00798"></a>00798     <span class="comment">//</span>
<a name="l00799"></a>00799     <span class="comment">// Return true to indicate successful completion of the function.</span>
<a name="l00800"></a>00800     <span class="comment">//</span>
<a name="l00801"></a>00801     <span class="keywordflow">return</span>(<span class="keyword">true</span>);
<a name="l00802"></a>00802 }
<a name="l00803"></a>00803 
<a name="l00804"></a>00804 <span class="comment">//*****************************************************************************</span>
<a name="l00805"></a>00805 <span class="comment">//</span>
<a name="l00822"></a>00822 <span class="comment"></span><span class="comment">//</span>
<a name="l00823"></a>00823 <span class="comment">//*****************************************************************************</span>
<a name="l00824"></a>00824 <span class="keywordtype">bool</span>
<a name="l00825"></a><a class="code" href="group__aes__api.html#ga871aa2061b26e787de8b38fcf1d725f9">00825</a> <a class="code" href="group__aes__api.html#ga871aa2061b26e787de8b38fcf1d725f9">AESDataAuth</a>(uint32_t ui32Base, uint32_t *pui32Src, uint32_t ui32Length,
<a name="l00826"></a>00826             uint32_t *pui32Tag)
<a name="l00827"></a>00827 {
<a name="l00828"></a>00828     uint32_t ui32Count;
<a name="l00829"></a>00829 
<a name="l00830"></a>00830     <span class="comment">//</span>
<a name="l00831"></a>00831     <span class="comment">// Check the arguments.</span>
<a name="l00832"></a>00832     <span class="comment">//</span>
<a name="l00833"></a>00833     <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#ad099ae8679538f6c00294639d67528bf">AES_BASE</a>);
<a name="l00834"></a>00834 
<a name="l00835"></a>00835     <span class="comment">//</span>
<a name="l00836"></a>00836     <span class="comment">// Write the length register first, which triggers the engine to start</span>
<a name="l00837"></a>00837     <span class="comment">// using this context.</span>
<a name="l00838"></a>00838     <span class="comment">//</span>
<a name="l00839"></a>00839     <a class="code" href="group__aes__api.html#ga884731d9239e9f5313d14b84721cf8f2">AESLengthSet</a>(ui32Base, (uint64_t)ui32Length);
<a name="l00840"></a>00840 
<a name="l00841"></a>00841     <span class="comment">//</span>
<a name="l00842"></a>00842     <span class="comment">// Now loop until the blocks are written.</span>
<a name="l00843"></a>00843     <span class="comment">//</span>
<a name="l00844"></a>00844     <span class="keywordflow">for</span>(ui32Count = 0; ui32Count &lt; ui32Length; ui32Count += 16)
<a name="l00845"></a>00845     {
<a name="l00846"></a>00846         <span class="comment">//</span>
<a name="l00847"></a>00847         <span class="comment">// Write the data registers.</span>
<a name="l00848"></a>00848         <span class="comment">//</span>
<a name="l00849"></a>00849         <a class="code" href="group__aes__api.html#gaece7b2668ed8e5e01353cd42d6cf30ad">AESDataWrite</a>(ui32Base, pui32Src + (ui32Count / 4));
<a name="l00850"></a>00850     }
<a name="l00851"></a>00851 
<a name="l00852"></a>00852     <span class="comment">//</span>
<a name="l00853"></a>00853     <span class="comment">// Read the hash tag value.</span>
<a name="l00854"></a>00854     <span class="comment">//</span>
<a name="l00855"></a>00855     <a class="code" href="group__aes__api.html#gae4d89be99ad0411c6bd99f893ebc40d3">AESTagRead</a>(ui32Base, pui32Tag);
<a name="l00856"></a>00856 
<a name="l00857"></a>00857     <span class="comment">//</span>
<a name="l00858"></a>00858     <span class="comment">// Return true to indicate successful completion of the function.</span>
<a name="l00859"></a>00859     <span class="comment">//</span>
<a name="l00860"></a>00860     <span class="keywordflow">return</span>(<span class="keyword">true</span>);
<a name="l00861"></a>00861 }
<a name="l00862"></a>00862 
<a name="l00863"></a>00863 <span class="comment">//*****************************************************************************</span>
<a name="l00864"></a>00864 <span class="comment">//</span>
<a name="l00889"></a>00889 <span class="comment"></span><span class="comment">//</span>
<a name="l00890"></a>00890 <span class="comment">//*****************************************************************************</span>
<a name="l00891"></a>00891 <span class="keywordtype">bool</span>
<a name="l00892"></a><a class="code" href="group__aes__api.html#ga36b68c8a583c8f64b44398f3cb399ca2">00892</a> <a class="code" href="group__aes__api.html#ga36b68c8a583c8f64b44398f3cb399ca2">AESDataProcessAuth</a>(uint32_t ui32Base, uint32_t *pui32Src,
<a name="l00893"></a>00893                    uint32_t *pui32Dest, uint32_t ui32Length,
<a name="l00894"></a>00894                    uint32_t *pui32AuthSrc, uint32_t ui32AuthLength,
<a name="l00895"></a>00895                    uint32_t *pui32Tag)
<a name="l00896"></a>00896 {
<a name="l00897"></a>00897     uint32_t ui32Count;
<a name="l00898"></a>00898 
<a name="l00899"></a>00899     <span class="comment">//</span>
<a name="l00900"></a>00900     <span class="comment">// Check the arguments.</span>
<a name="l00901"></a>00901     <span class="comment">//</span>
<a name="l00902"></a>00902     <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#ad099ae8679538f6c00294639d67528bf">AES_BASE</a>);
<a name="l00903"></a>00903 
<a name="l00904"></a>00904     <span class="comment">//</span>
<a name="l00905"></a>00905     <span class="comment">// Set the data length.</span>
<a name="l00906"></a>00906     <span class="comment">//</span>
<a name="l00907"></a>00907     <a class="code" href="group__aes__api.html#ga884731d9239e9f5313d14b84721cf8f2">AESLengthSet</a>(ui32Base, (uint64_t)ui32Length);
<a name="l00908"></a>00908 
<a name="l00909"></a>00909     <span class="comment">//</span>
<a name="l00910"></a>00910     <span class="comment">// Set the additional authentication data length.</span>
<a name="l00911"></a>00911     <span class="comment">//</span>
<a name="l00912"></a>00912     <a class="code" href="group__aes__api.html#ga5fa37d394b281d2a4c1ee10e6cbb37a6">AESAuthLengthSet</a>(ui32Base, ui32AuthLength);
<a name="l00913"></a>00913 
<a name="l00914"></a>00914     <span class="comment">//</span>
<a name="l00915"></a>00915     <span class="comment">// Now loop until the authentication data blocks are written.</span>
<a name="l00916"></a>00916     <span class="comment">//</span>
<a name="l00917"></a>00917     <span class="keywordflow">for</span>(ui32Count = 0; ui32Count &lt; ui32AuthLength; ui32Count += 16)
<a name="l00918"></a>00918     {
<a name="l00919"></a>00919         <span class="comment">//</span>
<a name="l00920"></a>00920         <span class="comment">// Write the data registers.</span>
<a name="l00921"></a>00921         <span class="comment">//</span>
<a name="l00922"></a>00922         <a class="code" href="group__aes__api.html#gaece7b2668ed8e5e01353cd42d6cf30ad">AESDataWrite</a>(ui32Base, pui32AuthSrc + (ui32Count / 4));
<a name="l00923"></a>00923     }
<a name="l00924"></a>00924 
<a name="l00925"></a>00925     <span class="comment">//</span>
<a name="l00926"></a>00926     <span class="comment">// Now loop until the data blocks are written.</span>
<a name="l00927"></a>00927     <span class="comment">//</span>
<a name="l00928"></a>00928     <span class="keywordflow">for</span>(ui32Count = 0; ui32Count &lt; ui32Length; ui32Count += 16)
<a name="l00929"></a>00929     {
<a name="l00930"></a>00930         <span class="comment">//</span>
<a name="l00931"></a>00931         <span class="comment">// Write the data registers.</span>
<a name="l00932"></a>00932         <span class="comment">//</span>
<a name="l00933"></a>00933         <a class="code" href="group__aes__api.html#gaece7b2668ed8e5e01353cd42d6cf30ad">AESDataWrite</a>(ui32Base, pui32Src + (ui32Count / 4));
<a name="l00934"></a>00934 
<a name="l00935"></a>00935         <span class="comment">//</span>
<a name="l00936"></a>00936         <span class="comment">//</span>
<a name="l00937"></a>00937         <span class="comment">// Read the data registers.</span>
<a name="l00938"></a>00938         <span class="comment">//</span>
<a name="l00939"></a>00939         <a class="code" href="group__aes__api.html#gaedb4c7e08dd21ec321ebb1df2262f512">AESDataRead</a>(ui32Base, pui32Dest + (ui32Count / 4));
<a name="l00940"></a>00940     }
<a name="l00941"></a>00941 
<a name="l00942"></a>00942     <span class="comment">//</span>
<a name="l00943"></a>00943     <span class="comment">// Read the hash tag value.</span>
<a name="l00944"></a>00944     <span class="comment">//</span>
<a name="l00945"></a>00945     <a class="code" href="group__aes__api.html#gae4d89be99ad0411c6bd99f893ebc40d3">AESTagRead</a>(ui32Base, pui32Tag);
<a name="l00946"></a>00946 
<a name="l00947"></a>00947     <span class="comment">//</span>
<a name="l00948"></a>00948     <span class="comment">// Return true to indicate successful completion of the function.</span>
<a name="l00949"></a>00949     <span class="comment">//</span>
<a name="l00950"></a>00950     <span class="keywordflow">return</span>(<span class="keyword">true</span>);
<a name="l00951"></a>00951 }
<a name="l00952"></a>00952 
<a name="l00953"></a>00953 <span class="comment">//*****************************************************************************</span>
<a name="l00954"></a>00954 <span class="comment">//</span>
<a name="l00973"></a>00973 <span class="comment"></span><span class="comment">//</span>
<a name="l00974"></a>00974 <span class="comment">//*****************************************************************************</span>
<a name="l00975"></a>00975 uint32_t
<a name="l00976"></a><a class="code" href="group__aes__api.html#ga1ae5e28e466cde1c3191292ed8727458">00976</a> <a class="code" href="group__aes__api.html#ga1ae5e28e466cde1c3191292ed8727458">AESIntStatus</a>(uint32_t ui32Base, <span class="keywordtype">bool</span> bMasked)
<a name="l00977"></a>00977 {
<a name="l00978"></a>00978     uint32_t ui32Status, ui32Enable, ui32Temp;
<a name="l00979"></a>00979 
<a name="l00980"></a>00980     <span class="comment">//</span>
<a name="l00981"></a>00981     <span class="comment">// Check the arguments.</span>
<a name="l00982"></a>00982     <span class="comment">//</span>
<a name="l00983"></a>00983     <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#ad099ae8679538f6c00294639d67528bf">AES_BASE</a>);
<a name="l00984"></a>00984 
<a name="l00985"></a>00985     <span class="comment">//</span>
<a name="l00986"></a>00986     <span class="comment">// Read the IRQ status register and return the value.</span>
<a name="l00987"></a>00987     <span class="comment">//</span>
<a name="l00988"></a>00988     ui32Status = <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__aes_8h.html#a13d57761e44a4704c9dd8387d1d3d3ce">AES_O_IRQSTATUS</a>);
<a name="l00989"></a>00989     <span class="keywordflow">if</span>(bMasked)
<a name="l00990"></a>00990     {
<a name="l00991"></a>00991         ui32Enable = <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__aes_8h.html#a7f275724f7a0158e1565cd4e52f1399c">AES_O_IRQENABLE</a>);
<a name="l00992"></a>00992         ui32Temp = <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__aes_8h.html#a049ed25c0b3d69eb2bf757b1c443f604">AES_O_DMAMIS</a>);
<a name="l00993"></a>00993         <span class="keywordflow">return</span>((ui32Status &amp; ui32Enable) |
<a name="l00994"></a>00994                (((ui32Temp &amp; 0x00000001) &lt;&lt; 16) |
<a name="l00995"></a>00995                 ((ui32Temp &amp; 0x00000002) &lt;&lt; 18) |
<a name="l00996"></a>00996                 ((ui32Temp &amp; 0x0000000c) &lt;&lt; 15)));
<a name="l00997"></a>00997     }
<a name="l00998"></a>00998     <span class="keywordflow">else</span>
<a name="l00999"></a>00999     {
<a name="l01000"></a>01000         ui32Temp = <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__aes_8h.html#a213831e79f1537d1b6e79c673b34f35f">AES_O_DMARIS</a>);
<a name="l01001"></a>01001         <span class="keywordflow">return</span>(ui32Status |
<a name="l01002"></a>01002                (((ui32Temp &amp; 0x00000001) &lt;&lt; 16) |
<a name="l01003"></a>01003                 ((ui32Temp &amp; 0x00000002) &lt;&lt; 18) |
<a name="l01004"></a>01004                 ((ui32Temp &amp; 0x0000000c) &lt;&lt; 15)));
<a name="l01005"></a>01005     }
<a name="l01006"></a>01006 }
<a name="l01007"></a>01007 
<a name="l01008"></a>01008 <span class="comment">//*****************************************************************************</span>
<a name="l01009"></a>01009 <span class="comment">//</span>
<a name="l01032"></a>01032 <span class="comment"></span><span class="comment">//</span>
<a name="l01033"></a>01033 <span class="comment">//*****************************************************************************</span>
<a name="l01034"></a>01034 <span class="keywordtype">void</span>
<a name="l01035"></a><a class="code" href="group__aes__api.html#gae933c943f8f4b72b428da4a70f608a7d">01035</a> <a class="code" href="group__aes__api.html#gae933c943f8f4b72b428da4a70f608a7d">AESIntEnable</a>(uint32_t ui32Base, uint32_t ui32IntFlags)
<a name="l01036"></a>01036 {
<a name="l01037"></a>01037     <span class="comment">//</span>
<a name="l01038"></a>01038     <span class="comment">// Check the arguments.</span>
<a name="l01039"></a>01039     <span class="comment">//</span>
<a name="l01040"></a>01040     <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#ad099ae8679538f6c00294639d67528bf">AES_BASE</a>);
<a name="l01041"></a>01041     <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32IntFlags == <a class="code" href="aes_8h.html#a6a9485c56026d28ef0cee0fafc927d3c">AES_INT_CONTEXT_IN</a>) ||
<a name="l01042"></a>01042            (ui32IntFlags == <a class="code" href="aes_8h.html#a6d9ce4fe929455385442af3abb77095f">AES_INT_CONTEXT_OUT</a>) ||
<a name="l01043"></a>01043            (ui32IntFlags == <a class="code" href="aes_8h.html#aac319c6717e02ad68242a709c49e993d">AES_INT_DATA_IN</a>) ||
<a name="l01044"></a>01044            (ui32IntFlags == <a class="code" href="aes_8h.html#a4d0a07f758be95ca11ed6535d4c431eb">AES_INT_DATA_OUT</a>) ||
<a name="l01045"></a>01045            (ui32IntFlags == <a class="code" href="aes_8h.html#afea3e6825fea767617a9592f4030de33">AES_INT_DMA_CONTEXT_IN</a>) ||
<a name="l01046"></a>01046            (ui32IntFlags == <a class="code" href="aes_8h.html#abe3defd49893442bea2a8ff1a0b7f058">AES_INT_DMA_CONTEXT_OUT</a>) ||
<a name="l01047"></a>01047            (ui32IntFlags == <a class="code" href="aes_8h.html#ad7d02fcc93bae09a062e5b1f2fe765ac">AES_INT_DMA_DATA_IN</a>) ||
<a name="l01048"></a>01048            (ui32IntFlags == <a class="code" href="aes_8h.html#a256416a39d757950220cdc549166dd66">AES_INT_DMA_DATA_OUT</a>));
<a name="l01049"></a>01049 
<a name="l01050"></a>01050     <span class="comment">//</span>
<a name="l01051"></a>01051     <span class="comment">// Set the flags.</span>
<a name="l01052"></a>01052     <span class="comment">//</span>
<a name="l01053"></a>01053     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__aes_8h.html#af24c352af65fb6428ad8e3a32a8dc4ae">AES_O_DMAIM</a>) |= (((ui32IntFlags &amp; 0x00010000) &gt;&gt; 16) |
<a name="l01054"></a>01054                                       ((ui32IntFlags &amp; 0x00060000) &gt;&gt; 15) |
<a name="l01055"></a>01055                                       ((ui32IntFlags &amp; 0x00080000) &gt;&gt; 18));
<a name="l01056"></a>01056     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__aes_8h.html#a7f275724f7a0158e1565cd4e52f1399c">AES_O_IRQENABLE</a>) |= ui32IntFlags &amp; 0x0000ffff;
<a name="l01057"></a>01057 }
<a name="l01058"></a>01058 
<a name="l01059"></a>01059 <span class="comment">//*****************************************************************************</span>
<a name="l01060"></a>01060 <span class="comment">//</span>
<a name="l01083"></a>01083 <span class="comment"></span><span class="comment">//</span>
<a name="l01084"></a>01084 <span class="comment">//*****************************************************************************</span>
<a name="l01085"></a>01085 <span class="keywordtype">void</span>
<a name="l01086"></a><a class="code" href="group__aes__api.html#ga4b64d76f37d9aaaf2eabde392c918258">01086</a> <a class="code" href="group__aes__api.html#ga4b64d76f37d9aaaf2eabde392c918258">AESIntDisable</a>(uint32_t ui32Base, uint32_t ui32IntFlags)
<a name="l01087"></a>01087 {
<a name="l01088"></a>01088     <span class="comment">//</span>
<a name="l01089"></a>01089     <span class="comment">// Check the arguments.</span>
<a name="l01090"></a>01090     <span class="comment">//</span>
<a name="l01091"></a>01091     <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#ad099ae8679538f6c00294639d67528bf">AES_BASE</a>);
<a name="l01092"></a>01092     <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32IntFlags == <a class="code" href="aes_8h.html#a6a9485c56026d28ef0cee0fafc927d3c">AES_INT_CONTEXT_IN</a>) ||
<a name="l01093"></a>01093            (ui32IntFlags == <a class="code" href="aes_8h.html#a6d9ce4fe929455385442af3abb77095f">AES_INT_CONTEXT_OUT</a>) ||
<a name="l01094"></a>01094            (ui32IntFlags == <a class="code" href="aes_8h.html#aac319c6717e02ad68242a709c49e993d">AES_INT_DATA_IN</a>) ||
<a name="l01095"></a>01095            (ui32IntFlags == <a class="code" href="aes_8h.html#a4d0a07f758be95ca11ed6535d4c431eb">AES_INT_DATA_OUT</a>) ||
<a name="l01096"></a>01096            (ui32IntFlags == <a class="code" href="aes_8h.html#afea3e6825fea767617a9592f4030de33">AES_INT_DMA_CONTEXT_IN</a>) ||
<a name="l01097"></a>01097            (ui32IntFlags == <a class="code" href="aes_8h.html#abe3defd49893442bea2a8ff1a0b7f058">AES_INT_DMA_CONTEXT_OUT</a>) ||
<a name="l01098"></a>01098            (ui32IntFlags == <a class="code" href="aes_8h.html#ad7d02fcc93bae09a062e5b1f2fe765ac">AES_INT_DMA_DATA_IN</a>) ||
<a name="l01099"></a>01099            (ui32IntFlags == <a class="code" href="aes_8h.html#a256416a39d757950220cdc549166dd66">AES_INT_DMA_DATA_OUT</a>));
<a name="l01100"></a>01100 
<a name="l01101"></a>01101     <span class="comment">//</span>
<a name="l01102"></a>01102     <span class="comment">// Clear the flags.</span>
<a name="l01103"></a>01103     <span class="comment">//</span>
<a name="l01104"></a>01104     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__aes_8h.html#af24c352af65fb6428ad8e3a32a8dc4ae">AES_O_DMAIM</a>) &amp;= ~(((ui32IntFlags &amp; 0x00010000) &gt;&gt; 16) |
<a name="l01105"></a>01105                                        ((ui32IntFlags &amp; 0x00060000) &gt;&gt; 15) |
<a name="l01106"></a>01106                                        ((ui32IntFlags &amp; 0x00080000) &gt;&gt; 18));
<a name="l01107"></a>01107     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__aes_8h.html#a7f275724f7a0158e1565cd4e52f1399c">AES_O_IRQENABLE</a>) &amp;= ~(ui32IntFlags &amp; 0x0000ffff);
<a name="l01108"></a>01108 }
<a name="l01109"></a>01109 
<a name="l01110"></a>01110 <span class="comment">//*****************************************************************************</span>
<a name="l01111"></a>01111 <span class="comment">//</span>
<a name="l01130"></a>01130 <span class="comment"></span><span class="comment">//</span>
<a name="l01131"></a>01131 <span class="comment">//*****************************************************************************</span>
<a name="l01132"></a>01132 <span class="keywordtype">void</span>
<a name="l01133"></a><a class="code" href="group__aes__api.html#gac423252f8748a88509237844f8ded6fd">01133</a> <a class="code" href="group__aes__api.html#gac423252f8748a88509237844f8ded6fd">AESIntClear</a>(uint32_t ui32Base, uint32_t ui32IntFlags)
<a name="l01134"></a>01134 {
<a name="l01135"></a>01135     <span class="comment">//</span>
<a name="l01136"></a>01136     <span class="comment">// Check the arguments.</span>
<a name="l01137"></a>01137     <span class="comment">//</span>
<a name="l01138"></a>01138     <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#ad099ae8679538f6c00294639d67528bf">AES_BASE</a>);
<a name="l01139"></a>01139     <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32IntFlags == <a class="code" href="aes_8h.html#afea3e6825fea767617a9592f4030de33">AES_INT_DMA_CONTEXT_IN</a>) ||
<a name="l01140"></a>01140            (ui32IntFlags == <a class="code" href="aes_8h.html#abe3defd49893442bea2a8ff1a0b7f058">AES_INT_DMA_CONTEXT_OUT</a>) ||
<a name="l01141"></a>01141            (ui32IntFlags == <a class="code" href="aes_8h.html#ad7d02fcc93bae09a062e5b1f2fe765ac">AES_INT_DMA_DATA_IN</a>) ||
<a name="l01142"></a>01142            (ui32IntFlags == <a class="code" href="aes_8h.html#a256416a39d757950220cdc549166dd66">AES_INT_DMA_DATA_OUT</a>));
<a name="l01143"></a>01143 
<a name="l01144"></a>01144     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__aes_8h.html#a52adeca321a63312367662a7fe0e1127">AES_O_DMAIC</a>) = (((ui32IntFlags &amp; 0x00010000) &gt;&gt; 16) |
<a name="l01145"></a>01145                                      ((ui32IntFlags &amp; 0x00060000) &gt;&gt; 15) |
<a name="l01146"></a>01146                                      ((ui32IntFlags &amp; 0x00080000) &gt;&gt; 18));
<a name="l01147"></a>01147 }
<a name="l01148"></a>01148 
<a name="l01149"></a>01149 <span class="comment">//*****************************************************************************</span>
<a name="l01150"></a>01150 <span class="comment">//</span>
<a name="l01172"></a>01172 <span class="comment"></span><span class="comment">//</span>
<a name="l01173"></a>01173 <span class="comment">//*****************************************************************************</span>
<a name="l01174"></a>01174 <span class="keywordtype">void</span>
<a name="l01175"></a><a class="code" href="group__aes__api.html#ga99b80df7ba8623ba6203ff8d034dedbf">01175</a> <a class="code" href="group__aes__api.html#ga99b80df7ba8623ba6203ff8d034dedbf">AESIntRegister</a>(uint32_t ui32Base, <span class="keywordtype">void</span> (*pfnHandler)(<span class="keywordtype">void</span>))
<a name="l01176"></a>01176 {
<a name="l01177"></a>01177     <span class="comment">//</span>
<a name="l01178"></a>01178     <span class="comment">// Check the arguments.</span>
<a name="l01179"></a>01179     <span class="comment">//</span>
<a name="l01180"></a>01180     <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#ad099ae8679538f6c00294639d67528bf">AES_BASE</a>);
<a name="l01181"></a>01181 
<a name="l01182"></a>01182     <span class="comment">//</span>
<a name="l01183"></a>01183     <span class="comment">// Register the interrupt handler.</span>
<a name="l01184"></a>01184     <span class="comment">//</span>
<a name="l01185"></a>01185     <a class="code" href="group__interrupt__api.html#ga0a32aafea7f4904d2a64ee18b45f96c9">IntRegister</a>(<a class="code" href="hw__ints_8h.html#a1bbfb1df06788d11ac98027545ebd81b">INT_AES0_TM4C129</a>, pfnHandler);
<a name="l01186"></a>01186 
<a name="l01187"></a>01187     <span class="comment">//</span>
<a name="l01188"></a>01188     <span class="comment">// Enable the interrupt</span>
<a name="l01189"></a>01189     <span class="comment">//</span>
<a name="l01190"></a>01190     <a class="code" href="group__interrupt__api.html#ga49fc9c3d1a0f8c42a20249f8c5d360ce">IntEnable</a>(<a class="code" href="hw__ints_8h.html#a1bbfb1df06788d11ac98027545ebd81b">INT_AES0_TM4C129</a>);
<a name="l01191"></a>01191 }
<a name="l01192"></a>01192 
<a name="l01193"></a>01193 <span class="comment">//*****************************************************************************</span>
<a name="l01194"></a>01194 <span class="comment">//</span>
<a name="l01206"></a>01206 <span class="comment"></span><span class="comment">//</span>
<a name="l01207"></a>01207 <span class="comment">//*****************************************************************************</span>
<a name="l01208"></a>01208 <span class="keywordtype">void</span>
<a name="l01209"></a><a class="code" href="group__aes__api.html#ga7a007590d2a9f0230b5359688b993121">01209</a> <a class="code" href="group__aes__api.html#ga7a007590d2a9f0230b5359688b993121">AESIntUnregister</a>(uint32_t ui32Base)
<a name="l01210"></a>01210 {
<a name="l01211"></a>01211     <span class="comment">//</span>
<a name="l01212"></a>01212     <span class="comment">// Check the arguments.</span>
<a name="l01213"></a>01213     <span class="comment">//</span>
<a name="l01214"></a>01214     <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#ad099ae8679538f6c00294639d67528bf">AES_BASE</a>);
<a name="l01215"></a>01215 
<a name="l01216"></a>01216     <span class="comment">//</span>
<a name="l01217"></a>01217     <span class="comment">// Disable the interrupt.</span>
<a name="l01218"></a>01218     <span class="comment">//</span>
<a name="l01219"></a>01219     <a class="code" href="group__interrupt__api.html#ga9af6b00884dc44e92b3d05ff821b5334">IntDisable</a>(<a class="code" href="hw__ints_8h.html#a1bbfb1df06788d11ac98027545ebd81b">INT_AES0_TM4C129</a>);
<a name="l01220"></a>01220 
<a name="l01221"></a>01221     <span class="comment">//</span>
<a name="l01222"></a>01222     <span class="comment">// Unregister the interrupt handler.</span>
<a name="l01223"></a>01223     <span class="comment">//</span>
<a name="l01224"></a>01224     <a class="code" href="group__interrupt__api.html#ga5dffc81c27c005f83e9bfc30f775982a">IntUnregister</a>(<a class="code" href="hw__ints_8h.html#a1bbfb1df06788d11ac98027545ebd81b">INT_AES0_TM4C129</a>);
<a name="l01225"></a>01225 }
<a name="l01226"></a>01226 
<a name="l01227"></a>01227 <span class="comment">//*****************************************************************************</span>
<a name="l01228"></a>01228 <span class="comment">//</span>
<a name="l01243"></a>01243 <span class="comment"></span><span class="comment">//</span>
<a name="l01244"></a>01244 <span class="comment">//*****************************************************************************</span>
<a name="l01245"></a>01245 <span class="keywordtype">void</span>
<a name="l01246"></a><a class="code" href="group__aes__api.html#ga55e2b4c87a8e612d7ed4de256ffe25ff">01246</a> <a class="code" href="group__aes__api.html#ga55e2b4c87a8e612d7ed4de256ffe25ff">AESDMAEnable</a>(uint32_t ui32Base, uint32_t ui32Flags)
<a name="l01247"></a>01247 {
<a name="l01248"></a>01248     <span class="comment">//</span>
<a name="l01249"></a>01249     <span class="comment">// Check the arguments.</span>
<a name="l01250"></a>01250     <span class="comment">//</span>
<a name="l01251"></a>01251     <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#ad099ae8679538f6c00294639d67528bf">AES_BASE</a>);
<a name="l01252"></a>01252     <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32Flags == <a class="code" href="aes_8h.html#ac548d52095cf103b8926f3533ecbc577">AES_DMA_DATA_IN</a>) ||
<a name="l01253"></a>01253            (ui32Flags == <a class="code" href="aes_8h.html#a57fa98807369797318a1418881e41c63">AES_DMA_DATA_OUT</a>) ||
<a name="l01254"></a>01254            (ui32Flags == <a class="code" href="aes_8h.html#a8da716d10e5ae1b9a2565585e3248f5b">AES_DMA_CONTEXT_IN</a>) ||
<a name="l01255"></a>01255            (ui32Flags == <a class="code" href="aes_8h.html#a84e226421964a2eebfd38b7508ae1269">AES_DMA_CONTEXT_OUT</a>));
<a name="l01256"></a>01256 
<a name="l01257"></a>01257     <span class="comment">//</span>
<a name="l01258"></a>01258     <span class="comment">// Set the flags in the current register value.</span>
<a name="l01259"></a>01259     <span class="comment">//</span>
<a name="l01260"></a>01260     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__aes_8h.html#a8b429266b1bf419f810b4fa44bd55442">AES_O_SYSCONFIG</a>) |= ui32Flags;
<a name="l01261"></a>01261 }
<a name="l01262"></a>01262 
<a name="l01263"></a>01263 <span class="comment">//*****************************************************************************</span>
<a name="l01264"></a>01264 <span class="comment">//</span>
<a name="l01280"></a>01280 <span class="comment"></span><span class="comment">//</span>
<a name="l01281"></a>01281 <span class="comment">//*****************************************************************************</span>
<a name="l01282"></a>01282 <span class="keywordtype">void</span>
<a name="l01283"></a><a class="code" href="group__aes__api.html#ga4bfe1c7b7898ede9f2ec8b5418f1afcf">01283</a> <a class="code" href="group__aes__api.html#ga4bfe1c7b7898ede9f2ec8b5418f1afcf">AESDMADisable</a>(uint32_t ui32Base, uint32_t ui32Flags)
<a name="l01284"></a>01284 {
<a name="l01285"></a>01285     <span class="comment">//</span>
<a name="l01286"></a>01286     <span class="comment">// Check the arguments.</span>
<a name="l01287"></a>01287     <span class="comment">//</span>
<a name="l01288"></a>01288     <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#ad099ae8679538f6c00294639d67528bf">AES_BASE</a>);
<a name="l01289"></a>01289     <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32Flags == <a class="code" href="aes_8h.html#ac548d52095cf103b8926f3533ecbc577">AES_DMA_DATA_IN</a>) ||
<a name="l01290"></a>01290            (ui32Flags == <a class="code" href="aes_8h.html#a57fa98807369797318a1418881e41c63">AES_DMA_DATA_OUT</a>) ||
<a name="l01291"></a>01291            (ui32Flags == <a class="code" href="aes_8h.html#a8da716d10e5ae1b9a2565585e3248f5b">AES_DMA_CONTEXT_IN</a>) ||
<a name="l01292"></a>01292            (ui32Flags == <a class="code" href="aes_8h.html#a84e226421964a2eebfd38b7508ae1269">AES_DMA_CONTEXT_OUT</a>));
<a name="l01293"></a>01293 
<a name="l01294"></a>01294     <span class="comment">//</span>
<a name="l01295"></a>01295     <span class="comment">// Clear the flags in the current register value.</span>
<a name="l01296"></a>01296     <span class="comment">//</span>
<a name="l01297"></a>01297     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__aes_8h.html#a8b429266b1bf419f810b4fa44bd55442">AES_O_SYSCONFIG</a>) &amp;= ~ui32Flags;
<a name="l01298"></a>01298 }
<a name="l01299"></a>01299 
<a name="l01300"></a>01300 <span class="comment">//*****************************************************************************</span>
<a name="l01301"></a>01301 <span class="comment">//</span>
<a name="l01302"></a>01302 <span class="comment">// Close the Doxygen group.</span>
<a name="l01304"></a>01304 <span class="comment"></span><span class="comment">//</span>
<a name="l01305"></a>01305 <span class="comment">//*****************************************************************************</span>
</pre></div></div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="aes_8c.html">aes.c</a>      </li>

    <li class="footer">Generated on Tue Jan 27 2015 22:34:52 for EE445M Real Time Operating Systems by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
