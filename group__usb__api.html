<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>EE445M RTOS: Usb_api</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">EE445M RTOS
   </div>
   <div id="projectbrief">Taken at the University of Texas Spring 2015</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__usb__api.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Usb_api</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga30003dae047f43963cd6ba85ae6f0689"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#ga30003dae047f43963cd6ba85ae6f0689">USB_INTEP_RX_SHIFT</a>&#160;&#160;&#160;16</td></tr>
<tr class="separator:ga30003dae047f43963cd6ba85ae6f0689"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga20ceb718c0b5bea3d8b0a8d89919160c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#ga20ceb718c0b5bea3d8b0a8d89919160c">USB_RX_EPSTATUS_SHIFT</a>&#160;&#160;&#160;16</td></tr>
<tr class="separator:ga20ceb718c0b5bea3d8b0a8d89919160c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaadf74b0caf840f0d3222cb1dc563684c"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a>(Endpoint)&#160;&#160;&#160;(Endpoint - 0x10)</td></tr>
<tr class="separator:gaadf74b0caf840f0d3222cb1dc563684c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gad79a9385143d09823224d3715f63e412"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#gad79a9385143d09823224d3715f63e412">_USBIndexWrite</a> (uint32_t ui32Base, uint32_t ui32Endpoint, uint32_t ui32IndexedReg, uint32_t ui32Value, uint32_t ui32Size)</td></tr>
<tr class="separator:gad79a9385143d09823224d3715f63e412"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac3b3f5b56ebdcc078407fd787afcafae"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#gac3b3f5b56ebdcc078407fd787afcafae">_USBIndexRead</a> (uint32_t ui32Base, uint32_t ui32Endpoint, uint32_t ui32IndexedReg, uint32_t ui32Size)</td></tr>
<tr class="separator:gac3b3f5b56ebdcc078407fd787afcafae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf63de77efc2ce0912a4be7e5970d6888"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#gaf63de77efc2ce0912a4be7e5970d6888">USBHostSuspend</a> (uint32_t ui32Base)</td></tr>
<tr class="separator:gaf63de77efc2ce0912a4be7e5970d6888"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5855c6aac27d3f867721c70176d57b8d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#ga5855c6aac27d3f867721c70176d57b8d">USBHostReset</a> (uint32_t ui32Base, bool bStart)</td></tr>
<tr class="separator:ga5855c6aac27d3f867721c70176d57b8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaa314fd6805d04b88687890d35de2706"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#gaaa314fd6805d04b88687890d35de2706">USBHighSpeed</a> (uint32_t ui32Base, bool bEnable)</td></tr>
<tr class="separator:gaaa314fd6805d04b88687890d35de2706"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga19c9936d7b17cd81b5b4969769e5b6c9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#ga19c9936d7b17cd81b5b4969769e5b6c9">USBHostResume</a> (uint32_t ui32Base, bool bStart)</td></tr>
<tr class="separator:ga19c9936d7b17cd81b5b4969769e5b6c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga13ea6df3582326aeb9b234f15657ed7f"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#ga13ea6df3582326aeb9b234f15657ed7f">USBHostSpeedGet</a> (uint32_t ui32Base)</td></tr>
<tr class="separator:ga13ea6df3582326aeb9b234f15657ed7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4b4e8eecc32eacd26ffbada0f618263f"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#ga4b4e8eecc32eacd26ffbada0f618263f">USBDevSpeedGet</a> (uint32_t ui32Base)</td></tr>
<tr class="separator:ga4b4e8eecc32eacd26ffbada0f618263f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gace8dc370774ff8b09997378277e13041"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#gace8dc370774ff8b09997378277e13041">USBIntDisableControl</a> (uint32_t ui32Base, uint32_t ui32Flags)</td></tr>
<tr class="separator:gace8dc370774ff8b09997378277e13041"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1d07b07b2ca977373308380f92c6747f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#ga1d07b07b2ca977373308380f92c6747f">USBIntEnableControl</a> (uint32_t ui32Base, uint32_t ui32Flags)</td></tr>
<tr class="separator:ga1d07b07b2ca977373308380f92c6747f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaeb586119918265fd5f02fc7574549547"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#gaeb586119918265fd5f02fc7574549547">USBIntStatusControl</a> (uint32_t ui32Base)</td></tr>
<tr class="separator:gaeb586119918265fd5f02fc7574549547"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga426a977426ab190b6bb5b0938eb73976"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#ga426a977426ab190b6bb5b0938eb73976">USBIntDisableEndpoint</a> (uint32_t ui32Base, uint32_t ui32Flags)</td></tr>
<tr class="separator:ga426a977426ab190b6bb5b0938eb73976"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga37a65b0b311de6869aeba2b25f7c4c29"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#ga37a65b0b311de6869aeba2b25f7c4c29">USBIntEnableEndpoint</a> (uint32_t ui32Base, uint32_t ui32Flags)</td></tr>
<tr class="separator:ga37a65b0b311de6869aeba2b25f7c4c29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadff57e2a9e63a8be23c935de236477e1"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#gadff57e2a9e63a8be23c935de236477e1">USBIntStatusEndpoint</a> (uint32_t ui32Base)</td></tr>
<tr class="separator:gadff57e2a9e63a8be23c935de236477e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac630e5bea6974c6d98f789ccc05d2559"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#gac630e5bea6974c6d98f789ccc05d2559">_USBIntNumberGet</a> (uint32_t ui32Base)</td></tr>
<tr class="separator:gac630e5bea6974c6d98f789ccc05d2559"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa8a3b5d7dd0c767873b1d42a5b40aa67"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#gaa8a3b5d7dd0c767873b1d42a5b40aa67">USBIntRegister</a> (uint32_t ui32Base, void(*pfnHandler)(void))</td></tr>
<tr class="separator:gaa8a3b5d7dd0c767873b1d42a5b40aa67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga52446b27aa21e19ab5e81b552f50eb92"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#ga52446b27aa21e19ab5e81b552f50eb92">USBIntUnregister</a> (uint32_t ui32Base)</td></tr>
<tr class="separator:ga52446b27aa21e19ab5e81b552f50eb92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2320e3a284b3b809d6dab77def7dfe49"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#ga2320e3a284b3b809d6dab77def7dfe49">USBEndpointStatus</a> (uint32_t ui32Base, uint32_t ui32Endpoint)</td></tr>
<tr class="separator:ga2320e3a284b3b809d6dab77def7dfe49"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa6c7268ab8985502d6db54c2773614e3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#gaa6c7268ab8985502d6db54c2773614e3">USBHostEndpointStatusClear</a> (uint32_t ui32Base, uint32_t ui32Endpoint, uint32_t ui32Flags)</td></tr>
<tr class="separator:gaa6c7268ab8985502d6db54c2773614e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga86b9ed2def63c841765968898d6e19e8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#ga86b9ed2def63c841765968898d6e19e8">USBDevEndpointStatusClear</a> (uint32_t ui32Base, uint32_t ui32Endpoint, uint32_t ui32Flags)</td></tr>
<tr class="separator:ga86b9ed2def63c841765968898d6e19e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae8dcd09dc4a8d5485ca668a10ae206bf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#gae8dcd09dc4a8d5485ca668a10ae206bf">USBHostEndpointDataToggle</a> (uint32_t ui32Base, uint32_t ui32Endpoint, bool bDataToggle, uint32_t ui32Flags)</td></tr>
<tr class="separator:gae8dcd09dc4a8d5485ca668a10ae206bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1c823a10fa83951546f0824a4f29fee5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#ga1c823a10fa83951546f0824a4f29fee5">USBEndpointDataToggleClear</a> (uint32_t ui32Base, uint32_t ui32Endpoint, uint32_t ui32Flags)</td></tr>
<tr class="separator:ga1c823a10fa83951546f0824a4f29fee5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga03847418c00f8609f406a753bbc10f12"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#ga03847418c00f8609f406a753bbc10f12">USBHostEndpointPing</a> (uint32_t ui32Base, uint32_t ui32Endpoint, bool bEnable)</td></tr>
<tr class="separator:ga03847418c00f8609f406a753bbc10f12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga168e327aa696b75fa46363f5c6e8530e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#ga168e327aa696b75fa46363f5c6e8530e">USBDevEndpointStall</a> (uint32_t ui32Base, uint32_t ui32Endpoint, uint32_t ui32Flags)</td></tr>
<tr class="separator:ga168e327aa696b75fa46363f5c6e8530e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5994707f1b0acbc57d3c1bbc6e2483f0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#ga5994707f1b0acbc57d3c1bbc6e2483f0">USBDevEndpointStallClear</a> (uint32_t ui32Base, uint32_t ui32Endpoint, uint32_t ui32Flags)</td></tr>
<tr class="separator:ga5994707f1b0acbc57d3c1bbc6e2483f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab60e93390009b01e2e6934e6dda3f94d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#gab60e93390009b01e2e6934e6dda3f94d">USBDevConnect</a> (uint32_t ui32Base)</td></tr>
<tr class="separator:gab60e93390009b01e2e6934e6dda3f94d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab6d43280f582f4a34aa5c26cf1f87e62"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#gab6d43280f582f4a34aa5c26cf1f87e62">USBDevDisconnect</a> (uint32_t ui32Base)</td></tr>
<tr class="separator:gab6d43280f582f4a34aa5c26cf1f87e62"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaceb9c8a1e98f690beeabf1bdc193db31"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#gaceb9c8a1e98f690beeabf1bdc193db31">USBDevAddrSet</a> (uint32_t ui32Base, uint32_t ui32Address)</td></tr>
<tr class="separator:gaceb9c8a1e98f690beeabf1bdc193db31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadf0186afcf2fa5192b9701be4b3224c3"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#gadf0186afcf2fa5192b9701be4b3224c3">USBDevAddrGet</a> (uint32_t ui32Base)</td></tr>
<tr class="separator:gadf0186afcf2fa5192b9701be4b3224c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga27c1e1dc9de6db51b766d39694cb7ffb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#ga27c1e1dc9de6db51b766d39694cb7ffb">USBHostEndpointConfig</a> (uint32_t ui32Base, uint32_t ui32Endpoint, uint32_t ui32MaxPayload, uint32_t ui32NAKPollInterval, uint32_t ui32TargetEndpoint, uint32_t ui32Flags)</td></tr>
<tr class="separator:ga27c1e1dc9de6db51b766d39694cb7ffb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3dd3bac2941ff16170cc162ac5dc56e7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#ga3dd3bac2941ff16170cc162ac5dc56e7">USBHostEndpointSpeed</a> (uint32_t ui32Base, uint32_t ui32Endpoint, uint32_t ui32Flags)</td></tr>
<tr class="separator:ga3dd3bac2941ff16170cc162ac5dc56e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga01a7ebd9276d10d86358d5fcc945d35c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#ga01a7ebd9276d10d86358d5fcc945d35c">USBDevEndpointConfigSet</a> (uint32_t ui32Base, uint32_t ui32Endpoint, uint32_t ui32MaxPacketSize, uint32_t ui32Flags)</td></tr>
<tr class="separator:ga01a7ebd9276d10d86358d5fcc945d35c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac2e45712bd23adbcbe650b8cb2a3e4d9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#gac2e45712bd23adbcbe650b8cb2a3e4d9">USBDevEndpointConfigGet</a> (uint32_t ui32Base, uint32_t ui32Endpoint, uint32_t *pui32MaxPacketSize, uint32_t *pui32Flags)</td></tr>
<tr class="separator:gac2e45712bd23adbcbe650b8cb2a3e4d9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8177751d5f16390d8d6c5f10df790114"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#ga8177751d5f16390d8d6c5f10df790114">USBFIFOConfigSet</a> (uint32_t ui32Base, uint32_t ui32Endpoint, uint32_t ui32FIFOAddress, uint32_t ui32FIFOSize, uint32_t ui32Flags)</td></tr>
<tr class="separator:ga8177751d5f16390d8d6c5f10df790114"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafe99418aac4282546bca96be57580ec1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#gafe99418aac4282546bca96be57580ec1">USBFIFOConfigGet</a> (uint32_t ui32Base, uint32_t ui32Endpoint, uint32_t *pui32FIFOAddress, uint32_t *pui32FIFOSize, uint32_t ui32Flags)</td></tr>
<tr class="separator:gafe99418aac4282546bca96be57580ec1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga556aca2133c892662883dd8b9577430e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#ga556aca2133c892662883dd8b9577430e">USBEndpointDMAConfigSet</a> (uint32_t ui32Base, uint32_t ui32Endpoint, uint32_t ui32Config)</td></tr>
<tr class="separator:ga556aca2133c892662883dd8b9577430e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad067c05a3f666bfb42400c8fef3c755b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#gad067c05a3f666bfb42400c8fef3c755b">USBEndpointDMAEnable</a> (uint32_t ui32Base, uint32_t ui32Endpoint, uint32_t ui32Flags)</td></tr>
<tr class="separator:gad067c05a3f666bfb42400c8fef3c755b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae14b016b39b362515fe7d55abd451566"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#gae14b016b39b362515fe7d55abd451566">USBEndpointDMADisable</a> (uint32_t ui32Base, uint32_t ui32Endpoint, uint32_t ui32Flags)</td></tr>
<tr class="separator:gae14b016b39b362515fe7d55abd451566"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1ec6376b4d4091ccd5366444cc15d0c6"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#ga1ec6376b4d4091ccd5366444cc15d0c6">USBEndpointDataAvail</a> (uint32_t ui32Base, uint32_t ui32Endpoint)</td></tr>
<tr class="separator:ga1ec6376b4d4091ccd5366444cc15d0c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab4dc6edbe6814f85a1abd2234693f6b2"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#gab4dc6edbe6814f85a1abd2234693f6b2">USBEndpointDataGet</a> (uint32_t ui32Base, uint32_t ui32Endpoint, uint8_t *pui8Data, uint32_t *pui32Size)</td></tr>
<tr class="separator:gab4dc6edbe6814f85a1abd2234693f6b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab842492063a5b2e7ae08b2c8115b6506"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#gab842492063a5b2e7ae08b2c8115b6506">USBDevEndpointDataAck</a> (uint32_t ui32Base, uint32_t ui32Endpoint, bool bIsLastPacket)</td></tr>
<tr class="separator:gab842492063a5b2e7ae08b2c8115b6506"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga74649d54e3b6af8aee335bc3ee13dacb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#ga74649d54e3b6af8aee335bc3ee13dacb">USBHostEndpointDataAck</a> (uint32_t ui32Base, uint32_t ui32Endpoint)</td></tr>
<tr class="separator:ga74649d54e3b6af8aee335bc3ee13dacb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab30e36a23c89c23568a763065509e4c8"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#gab30e36a23c89c23568a763065509e4c8">USBEndpointDataPut</a> (uint32_t ui32Base, uint32_t ui32Endpoint, uint8_t *pui8Data, uint32_t ui32Size)</td></tr>
<tr class="separator:gab30e36a23c89c23568a763065509e4c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7097f6c4f044d18964292fbefe45fa9b"><td class="memItemLeft" align="right" valign="top">int32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#ga7097f6c4f044d18964292fbefe45fa9b">USBEndpointDataSend</a> (uint32_t ui32Base, uint32_t ui32Endpoint, uint32_t ui32TransType)</td></tr>
<tr class="separator:ga7097f6c4f044d18964292fbefe45fa9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf777132a773a420b29d7a2cde975bc2e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#gaf777132a773a420b29d7a2cde975bc2e">USBFIFOFlush</a> (uint32_t ui32Base, uint32_t ui32Endpoint, uint32_t ui32Flags)</td></tr>
<tr class="separator:gaf777132a773a420b29d7a2cde975bc2e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4b68522ae4b5418b0184654c2db9b708"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#ga4b68522ae4b5418b0184654c2db9b708">USBHostRequestIN</a> (uint32_t ui32Base, uint32_t ui32Endpoint)</td></tr>
<tr class="separator:ga4b68522ae4b5418b0184654c2db9b708"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7c0409d4474303eb1b4c2dc50ea7e25e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#ga7c0409d4474303eb1b4c2dc50ea7e25e">USBHostRequestINClear</a> (uint32_t ui32Base, uint32_t ui32Endpoint)</td></tr>
<tr class="separator:ga7c0409d4474303eb1b4c2dc50ea7e25e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab86cfa671692d2343d83d38e1b127110"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#gab86cfa671692d2343d83d38e1b127110">USBHostRequestStatus</a> (uint32_t ui32Base)</td></tr>
<tr class="separator:gab86cfa671692d2343d83d38e1b127110"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab9773f7e195858151afba772a7380cbc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#gab9773f7e195858151afba772a7380cbc">USBHostAddrSet</a> (uint32_t ui32Base, uint32_t ui32Endpoint, uint32_t ui32Addr, uint32_t ui32Flags)</td></tr>
<tr class="separator:gab9773f7e195858151afba772a7380cbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga34627542f5b991a0e0e21f4bb414756a"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#ga34627542f5b991a0e0e21f4bb414756a">USBHostAddrGet</a> (uint32_t ui32Base, uint32_t ui32Endpoint, uint32_t ui32Flags)</td></tr>
<tr class="separator:ga34627542f5b991a0e0e21f4bb414756a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2feb9ed9cfb39b7e18fd8bd41173204b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#ga2feb9ed9cfb39b7e18fd8bd41173204b">USBHostHubAddrSet</a> (uint32_t ui32Base, uint32_t ui32Endpoint, uint32_t ui32Addr, uint32_t ui32Flags)</td></tr>
<tr class="separator:ga2feb9ed9cfb39b7e18fd8bd41173204b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga60b492df8f7282997281a43aaaef8ede"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#ga60b492df8f7282997281a43aaaef8ede">USBHostHubAddrGet</a> (uint32_t ui32Base, uint32_t ui32Endpoint, uint32_t ui32Flags)</td></tr>
<tr class="separator:ga60b492df8f7282997281a43aaaef8ede"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga90735e34d119913552eaed9a158fd5e8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#ga90735e34d119913552eaed9a158fd5e8">USBHostPwrConfig</a> (uint32_t ui32Base, uint32_t ui32Flags)</td></tr>
<tr class="separator:ga90735e34d119913552eaed9a158fd5e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1b5c7a9f4113a0d441f4783cf45ea4dd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#ga1b5c7a9f4113a0d441f4783cf45ea4dd">USBHostPwrFaultEnable</a> (uint32_t ui32Base)</td></tr>
<tr class="separator:ga1b5c7a9f4113a0d441f4783cf45ea4dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4e50f9b8b9a7216f380c49d25ae8a33a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#ga4e50f9b8b9a7216f380c49d25ae8a33a">USBHostPwrFaultDisable</a> (uint32_t ui32Base)</td></tr>
<tr class="separator:ga4e50f9b8b9a7216f380c49d25ae8a33a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4b05c7e12cf63f6f142f62accc3afed0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#ga4b05c7e12cf63f6f142f62accc3afed0">USBHostPwrEnable</a> (uint32_t ui32Base)</td></tr>
<tr class="separator:ga4b05c7e12cf63f6f142f62accc3afed0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga146f4ef7b4cf29088c54ec55e0974cda"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#ga146f4ef7b4cf29088c54ec55e0974cda">USBHostPwrDisable</a> (uint32_t ui32Base)</td></tr>
<tr class="separator:ga146f4ef7b4cf29088c54ec55e0974cda"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga30c2dc9dcfaac025b60fcaf00c57097f"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#ga30c2dc9dcfaac025b60fcaf00c57097f">USBFrameNumberGet</a> (uint32_t ui32Base)</td></tr>
<tr class="separator:ga30c2dc9dcfaac025b60fcaf00c57097f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga85df919e2dd18076d86458974f996637"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#ga85df919e2dd18076d86458974f996637">USBOTGSessionRequest</a> (uint32_t ui32Base, bool bStart)</td></tr>
<tr class="separator:ga85df919e2dd18076d86458974f996637"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga944d0d00849b464a25e5ebdf567770ba"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#ga944d0d00849b464a25e5ebdf567770ba">USBFIFOAddrGet</a> (uint32_t ui32Base, uint32_t ui32Endpoint)</td></tr>
<tr class="separator:ga944d0d00849b464a25e5ebdf567770ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2b6e9d96726ca645ea7a6c441d68448a"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#ga2b6e9d96726ca645ea7a6c441d68448a">USBModeGet</a> (uint32_t ui32Base)</td></tr>
<tr class="separator:ga2b6e9d96726ca645ea7a6c441d68448a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4ad24e5522d0548200961944c3c16f38"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#ga4ad24e5522d0548200961944c3c16f38">USBEndpointDMAChannel</a> (uint32_t ui32Base, uint32_t ui32Endpoint, uint32_t ui32Channel)</td></tr>
<tr class="separator:ga4ad24e5522d0548200961944c3c16f38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadaafef23f5f494492e13c3da006066eb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#gadaafef23f5f494492e13c3da006066eb">USBHostMode</a> (uint32_t ui32Base)</td></tr>
<tr class="separator:gadaafef23f5f494492e13c3da006066eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga70dd112775656bd83ad8dc75ed5c53cb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#ga70dd112775656bd83ad8dc75ed5c53cb">USBDevMode</a> (uint32_t ui32Base)</td></tr>
<tr class="separator:ga70dd112775656bd83ad8dc75ed5c53cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5328494d85a3f61060e56808c0087658"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#ga5328494d85a3f61060e56808c0087658">USBOTGMode</a> (uint32_t ui32Base)</td></tr>
<tr class="separator:ga5328494d85a3f61060e56808c0087658"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga59f7d3338ddae125835a82d309ef1afb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#ga59f7d3338ddae125835a82d309ef1afb">USBModeConfig</a> (uint32_t ui32Base, uint32_t ui32Mode)</td></tr>
<tr class="separator:ga59f7d3338ddae125835a82d309ef1afb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabeb297785befec9754fb8b7631f6cff2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#gabeb297785befec9754fb8b7631f6cff2">USBPHYPowerOff</a> (uint32_t ui32Base)</td></tr>
<tr class="separator:gabeb297785befec9754fb8b7631f6cff2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6e6796f56dcd3b3ad2d1bece227a24fa"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#ga6e6796f56dcd3b3ad2d1bece227a24fa">USBPHYPowerOn</a> (uint32_t ui32Base)</td></tr>
<tr class="separator:ga6e6796f56dcd3b3ad2d1bece227a24fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf9b6a832b2d6b92b57b82410067f7c9c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#gaf9b6a832b2d6b92b57b82410067f7c9c">USBEndpointPacketCountSet</a> (uint32_t ui32Base, uint32_t ui32Endpoint, uint32_t ui32Count)</td></tr>
<tr class="separator:gaf9b6a832b2d6b92b57b82410067f7c9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaaf870f0f6bb1916492437ea94c29ae06"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#gaaf870f0f6bb1916492437ea94c29ae06">USBNumEndpointsGet</a> (uint32_t ui32Base)</td></tr>
<tr class="separator:gaaf870f0f6bb1916492437ea94c29ae06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9177418f61b680b2b639a1d7e05f7254"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#ga9177418f61b680b2b639a1d7e05f7254">USBControllerVersion</a> (uint32_t ui32Base)</td></tr>
<tr class="separator:ga9177418f61b680b2b639a1d7e05f7254"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga60145c2e06aa8d7cce86daf655a29e15"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#ga60145c2e06aa8d7cce86daf655a29e15">USBClockEnable</a> (uint32_t ui32Base, uint32_t ui32Div, uint32_t ui32Flags)</td></tr>
<tr class="separator:ga60145c2e06aa8d7cce86daf655a29e15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4237d0e76267e32db07a091b9ee1a7d7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__usb__api.html#ga4237d0e76267e32db07a091b9ee1a7d7">USBClockDisable</a> (uint32_t ui32Base)</td></tr>
<tr class="separator:ga4237d0e76267e32db07a091b9ee1a7d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="gaadf74b0caf840f0d3222cb1dc563684c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EP_OFFSET</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">Endpoint</td><td>)</td>
          <td>&#160;&#160;&#160;(Endpoint - 0x10)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="usb_8c_source.html#l00082">82</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>Referenced by <a class="el" href="usb_8c_source.html#l02213">USBDevEndpointConfigGet()</a>, <a class="el" href="usb_8c_source.html#l02053">USBDevEndpointConfigSet()</a>, <a class="el" href="usb_8c_source.html#l02896">USBDevEndpointDataAck()</a>, <a class="el" href="usb_8c_source.html#l01369">USBDevEndpointStall()</a>, <a class="el" href="usb_8c_source.html#l01431">USBDevEndpointStallClear()</a>, <a class="el" href="usb_8c_source.html#l01089">USBDevEndpointStatusClear()</a>, <a class="el" href="usb_8c_source.html#l02730">USBEndpointDataAvail()</a>, <a class="el" href="usb_8c_source.html#l02794">USBEndpointDataGet()</a>, <a class="el" href="usb_8c_source.html#l01268">USBEndpointDataToggleClear()</a>, <a class="el" href="usb_8c_source.html#l02574">USBEndpointDMAConfigSet()</a>, <a class="el" href="usb_8c_source.html#l02687">USBEndpointDMADisable()</a>, <a class="el" href="usb_8c_source.html#l02647">USBEndpointDMAEnable()</a>, <a class="el" href="usb_8c_source.html#l00994">USBEndpointStatus()</a>, <a class="el" href="usb_8c_source.html#l03144">USBFIFOFlush()</a>, <a class="el" href="usb_8c_source.html#l01680">USBHostEndpointConfig()</a>, <a class="el" href="usb_8c_source.html#l02947">USBHostEndpointDataAck()</a>, <a class="el" href="usb_8c_source.html#l01173">USBHostEndpointDataToggle()</a>, <a class="el" href="usb_8c_source.html#l01940">USBHostEndpointSpeed()</a>, <a class="el" href="usb_8c_source.html#l01043">USBHostEndpointStatusClear()</a>, <a class="el" href="usb_8c_source.html#l03228">USBHostRequestIN()</a>, and <a class="el" href="usb_8c_source.html#l03278">USBHostRequestINClear()</a>.</p>

</div>
</div>
<a class="anchor" id="ga30003dae047f43963cd6ba85ae6f0689"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USB_INTEP_RX_SHIFT&#160;&#160;&#160;16</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="usb_8c_source.html#l00066">66</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>Referenced by <a class="el" href="usb_8c_source.html#l00702">USBIntDisableEndpoint()</a>, <a class="el" href="usb_8c_source.html#l00742">USBIntEnableEndpoint()</a>, and <a class="el" href="usb_8c_source.html#l00783">USBIntStatusEndpoint()</a>.</p>

</div>
</div>
<a class="anchor" id="ga20ceb718c0b5bea3d8b0a8d89919160c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define USB_RX_EPSTATUS_SHIFT&#160;&#160;&#160;16</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="usb_8c_source.html#l00074">74</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>Referenced by <a class="el" href="usb_8c_source.html#l01089">USBDevEndpointStatusClear()</a>, <a class="el" href="usb_8c_source.html#l00994">USBEndpointStatus()</a>, and <a class="el" href="usb_8c_source.html#l01043">USBHostEndpointStatusClear()</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gac3b3f5b56ebdcc078407fd787afcafae"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint32_t _USBIndexRead </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Endpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32IndexedReg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="usb_8c_source.html#l00164">164</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="hw__types_8h_source.html#l00052">HWREGB</a>, <a class="el" href="hw__types_8h_source.html#l00050">HWREGH</a>, <a class="el" href="hw__memmap_8h_source.html#l00099">USB0_BASE</a>, and <a class="el" href="hw__usb_8h_source.html#l00057">USB_O_EPIDX</a>.</p>

<p>Referenced by <a class="el" href="usb_8c_source.html#l02456">USBFIFOConfigGet()</a>.</p>
<div class="fragment"><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;{</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    uint8_t ui8Index;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    uint8_t ui8Value;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a>);</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32Endpoint == 0) || (ui32Endpoint == 1) || (ui32Endpoint == 2) ||</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;           (ui32Endpoint == 3));</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32Size == 1) || (ui32Size == 2));</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;    <span class="comment">// Save the old index in case it was in use.</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    ui8Index = <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a032870fa4a26a05e3049ee555c36070a">USB_O_EPIDX</a>);</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="comment">// Set the index.</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a032870fa4a26a05e3049ee555c36070a">USB_O_EPIDX</a>) = ui32Endpoint;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="comment">// Determine the size of the register value.</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="keywordflow">if</span>(ui32Size == 1)</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    {</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        <span class="comment">// Get the value.</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        ui8Value = <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + ui32IndexedReg);</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    }</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    {</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        <span class="comment">// Get the value.</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        ui8Value = <a class="code" href="hw__types_8h.html#ac664ac49fa3d7c414f67572e522a74fb">HWREGH</a>(ui32Base + ui32IndexedReg);</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    }</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="comment">// Restore the old index in case it was in use.</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a032870fa4a26a05e3049ee555c36070a">USB_O_EPIDX</a>) = ui8Index;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;    <span class="comment">// Return the register&#39;s value.</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="keywordflow">return</span>(ui8Value);</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;}</div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a032870fa4a26a05e3049ee555c36070a"><div class="ttname"><a href="hw__usb_8h.html#a032870fa4a26a05e3049ee555c36070a">USB_O_EPIDX</a></div><div class="ttdeci">#define USB_O_EPIDX</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00057">hw_usb.h:57</a></div></div>
<div class="ttc" id="hw__types_8h_html_ac664ac49fa3d7c414f67572e522a74fb"><div class="ttname"><a href="hw__types_8h.html#ac664ac49fa3d7c414f67572e522a74fb">HWREGH</a></div><div class="ttdeci">#define HWREGH(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00050">hw_types.h:50</a></div></div>
<div class="ttc" id="hw__types_8h_html_a084083ee12e5262f8e54bb56c15ac8c7"><div class="ttname"><a href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a></div><div class="ttdeci">#define HWREGB(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00052">hw_types.h:52</a></div></div>
<div class="ttc" id="hw__memmap_8h_html_aa47acf4992407a85e79d911ca1055d17"><div class="ttname"><a href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a></div><div class="ttdeci">#define USB0_BASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__memmap_8h_source.html#l00099">hw_memmap.h:99</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__usb__api_gac3b3f5b56ebdcc078407fd787afcafae_icgraph.png" border="0" usemap="#group__usb__api_gac3b3f5b56ebdcc078407fd787afcafae_icgraph" alt=""/></div>
<map name="group__usb__api_gac3b3f5b56ebdcc078407fd787afcafae_icgraph" id="group__usb__api_gac3b3f5b56ebdcc078407fd787afcafae_icgraph">
<area shape="rect" id="node2" href="group__usb__api.html#gafe99418aac4282546bca96be57580ec1" title="USBFIFOConfigGet" alt="" coords="176,5,316,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gad79a9385143d09823224d3715f63e412"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void _USBIndexWrite </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Endpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32IndexedReg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="usb_8c_source.html#l00101">101</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="hw__types_8h_source.html#l00052">HWREGB</a>, <a class="el" href="hw__types_8h_source.html#l00050">HWREGH</a>, <a class="el" href="hw__memmap_8h_source.html#l00099">USB0_BASE</a>, and <a class="el" href="hw__usb_8h_source.html#l00057">USB_O_EPIDX</a>.</p>

<p>Referenced by <a class="el" href="usb_8c_source.html#l02393">USBFIFOConfigSet()</a>.</p>
<div class="fragment"><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;{</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    uint32_t ui32Index;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a>);</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32Endpoint == 0) || (ui32Endpoint == 1) || (ui32Endpoint == 2) ||</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;           (ui32Endpoint == 3));</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32Size == 1) || (ui32Size == 2));</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="comment">// Save the old index in case it was in use.</span></div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    ui32Index = <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a032870fa4a26a05e3049ee555c36070a">USB_O_EPIDX</a>);</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="comment">// Set the index.</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a032870fa4a26a05e3049ee555c36070a">USB_O_EPIDX</a>) = ui32Endpoint;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="comment">// Determine the size of the register value.</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="keywordflow">if</span>(ui32Size == 1)</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    {</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        <span class="comment">// Set the value.</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + ui32IndexedReg) = ui32Value;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    }</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    {</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        <span class="comment">// Set the value.</span></div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        <a class="code" href="hw__types_8h.html#ac664ac49fa3d7c414f67572e522a74fb">HWREGH</a>(ui32Base + ui32IndexedReg) = ui32Value;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    }</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    <span class="comment">// Restore the old index in case it was in use.</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a032870fa4a26a05e3049ee555c36070a">USB_O_EPIDX</a>) = ui32Index;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;}</div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a032870fa4a26a05e3049ee555c36070a"><div class="ttname"><a href="hw__usb_8h.html#a032870fa4a26a05e3049ee555c36070a">USB_O_EPIDX</a></div><div class="ttdeci">#define USB_O_EPIDX</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00057">hw_usb.h:57</a></div></div>
<div class="ttc" id="hw__types_8h_html_ac664ac49fa3d7c414f67572e522a74fb"><div class="ttname"><a href="hw__types_8h.html#ac664ac49fa3d7c414f67572e522a74fb">HWREGH</a></div><div class="ttdeci">#define HWREGH(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00050">hw_types.h:50</a></div></div>
<div class="ttc" id="hw__types_8h_html_a084083ee12e5262f8e54bb56c15ac8c7"><div class="ttname"><a href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a></div><div class="ttdeci">#define HWREGB(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00052">hw_types.h:52</a></div></div>
<div class="ttc" id="hw__memmap_8h_html_aa47acf4992407a85e79d911ca1055d17"><div class="ttname"><a href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a></div><div class="ttdeci">#define USB0_BASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__memmap_8h_source.html#l00099">hw_memmap.h:99</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__usb__api_gad79a9385143d09823224d3715f63e412_icgraph.png" border="0" usemap="#group__usb__api_gad79a9385143d09823224d3715f63e412_icgraph" alt=""/></div>
<map name="group__usb__api_gad79a9385143d09823224d3715f63e412_icgraph" id="group__usb__api_gad79a9385143d09823224d3715f63e412_icgraph">
<area shape="rect" id="node2" href="group__usb__api.html#ga8177751d5f16390d8d6c5f10df790114" title="USBFIFOConfigSet" alt="" coords="176,5,315,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gac630e5bea6974c6d98f789ccc05d2559"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint32_t _USBIntNumberGet </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns the interrupt number for a specified USB module.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>is the base address of the USB module.</td></tr>
  </table>
  </dd>
</dl>
<p>This function returns the interrupt number for the USB module with the base address passed in the <em>ui32Base</em> parameter.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns the USB interrupt number or 0 if the interrupt does not exist. </dd></dl>

<p>Definition at line <a class="el" href="usb_8c_source.html#l00818">818</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="hw__types_8h_source.html#l00093">CLASS_IS_TM4C123</a>, <a class="el" href="hw__types_8h_source.html#l00099">CLASS_IS_TM4C129</a>, <a class="el" href="hw__ints_8h_source.html#l00107">INT_USB0_TM4C123</a>, and <a class="el" href="hw__ints_8h_source.html#l00218">INT_USB0_TM4C129</a>.</p>

<p>Referenced by <a class="el" href="usb_8c_source.html#l00859">USBIntRegister()</a>, and <a class="el" href="usb_8c_source.html#l00899">USBIntUnregister()</a>.</p>
<div class="fragment"><div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;{</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    uint32_t ui32Int;</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="hw__types_8h.html#aed400510c15509bdc6296e5c233f6cd3">CLASS_IS_TM4C123</a>)</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    {</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;        ui32Int = <a class="code" href="hw__ints_8h.html#a6e84b84a1f9d783ca3a2ea6a1dbde0ac">INT_USB0_TM4C123</a>;</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    }</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(<a class="code" href="hw__types_8h.html#ad585839948168b2f3b39c3dbf2cbe200">CLASS_IS_TM4C129</a>)</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    {</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;        ui32Int = <a class="code" href="hw__ints_8h.html#a1148accad75ad2ce2cf9112a45df42f2">INT_USB0_TM4C129</a>;</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    }</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    {</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;        ui32Int = 0;</div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    }</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;    <span class="keywordflow">return</span>(ui32Int);</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;}</div>
<div class="ttc" id="hw__ints_8h_html_a1148accad75ad2ce2cf9112a45df42f2"><div class="ttname"><a href="hw__ints_8h.html#a1148accad75ad2ce2cf9112a45df42f2">INT_USB0_TM4C129</a></div><div class="ttdeci">#define INT_USB0_TM4C129</div><div class="ttdef"><b>Definition:</b> <a href="hw__ints_8h_source.html#l00218">hw_ints.h:218</a></div></div>
<div class="ttc" id="hw__types_8h_html_aed400510c15509bdc6296e5c233f6cd3"><div class="ttname"><a href="hw__types_8h.html#aed400510c15509bdc6296e5c233f6cd3">CLASS_IS_TM4C123</a></div><div class="ttdeci">#define CLASS_IS_TM4C123</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00093">hw_types.h:93</a></div></div>
<div class="ttc" id="hw__types_8h_html_ad585839948168b2f3b39c3dbf2cbe200"><div class="ttname"><a href="hw__types_8h.html#ad585839948168b2f3b39c3dbf2cbe200">CLASS_IS_TM4C129</a></div><div class="ttdeci">#define CLASS_IS_TM4C129</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00099">hw_types.h:99</a></div></div>
<div class="ttc" id="hw__ints_8h_html_a6e84b84a1f9d783ca3a2ea6a1dbde0ac"><div class="ttname"><a href="hw__ints_8h.html#a6e84b84a1f9d783ca3a2ea6a1dbde0ac">INT_USB0_TM4C123</a></div><div class="ttdeci">#define INT_USB0_TM4C123</div><div class="ttdef"><b>Definition:</b> <a href="hw__ints_8h_source.html#l00107">hw_ints.h:107</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__usb__api_gac630e5bea6974c6d98f789ccc05d2559_icgraph.png" border="0" usemap="#group__usb__api_gac630e5bea6974c6d98f789ccc05d2559_icgraph" alt=""/></div>
<map name="group__usb__api_gac630e5bea6974c6d98f789ccc05d2559_icgraph" id="group__usb__api_gac630e5bea6974c6d98f789ccc05d2559_icgraph">
<area shape="rect" id="node2" href="group__usb__api.html#gaa8a3b5d7dd0c767873b1d42a5b40aa67" title="USBIntRegister" alt="" coords="209,5,327,32"/><area shape="rect" id="node3" href="group__usb__api.html#ga52446b27aa21e19ab5e81b552f50eb92" title="USBIntUnregister" alt="" coords="201,56,335,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga4237d0e76267e32db07a091b9ee1a7d7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USBClockDisable </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Disables the clocking of the USB controller's PHY.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address.</td></tr>
  </table>
  </dd>
</dl>
<p>This function disables the USB PHY clock. This function should not be called in applications where the USB controller is used.</p>
<p><b>Example:</b> Disable the USB PHY clock input.</p>
<pre class="fragment">//! //
//! // Disable clocking of the USB controller's PHY.
//! //
//! USBClockDisable(USB0_BASE);
//! </pre> <pre class="fragment">\note The ability to configure the USB PHY clock is not available on all
Tiva devices.  Please consult the data sheet for the Tiva device
that you are using to determine if this feature is available.

\return None.  </pre> 
<p>Definition at line <a class="el" href="usb_8c_source.html#l04346">4346</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="hw__types_8h_source.html#l00048">HWREG</a>, <a class="el" href="hw__memmap_8h_source.html#l00099">USB0_BASE</a>, and <a class="el" href="hw__usb_8h_source.html#l00406">USB_O_CC</a>.</p>
<div class="fragment"><div class="line"><a name="l04347"></a><span class="lineno"> 4347</span>&#160;{</div>
<div class="line"><a name="l04348"></a><span class="lineno"> 4348</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a>);</div>
<div class="line"><a name="l04349"></a><span class="lineno"> 4349</span>&#160;</div>
<div class="line"><a name="l04350"></a><span class="lineno"> 4350</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l04351"></a><span class="lineno"> 4351</span>&#160;    <span class="comment">// Disable the USB clock input.</span></div>
<div class="line"><a name="l04352"></a><span class="lineno"> 4352</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l04353"></a><span class="lineno"> 4353</span>&#160;    <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a5d6af4b989fa2dab80cf5841e6dbd2ea">USB_O_CC</a>) = 0;</div>
<div class="line"><a name="l04354"></a><span class="lineno"> 4354</span>&#160;}</div>
<div class="ttc" id="hw__types_8h_html_ac9660181819fceac0b5abcd67d76ca6e"><div class="ttname"><a href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a></div><div class="ttdeci">#define HWREG(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00048">hw_types.h:48</a></div></div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a5d6af4b989fa2dab80cf5841e6dbd2ea"><div class="ttname"><a href="hw__usb_8h.html#a5d6af4b989fa2dab80cf5841e6dbd2ea">USB_O_CC</a></div><div class="ttdeci">#define USB_O_CC</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00406">hw_usb.h:406</a></div></div>
<div class="ttc" id="hw__memmap_8h_html_aa47acf4992407a85e79d911ca1055d17"><div class="ttname"><a href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a></div><div class="ttdeci">#define USB0_BASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__memmap_8h_source.html#l00099">hw_memmap.h:99</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga60145c2e06aa8d7cce86daf655a29e15"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USBClockEnable </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Div</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Configures and enables the clocking to the USB controller's PHY.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address. </td></tr>
    <tr><td class="paramname">ui32Div</td><td>specifies the divider for the internal USB PHY clock. </td></tr>
    <tr><td class="paramname">ui32Flags</td><td>configures the internal USB PHY clock and specifies the clock source for a ULPI-connected PHY.</td></tr>
  </table>
  </dd>
</dl>
<p>This function configures and enables the USB PHY clock. In addition, for systems that use a ULPI-connected external PHY, this function configures the source for the PHY clock. The <em>ui32Flags</em> parameter specifies the clock source with the following values:</p>
<ul>
<li><b>USB_CLOCK_INTERNAL</b> uses the internal PLL combined with the <em>ui32Div</em> value to generate the USB clock that is used by the internal USB PHY. In addition, when using an external ULPI-connected USB PHY, the specified clock is output on the USB0CLK pin.</li>
<li><b>USB_CLOCK_EXTERNAL</b> specifies that USB0CLK is an input from the ULPI-connected external PHY.</li>
</ul>
<p>The <em>ui32Div</em> parameter is used to specify a divider for the internal clock if the <b>USB_CLOCK_INTERNAL</b> is specified and is ignored if <b>USB_CLOCK_EXTERNAL</b> is specified. When the <b>USB_CLOCK_INTERNAL</b> is specified, the <em>ui32Div</em> value must be set so that the PLL_VCO/<em>ui32Div</em> results in a 60-MHz clock.</p>
<p><b>Example:</b> Enable the USB clock with a 480-MHz PLL setting.</p>
<pre class="fragment">//! //
//! // Enable the USB clock using a 480-MHz PLL.
//! // (480-MHz/8 = 60-MHz)
//! //
//! USBClockEnable(USB0_BASE, 8, USB_CLOCK_INTERNAL);
//! </pre> <pre class="fragment">\note The ability to configure the USB PHY clock is not available on
all Tiva devices.  Please consult the data sheet for the Tiva
device that you are using to determine if this feature is available.

\return None.  </pre> 
<p>Definition at line <a class="el" href="usb_8c_source.html#l04310">4310</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="hw__types_8h_source.html#l00048">HWREG</a>, <a class="el" href="hw__memmap_8h_source.html#l00099">USB0_BASE</a>, and <a class="el" href="hw__usb_8h_source.html#l00406">USB_O_CC</a>.</p>
<div class="fragment"><div class="line"><a name="l04311"></a><span class="lineno"> 4311</span>&#160;{</div>
<div class="line"><a name="l04312"></a><span class="lineno"> 4312</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a>);</div>
<div class="line"><a name="l04313"></a><span class="lineno"> 4313</span>&#160;</div>
<div class="line"><a name="l04314"></a><span class="lineno"> 4314</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l04315"></a><span class="lineno"> 4315</span>&#160;    <span class="comment">// Configure and enable the USB clock input.</span></div>
<div class="line"><a name="l04316"></a><span class="lineno"> 4316</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l04317"></a><span class="lineno"> 4317</span>&#160;    <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a5d6af4b989fa2dab80cf5841e6dbd2ea">USB_O_CC</a>) = (ui32Div - 1) | ui32Flags;</div>
<div class="line"><a name="l04318"></a><span class="lineno"> 4318</span>&#160;}</div>
<div class="ttc" id="hw__types_8h_html_ac9660181819fceac0b5abcd67d76ca6e"><div class="ttname"><a href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a></div><div class="ttdeci">#define HWREG(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00048">hw_types.h:48</a></div></div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a5d6af4b989fa2dab80cf5841e6dbd2ea"><div class="ttname"><a href="hw__usb_8h.html#a5d6af4b989fa2dab80cf5841e6dbd2ea">USB_O_CC</a></div><div class="ttdeci">#define USB_O_CC</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00406">hw_usb.h:406</a></div></div>
<div class="ttc" id="hw__memmap_8h_html_aa47acf4992407a85e79d911ca1055d17"><div class="ttname"><a href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a></div><div class="ttdeci">#define USB0_BASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__memmap_8h_source.html#l00099">hw_memmap.h:99</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga9177418f61b680b2b639a1d7e05f7254"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t USBControllerVersion </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the version of the USB controller.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address.</td></tr>
  </table>
  </dd>
</dl>
<p>This function returns the version number of the USB controller, which can be be used to adjust for slight differences between the USB controllers in the Tiva family. The values that are returned are <b>USB_CONTROLLER_VER_0</b> and <b>USB_CONTROLLER_VER_1</b>.</p>
<dl class="section note"><dt>Note</dt><dd>The most significant difference between <b>USB_CONTROLLER_VER_0</b> and <b>USB_CONTROLLER_VER_1</b> is that <b>USB_CONTROLLER_VER_1</b> supports the USB controller's own bus master DMA controller, while the <b>USB_CONTROLLER_VER_0</b> only supports using the uDMA controller with the USB module.</dd></dl>
<p><b>Example:</b> Get the version of the Tiva USB controller.</p>
<pre class="fragment">//! uint32_t ui32Version;
//!
//! //
//! // Retrieve the version of the Tiva USB controller.
//! //
//! ui32Version = USBControllerVersion(USB0_BASE);
//! </pre> <pre class="fragment">\return This function returns one of the \b USB_CONTROLLER_VER_ values.  </pre> 
<p>Definition at line <a class="el" href="usb_8c_source.html#l04256">4256</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="hw__types_8h_source.html#l00048">HWREG</a>, <a class="el" href="hw__usb_8h_source.html#l00404">USB_O_PP</a>, and <a class="el" href="hw__usb_8h_source.html#l03005">USB_PP_TYPE_M</a>.</p>
<div class="fragment"><div class="line"><a name="l04257"></a><span class="lineno"> 4257</span>&#160;{</div>
<div class="line"><a name="l04258"></a><span class="lineno"> 4258</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l04259"></a><span class="lineno"> 4259</span>&#160;    <span class="comment">// Return the type field of the peripheral properties.  This returns</span></div>
<div class="line"><a name="l04260"></a><span class="lineno"> 4260</span>&#160;    <span class="comment">// zero for all parts that did not have a peripheral property.</span></div>
<div class="line"><a name="l04261"></a><span class="lineno"> 4261</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l04262"></a><span class="lineno"> 4262</span>&#160;    <span class="keywordflow">return</span>(<a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__usb_8h.html#abb422006624a234dda1433802a36329e">USB_O_PP</a>) &amp; <a class="code" href="hw__usb_8h.html#a6c45bd00d8c917a15203ca46dde74089">USB_PP_TYPE_M</a>);</div>
<div class="line"><a name="l04263"></a><span class="lineno"> 4263</span>&#160;}</div>
<div class="ttc" id="hw__types_8h_html_ac9660181819fceac0b5abcd67d76ca6e"><div class="ttname"><a href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a></div><div class="ttdeci">#define HWREG(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00048">hw_types.h:48</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a6c45bd00d8c917a15203ca46dde74089"><div class="ttname"><a href="hw__usb_8h.html#a6c45bd00d8c917a15203ca46dde74089">USB_PP_TYPE_M</a></div><div class="ttdeci">#define USB_PP_TYPE_M</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l03005">hw_usb.h:3005</a></div></div>
<div class="ttc" id="hw__usb_8h_html_abb422006624a234dda1433802a36329e"><div class="ttname"><a href="hw__usb_8h.html#abb422006624a234dda1433802a36329e">USB_O_PP</a></div><div class="ttdeci">#define USB_O_PP</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00404">hw_usb.h:404</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gadf0186afcf2fa5192b9701be4b3224c3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t USBDevAddrGet </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the current device address in device mode.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address.</td></tr>
  </table>
  </dd>
</dl>
<p>This function returns the current device address. This address was set by a call to <a class="el" href="group__usb__api.html#gaceb9c8a1e98f690beeabf1bdc193db31">USBDevAddrSet()</a>.</p>
<dl class="section note"><dt>Note</dt><dd>This function must only be called in device mode.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The current device address. </dd></dl>

<p>Definition at line <a class="el" href="usb_8c_source.html#l01585">1585</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="hw__types_8h_source.html#l00052">HWREGB</a>, <a class="el" href="hw__memmap_8h_source.html#l00099">USB0_BASE</a>, and <a class="el" href="hw__usb_8h_source.html#l00048">USB_O_FADDR</a>.</p>
<div class="fragment"><div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;{</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l01589"></a><span class="lineno"> 1589</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01590"></a><span class="lineno"> 1590</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a>);</div>
<div class="line"><a name="l01591"></a><span class="lineno"> 1591</span>&#160;</div>
<div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;    <span class="comment">// Return the function address.</span></div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;    <span class="keywordflow">return</span>(<a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#acc7854024e1d624c4777205e8c98839c">USB_O_FADDR</a>));</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;}</div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="hw__usb_8h_html_acc7854024e1d624c4777205e8c98839c"><div class="ttname"><a href="hw__usb_8h.html#acc7854024e1d624c4777205e8c98839c">USB_O_FADDR</a></div><div class="ttdeci">#define USB_O_FADDR</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00048">hw_usb.h:48</a></div></div>
<div class="ttc" id="hw__types_8h_html_a084083ee12e5262f8e54bb56c15ac8c7"><div class="ttname"><a href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a></div><div class="ttdeci">#define HWREGB(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00052">hw_types.h:52</a></div></div>
<div class="ttc" id="hw__memmap_8h_html_aa47acf4992407a85e79d911ca1055d17"><div class="ttname"><a href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a></div><div class="ttdeci">#define USB0_BASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__memmap_8h_source.html#l00099">hw_memmap.h:99</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gaceb9c8a1e98f690beeabf1bdc193db31"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USBDevAddrSet </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Address</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the address in device mode.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address. </td></tr>
    <tr><td class="paramname">ui32Address</td><td>is the address to use for a device.</td></tr>
  </table>
  </dd>
</dl>
<p>This function configures the device address on the USB bus. This address was likely received via a SET ADDRESS command from the host controller.</p>
<dl class="section note"><dt>Note</dt><dd>This function must only be called in device mode.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="usb_8c_source.html#l01557">1557</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="hw__types_8h_source.html#l00052">HWREGB</a>, <a class="el" href="hw__memmap_8h_source.html#l00099">USB0_BASE</a>, and <a class="el" href="hw__usb_8h_source.html#l00048">USB_O_FADDR</a>.</p>
<div class="fragment"><div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;{</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a>);</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;    <span class="comment">// Set the function address in the correct location.</span></div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;    <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#acc7854024e1d624c4777205e8c98839c">USB_O_FADDR</a>) = (uint8_t)ui32Address;</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;}</div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="hw__usb_8h_html_acc7854024e1d624c4777205e8c98839c"><div class="ttname"><a href="hw__usb_8h.html#acc7854024e1d624c4777205e8c98839c">USB_O_FADDR</a></div><div class="ttdeci">#define USB_O_FADDR</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00048">hw_usb.h:48</a></div></div>
<div class="ttc" id="hw__types_8h_html_a084083ee12e5262f8e54bb56c15ac8c7"><div class="ttname"><a href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a></div><div class="ttdeci">#define HWREGB(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00052">hw_types.h:52</a></div></div>
<div class="ttc" id="hw__memmap_8h_html_aa47acf4992407a85e79d911ca1055d17"><div class="ttname"><a href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a></div><div class="ttdeci">#define USB0_BASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__memmap_8h_source.html#l00099">hw_memmap.h:99</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gab60e93390009b01e2e6934e6dda3f94d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USBDevConnect </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Connects the USB controller to the bus in device mode.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address.</td></tr>
  </table>
  </dd>
</dl>
<p>This function causes the soft connect feature of the USB controller to be enabled. Call <a class="el" href="group__usb__api.html#gab6d43280f582f4a34aa5c26cf1f87e62">USBDevDisconnect()</a> to remove the USB device from the bus.</p>
<dl class="section note"><dt>Note</dt><dd>This function must only be called in device mode.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="usb_8c_source.html#l01499">1499</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="hw__types_8h_source.html#l00052">HWREGB</a>, <a class="el" href="hw__memmap_8h_source.html#l00099">USB0_BASE</a>, <a class="el" href="hw__usb_8h_source.html#l00049">USB_O_POWER</a>, and <a class="el" href="hw__usb_8h_source.html#l00422">USB_POWER_SOFTCONN</a>.</p>
<div class="fragment"><div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;{</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a>);</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;    <span class="comment">// Enable connection to the USB bus.</span></div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;    <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#ad3a1c8e8c4a2a78d507c6590aa4d2019">USB_O_POWER</a>) |= <a class="code" href="hw__usb_8h.html#a924294c1d15dc9e28ed111eea2e24afc">USB_POWER_SOFTCONN</a>;</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;}</div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a924294c1d15dc9e28ed111eea2e24afc"><div class="ttname"><a href="hw__usb_8h.html#a924294c1d15dc9e28ed111eea2e24afc">USB_POWER_SOFTCONN</a></div><div class="ttdeci">#define USB_POWER_SOFTCONN</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00422">hw_usb.h:422</a></div></div>
<div class="ttc" id="hw__usb_8h_html_ad3a1c8e8c4a2a78d507c6590aa4d2019"><div class="ttname"><a href="hw__usb_8h.html#ad3a1c8e8c4a2a78d507c6590aa4d2019">USB_O_POWER</a></div><div class="ttdeci">#define USB_O_POWER</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00049">hw_usb.h:49</a></div></div>
<div class="ttc" id="hw__types_8h_html_a084083ee12e5262f8e54bb56c15ac8c7"><div class="ttname"><a href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a></div><div class="ttdeci">#define HWREGB(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00052">hw_types.h:52</a></div></div>
<div class="ttc" id="hw__memmap_8h_html_aa47acf4992407a85e79d911ca1055d17"><div class="ttname"><a href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a></div><div class="ttdeci">#define USB0_BASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__memmap_8h_source.html#l00099">hw_memmap.h:99</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gab6d43280f582f4a34aa5c26cf1f87e62"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USBDevDisconnect </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Removes the USB controller from the bus in device mode.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address.</td></tr>
  </table>
  </dd>
</dl>
<p>This function causes the soft connect feature of the USB controller to remove the device from the USB bus. A call to <a class="el" href="group__usb__api.html#gab60e93390009b01e2e6934e6dda3f94d">USBDevConnect()</a> is needed to reconnect to the bus.</p>
<dl class="section note"><dt>Note</dt><dd>This function must only be called in device mode.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="usb_8c_source.html#l01528">1528</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="hw__types_8h_source.html#l00052">HWREGB</a>, <a class="el" href="hw__memmap_8h_source.html#l00099">USB0_BASE</a>, <a class="el" href="hw__usb_8h_source.html#l00049">USB_O_POWER</a>, and <a class="el" href="hw__usb_8h_source.html#l00422">USB_POWER_SOFTCONN</a>.</p>
<div class="fragment"><div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;{</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a>);</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;    <span class="comment">// Disable connection to the USB bus.</span></div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;    <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#ad3a1c8e8c4a2a78d507c6590aa4d2019">USB_O_POWER</a>) &amp;= (~<a class="code" href="hw__usb_8h.html#a924294c1d15dc9e28ed111eea2e24afc">USB_POWER_SOFTCONN</a>);</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;}</div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a924294c1d15dc9e28ed111eea2e24afc"><div class="ttname"><a href="hw__usb_8h.html#a924294c1d15dc9e28ed111eea2e24afc">USB_POWER_SOFTCONN</a></div><div class="ttdeci">#define USB_POWER_SOFTCONN</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00422">hw_usb.h:422</a></div></div>
<div class="ttc" id="hw__usb_8h_html_ad3a1c8e8c4a2a78d507c6590aa4d2019"><div class="ttname"><a href="hw__usb_8h.html#ad3a1c8e8c4a2a78d507c6590aa4d2019">USB_O_POWER</a></div><div class="ttdeci">#define USB_O_POWER</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00049">hw_usb.h:49</a></div></div>
<div class="ttc" id="hw__types_8h_html_a084083ee12e5262f8e54bb56c15ac8c7"><div class="ttname"><a href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a></div><div class="ttdeci">#define HWREGB(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00052">hw_types.h:52</a></div></div>
<div class="ttc" id="hw__memmap_8h_html_aa47acf4992407a85e79d911ca1055d17"><div class="ttname"><a href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a></div><div class="ttdeci">#define USB0_BASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__memmap_8h_source.html#l00099">hw_memmap.h:99</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gac2e45712bd23adbcbe650b8cb2a3e4d9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USBDevEndpointConfigGet </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Endpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>pui32MaxPacketSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>pui32Flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets the current configuration for an endpoint.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address. </td></tr>
    <tr><td class="paramname">ui32Endpoint</td><td>is the endpoint to access. </td></tr>
    <tr><td class="paramname">pui32MaxPacketSize</td><td>is a pointer which is written with the maximum packet size for this endpoint. </td></tr>
    <tr><td class="paramname">pui32Flags</td><td>is a pointer which is written with the current endpoint settings. On entry to the function, this pointer must contain either <b>USB_EP_DEV_IN</b> or <b>USB_EP_DEV_OUT</b> to indicate whether the IN or OUT endpoint is to be queried.</td></tr>
  </table>
  </dd>
</dl>
<p>This function returns the basic configuration for an endpoint in device mode. The values returned in <em>*pui32MaxPacketSize</em> and <em>*pui32Flags</em> are equivalent to the <em>ui32MaxPacketSize</em> and <em>ui32Flags</em> previously passed to <a class="el" href="group__usb__api.html#ga01a7ebd9276d10d86358d5fcc945d35c">USBDevEndpointConfigSet()</a> for this endpoint.</p>
<dl class="section note"><dt>Note</dt><dd>This function must only be called in device mode.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="usb_8c_source.html#l02213">2213</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="usb_8c_source.html#l00082">EP_OFFSET</a>, <a class="el" href="hw__types_8h_source.html#l00052">HWREGB</a>, <a class="el" href="hw__types_8h_source.html#l00050">HWREGH</a>, <a class="el" href="hw__memmap_8h_source.html#l00099">USB0_BASE</a>, <a class="el" href="usb_8h_source.html#l00348">USB_EP_1</a>, <a class="el" href="usb_8h_source.html#l00349">USB_EP_2</a>, <a class="el" href="usb_8h_source.html#l00350">USB_EP_3</a>, <a class="el" href="usb_8h_source.html#l00351">USB_EP_4</a>, <a class="el" href="usb_8h_source.html#l00352">USB_EP_5</a>, <a class="el" href="usb_8h_source.html#l00353">USB_EP_6</a>, <a class="el" href="usb_8h_source.html#l00354">USB_EP_7</a>, <a class="el" href="usb_8h_source.html#l00228">USB_EP_AUTO_CLEAR</a>, <a class="el" href="usb_8h_source.html#l00226">USB_EP_AUTO_SET</a>, <a class="el" href="usb_8h_source.html#l00244">USB_EP_DEV_IN</a>, <a class="el" href="usb_8h_source.html#l00245">USB_EP_DEV_OUT</a>, <a class="el" href="usb_8h_source.html#l00229">USB_EP_DMA_MODE_0</a>, <a class="el" href="usb_8h_source.html#l00230">USB_EP_DMA_MODE_1</a>, <a class="el" href="usb_8h_source.html#l00235">USB_EP_MODE_BULK</a>, <a class="el" href="usb_8h_source.html#l00234">USB_EP_MODE_ISOC</a>, <a class="el" href="hw__usb_8h_source.html#l00180">USB_O_RXCSRH1</a>, <a class="el" href="hw__usb_8h_source.html#l00176">USB_O_RXMAXP1</a>, <a class="el" href="hw__usb_8h_source.html#l00174">USB_O_TXCSRH1</a>, <a class="el" href="hw__usb_8h_source.html#l00170">USB_O_TXMAXP1</a>, <a class="el" href="hw__usb_8h_source.html#l01319">USB_RXCSRH1_AUTOCL</a>, <a class="el" href="hw__usb_8h_source.html#l01322">USB_RXCSRH1_DMAEN</a>, <a class="el" href="hw__usb_8h_source.html#l01325">USB_RXCSRH1_DMAMOD</a>, <a class="el" href="hw__usb_8h_source.html#l01321">USB_RXCSRH1_ISO</a>, <a class="el" href="hw__usb_8h_source.html#l01280">USB_TXCSRH1_AUTOSET</a>, <a class="el" href="hw__usb_8h_source.html#l01283">USB_TXCSRH1_DMAEN</a>, <a class="el" href="hw__usb_8h_source.html#l01285">USB_TXCSRH1_DMAMOD</a>, and <a class="el" href="hw__usb_8h_source.html#l01281">USB_TXCSRH1_ISO</a>.</p>
<div class="fragment"><div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;{</div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;    uint32_t ui32Register;</div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;</div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a>);</div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(pui32MaxPacketSize &amp;&amp; pui32Flags);</div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32Endpoint == <a class="code" href="usb_8h.html#a4e39f33c6467bddfb7d3e92a2ea5b789">USB_EP_1</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a13cce6caa2ecdaa333ae6a9fe5869e32">USB_EP_2</a>) ||</div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#ab0f7986e9b00a278f0d9546e1d646440">USB_EP_3</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a8e177910552fb7eeb3c11ef9e35d7439">USB_EP_4</a>) ||</div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a73892b0ca4c30f38c7fef4d7d6fd2caf">USB_EP_5</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a4a0a3d355ece777a24c1fcfc192a7ef7">USB_EP_6</a>) ||</div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a78dcce1706922dc17a6baf4e8f37150d">USB_EP_7</a>));</div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;</div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;    <span class="comment">// Determine if a transmit or receive endpoint is being queried.</span></div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;    <span class="keywordflow">if</span>(*pui32Flags &amp; <a class="code" href="usb_8h.html#a2881e9200f51ae03c0d643e2d6ffa169">USB_EP_DEV_IN</a>)</div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;    {</div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;        <span class="comment">// Clear the flags other than the direction bit.</span></div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;        *pui32Flags = <a class="code" href="usb_8h.html#a2881e9200f51ae03c0d643e2d6ffa169">USB_EP_DEV_IN</a>;</div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;</div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;        <span class="comment">// Get the maximum packet size.</span></div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;        *pui32MaxPacketSize = (uint32_t)<a class="code" href="hw__types_8h.html#ac664ac49fa3d7c414f67572e522a74fb">HWREGH</a>(ui32Base +</div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;                                               <a class="code" href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a>(ui32Endpoint) +</div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;                                               <a class="code" href="hw__usb_8h.html#a10a3276cbd2ee4806cbe3e0f4840b578">USB_O_TXMAXP1</a>);</div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;</div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;        <span class="comment">// Get the current transmit control register value.</span></div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;        ui32Register = (uint32_t)<a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a>(ui32Endpoint) +</div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;                                        <a class="code" href="hw__usb_8h.html#aa2d73dc23a25ea5d43b680cedfbf191e">USB_O_TXCSRH1</a>);</div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;</div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;        <span class="comment">// Are we allowing auto setting of TxPktRdy when max packet size has</span></div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;        <span class="comment">// been loaded into the FIFO?</span></div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;        <span class="keywordflow">if</span>(ui32Register &amp; <a class="code" href="hw__usb_8h.html#a6a74dc0cf7f4010a9562834742a12569">USB_TXCSRH1_AUTOSET</a>)</div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;        {</div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;            *pui32Flags |= <a class="code" href="usb_8h.html#af83d520bf70b794bd74c9e2f8573e7ab">USB_EP_AUTO_SET</a>;</div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;        }</div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;</div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;        <span class="comment">// Get the DMA mode.</span></div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;        <span class="keywordflow">if</span>(ui32Register &amp; <a class="code" href="hw__usb_8h.html#a70a09d67fe2b11247e013449470a04d0">USB_TXCSRH1_DMAEN</a>)</div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;        {</div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;            <span class="keywordflow">if</span>(ui32Register &amp; <a class="code" href="hw__usb_8h.html#abd420b366edbcda207b59235e060eea6">USB_TXCSRH1_DMAMOD</a>)</div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;            {</div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;                *pui32Flags |= <a class="code" href="usb_8h.html#a259f82df7349fa5e07fb80726e5de017">USB_EP_DMA_MODE_1</a>;</div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;            }</div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;            {</div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;                *pui32Flags |= <a class="code" href="usb_8h.html#ab35e7f9177cbd7f7c6af3319d936c1d3">USB_EP_DMA_MODE_0</a>;</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;            }</div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;        }</div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;</div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;        <span class="comment">// Are we in isochronous mode?</span></div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;        <span class="keywordflow">if</span>(ui32Register &amp; <a class="code" href="hw__usb_8h.html#aa7f88966e1ed96f9874b97457f8e3aa9">USB_TXCSRH1_ISO</a>)</div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;        {</div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;            *pui32Flags |= <a class="code" href="usb_8h.html#a12885dc6ed4485c48d871c639cc6f952">USB_EP_MODE_ISOC</a>;</div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;        }</div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;        {</div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;            <span class="comment">// The hardware doesn&#39;t differentiate between bulk, interrupt</span></div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;            <span class="comment">// and control mode for the endpoint so we just set something</span></div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;            <span class="comment">// that isn&#39;t isochronous.  This protocol ensures that anyone</span></div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;            <span class="comment">// modifying the returned flags in preparation for a call to</span></div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;            <span class="comment">// USBDevEndpointConfigSet do not see an unexpected mode change.</span></div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;            <span class="comment">// If they decode the returned mode, however, they may be in for</span></div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;            <span class="comment">// a surprise.</span></div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;            *pui32Flags |= <a class="code" href="usb_8h.html#aa6159888b439bfb438c8e5d898214922">USB_EP_MODE_BULK</a>;</div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;        }</div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;    }</div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;    {</div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;        <span class="comment">// Clear the flags other than the direction bit.</span></div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;        *pui32Flags = <a class="code" href="usb_8h.html#a7f1336c270a8ee96a67edef7f124e5ba">USB_EP_DEV_OUT</a>;</div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;</div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;        <span class="comment">// Get the MaxPacketSize.</span></div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;        *pui32MaxPacketSize = (uint32_t)<a class="code" href="hw__types_8h.html#ac664ac49fa3d7c414f67572e522a74fb">HWREGH</a>(ui32Base +</div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;                                               <a class="code" href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a>(ui32Endpoint) +</div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;                                               <a class="code" href="hw__usb_8h.html#a74c921b3840ba9d08eabd9de16401bd2">USB_O_RXMAXP1</a>);</div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;</div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;        <span class="comment">// Get the current receive control register value.</span></div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;        ui32Register = (uint32_t)<a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a>(ui32Endpoint) +</div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;                                        <a class="code" href="hw__usb_8h.html#af953e2449fe4e26a4a805200be97b03c">USB_O_RXCSRH1</a>);</div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;</div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;        <span class="comment">// Are we allowing auto clearing of RxPktRdy when packet of size max</span></div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;        <span class="comment">// packet has been unloaded from the FIFO?</span></div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02320"></a><span class="lineno"> 2320</span>&#160;        <span class="keywordflow">if</span>(ui32Register &amp; <a class="code" href="hw__usb_8h.html#a3f19fc8cbdc83cd742276b0787c0705f">USB_RXCSRH1_AUTOCL</a>)</div>
<div class="line"><a name="l02321"></a><span class="lineno"> 2321</span>&#160;        {</div>
<div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;            *pui32Flags |= <a class="code" href="usb_8h.html#ac6ffbe05755a887eff3bee31239d76ee">USB_EP_AUTO_CLEAR</a>;</div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;        }</div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;</div>
<div class="line"><a name="l02325"></a><span class="lineno"> 2325</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02326"></a><span class="lineno"> 2326</span>&#160;        <span class="comment">// Get the DMA mode.</span></div>
<div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;        <span class="keywordflow">if</span>(ui32Register &amp; <a class="code" href="hw__usb_8h.html#a77d6133e3e9658960e4bf88ea5e98219">USB_RXCSRH1_DMAEN</a>)</div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;        {</div>
<div class="line"><a name="l02330"></a><span class="lineno"> 2330</span>&#160;            <span class="keywordflow">if</span>(ui32Register &amp; <a class="code" href="hw__usb_8h.html#a765b6bd345468708035e8c6d4efd8a29">USB_RXCSRH1_DMAMOD</a>)</div>
<div class="line"><a name="l02331"></a><span class="lineno"> 2331</span>&#160;            {</div>
<div class="line"><a name="l02332"></a><span class="lineno"> 2332</span>&#160;                *pui32Flags |= <a class="code" href="usb_8h.html#a259f82df7349fa5e07fb80726e5de017">USB_EP_DMA_MODE_1</a>;</div>
<div class="line"><a name="l02333"></a><span class="lineno"> 2333</span>&#160;            }</div>
<div class="line"><a name="l02334"></a><span class="lineno"> 2334</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l02335"></a><span class="lineno"> 2335</span>&#160;            {</div>
<div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;                *pui32Flags |= <a class="code" href="usb_8h.html#ab35e7f9177cbd7f7c6af3319d936c1d3">USB_EP_DMA_MODE_0</a>;</div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;            }</div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;        }</div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;</div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;        <span class="comment">// Are we in isochronous mode?</span></div>
<div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;        <span class="keywordflow">if</span>(ui32Register &amp; <a class="code" href="hw__usb_8h.html#a423af9f584de17f1261b1736e3e0b98b">USB_RXCSRH1_ISO</a>)</div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;        {</div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;            *pui32Flags |= <a class="code" href="usb_8h.html#a12885dc6ed4485c48d871c639cc6f952">USB_EP_MODE_ISOC</a>;</div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;        }</div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l02348"></a><span class="lineno"> 2348</span>&#160;        {</div>
<div class="line"><a name="l02349"></a><span class="lineno"> 2349</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;            <span class="comment">// The hardware doesn&#39;t differentiate between bulk, interrupt</span></div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;            <span class="comment">// and control mode for the endpoint so we just set something</span></div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;            <span class="comment">// that isn&#39;t isochronous.  This protocol ensures that anyone</span></div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;            <span class="comment">// modifying the returned flags in preparation for a call to</span></div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;            <span class="comment">// USBDevEndpointConfigSet do not see an unexpected mode change.</span></div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;            <span class="comment">// If they decode the returned mode, however, they may be in for</span></div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;            <span class="comment">// a surprise.</span></div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;            *pui32Flags |= <a class="code" href="usb_8h.html#aa6159888b439bfb438c8e5d898214922">USB_EP_MODE_BULK</a>;</div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;        }</div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;    }</div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;}</div>
<div class="ttc" id="hw__usb_8h_html_a77d6133e3e9658960e4bf88ea5e98219"><div class="ttname"><a href="hw__usb_8h.html#a77d6133e3e9658960e4bf88ea5e98219">USB_RXCSRH1_DMAEN</a></div><div class="ttdeci">#define USB_RXCSRH1_DMAEN</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01322">hw_usb.h:1322</a></div></div>
<div class="ttc" id="usb_8h_html_a12885dc6ed4485c48d871c639cc6f952"><div class="ttname"><a href="usb_8h.html#a12885dc6ed4485c48d871c639cc6f952">USB_EP_MODE_ISOC</a></div><div class="ttdeci">#define USB_EP_MODE_ISOC</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00234">usb.h:234</a></div></div>
<div class="ttc" id="hw__usb_8h_html_abd420b366edbcda207b59235e060eea6"><div class="ttname"><a href="hw__usb_8h.html#abd420b366edbcda207b59235e060eea6">USB_TXCSRH1_DMAMOD</a></div><div class="ttdeci">#define USB_TXCSRH1_DMAMOD</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01285">hw_usb.h:1285</a></div></div>
<div class="ttc" id="usb_8h_html_a2881e9200f51ae03c0d643e2d6ffa169"><div class="ttname"><a href="usb_8h.html#a2881e9200f51ae03c0d643e2d6ffa169">USB_EP_DEV_IN</a></div><div class="ttdeci">#define USB_EP_DEV_IN</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00244">usb.h:244</a></div></div>
<div class="ttc" id="hw__usb_8h_html_aa7f88966e1ed96f9874b97457f8e3aa9"><div class="ttname"><a href="hw__usb_8h.html#aa7f88966e1ed96f9874b97457f8e3aa9">USB_TXCSRH1_ISO</a></div><div class="ttdeci">#define USB_TXCSRH1_ISO</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01281">hw_usb.h:1281</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a765b6bd345468708035e8c6d4efd8a29"><div class="ttname"><a href="hw__usb_8h.html#a765b6bd345468708035e8c6d4efd8a29">USB_RXCSRH1_DMAMOD</a></div><div class="ttdeci">#define USB_RXCSRH1_DMAMOD</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01325">hw_usb.h:1325</a></div></div>
<div class="ttc" id="usb_8h_html_a259f82df7349fa5e07fb80726e5de017"><div class="ttname"><a href="usb_8h.html#a259f82df7349fa5e07fb80726e5de017">USB_EP_DMA_MODE_1</a></div><div class="ttdeci">#define USB_EP_DMA_MODE_1</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00230">usb.h:230</a></div></div>
<div class="ttc" id="usb_8h_html_a7f1336c270a8ee96a67edef7f124e5ba"><div class="ttname"><a href="usb_8h.html#a7f1336c270a8ee96a67edef7f124e5ba">USB_EP_DEV_OUT</a></div><div class="ttdeci">#define USB_EP_DEV_OUT</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00245">usb.h:245</a></div></div>
<div class="ttc" id="usb_8h_html_a8e177910552fb7eeb3c11ef9e35d7439"><div class="ttname"><a href="usb_8h.html#a8e177910552fb7eeb3c11ef9e35d7439">USB_EP_4</a></div><div class="ttdeci">#define USB_EP_4</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00351">usb.h:351</a></div></div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="hw__usb_8h_html_af953e2449fe4e26a4a805200be97b03c"><div class="ttname"><a href="hw__usb_8h.html#af953e2449fe4e26a4a805200be97b03c">USB_O_RXCSRH1</a></div><div class="ttdeci">#define USB_O_RXCSRH1</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00180">hw_usb.h:180</a></div></div>
<div class="ttc" id="hw__usb_8h_html_aa2d73dc23a25ea5d43b680cedfbf191e"><div class="ttname"><a href="hw__usb_8h.html#aa2d73dc23a25ea5d43b680cedfbf191e">USB_O_TXCSRH1</a></div><div class="ttdeci">#define USB_O_TXCSRH1</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00174">hw_usb.h:174</a></div></div>
<div class="ttc" id="usb_8h_html_a73892b0ca4c30f38c7fef4d7d6fd2caf"><div class="ttname"><a href="usb_8h.html#a73892b0ca4c30f38c7fef4d7d6fd2caf">USB_EP_5</a></div><div class="ttdeci">#define USB_EP_5</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00352">usb.h:352</a></div></div>
<div class="ttc" id="hw__types_8h_html_ac664ac49fa3d7c414f67572e522a74fb"><div class="ttname"><a href="hw__types_8h.html#ac664ac49fa3d7c414f67572e522a74fb">HWREGH</a></div><div class="ttdeci">#define HWREGH(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00050">hw_types.h:50</a></div></div>
<div class="ttc" id="usb_8h_html_af83d520bf70b794bd74c9e2f8573e7ab"><div class="ttname"><a href="usb_8h.html#af83d520bf70b794bd74c9e2f8573e7ab">USB_EP_AUTO_SET</a></div><div class="ttdeci">#define USB_EP_AUTO_SET</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00226">usb.h:226</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a3f19fc8cbdc83cd742276b0787c0705f"><div class="ttname"><a href="hw__usb_8h.html#a3f19fc8cbdc83cd742276b0787c0705f">USB_RXCSRH1_AUTOCL</a></div><div class="ttdeci">#define USB_RXCSRH1_AUTOCL</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01319">hw_usb.h:1319</a></div></div>
<div class="ttc" id="usb_8h_html_ab35e7f9177cbd7f7c6af3319d936c1d3"><div class="ttname"><a href="usb_8h.html#ab35e7f9177cbd7f7c6af3319d936c1d3">USB_EP_DMA_MODE_0</a></div><div class="ttdeci">#define USB_EP_DMA_MODE_0</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00229">usb.h:229</a></div></div>
<div class="ttc" id="usb_8h_html_a4a0a3d355ece777a24c1fcfc192a7ef7"><div class="ttname"><a href="usb_8h.html#a4a0a3d355ece777a24c1fcfc192a7ef7">USB_EP_6</a></div><div class="ttdeci">#define USB_EP_6</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00353">usb.h:353</a></div></div>
<div class="ttc" id="usb_8h_html_aa6159888b439bfb438c8e5d898214922"><div class="ttname"><a href="usb_8h.html#aa6159888b439bfb438c8e5d898214922">USB_EP_MODE_BULK</a></div><div class="ttdeci">#define USB_EP_MODE_BULK</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00235">usb.h:235</a></div></div>
<div class="ttc" id="usb_8h_html_ab0f7986e9b00a278f0d9546e1d646440"><div class="ttname"><a href="usb_8h.html#ab0f7986e9b00a278f0d9546e1d646440">USB_EP_3</a></div><div class="ttdeci">#define USB_EP_3</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00350">usb.h:350</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a6a74dc0cf7f4010a9562834742a12569"><div class="ttname"><a href="hw__usb_8h.html#a6a74dc0cf7f4010a9562834742a12569">USB_TXCSRH1_AUTOSET</a></div><div class="ttdeci">#define USB_TXCSRH1_AUTOSET</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01280">hw_usb.h:1280</a></div></div>
<div class="ttc" id="usb_8h_html_a13cce6caa2ecdaa333ae6a9fe5869e32"><div class="ttname"><a href="usb_8h.html#a13cce6caa2ecdaa333ae6a9fe5869e32">USB_EP_2</a></div><div class="ttdeci">#define USB_EP_2</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00349">usb.h:349</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a10a3276cbd2ee4806cbe3e0f4840b578"><div class="ttname"><a href="hw__usb_8h.html#a10a3276cbd2ee4806cbe3e0f4840b578">USB_O_TXMAXP1</a></div><div class="ttdeci">#define USB_O_TXMAXP1</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00170">hw_usb.h:170</a></div></div>
<div class="ttc" id="usb_8h_html_a4e39f33c6467bddfb7d3e92a2ea5b789"><div class="ttname"><a href="usb_8h.html#a4e39f33c6467bddfb7d3e92a2ea5b789">USB_EP_1</a></div><div class="ttdeci">#define USB_EP_1</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00348">usb.h:348</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a70a09d67fe2b11247e013449470a04d0"><div class="ttname"><a href="hw__usb_8h.html#a70a09d67fe2b11247e013449470a04d0">USB_TXCSRH1_DMAEN</a></div><div class="ttdeci">#define USB_TXCSRH1_DMAEN</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01283">hw_usb.h:1283</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a423af9f584de17f1261b1736e3e0b98b"><div class="ttname"><a href="hw__usb_8h.html#a423af9f584de17f1261b1736e3e0b98b">USB_RXCSRH1_ISO</a></div><div class="ttdeci">#define USB_RXCSRH1_ISO</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01321">hw_usb.h:1321</a></div></div>
<div class="ttc" id="usb_8h_html_ac6ffbe05755a887eff3bee31239d76ee"><div class="ttname"><a href="usb_8h.html#ac6ffbe05755a887eff3bee31239d76ee">USB_EP_AUTO_CLEAR</a></div><div class="ttdeci">#define USB_EP_AUTO_CLEAR</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00228">usb.h:228</a></div></div>
<div class="ttc" id="hw__types_8h_html_a084083ee12e5262f8e54bb56c15ac8c7"><div class="ttname"><a href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a></div><div class="ttdeci">#define HWREGB(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00052">hw_types.h:52</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a74c921b3840ba9d08eabd9de16401bd2"><div class="ttname"><a href="hw__usb_8h.html#a74c921b3840ba9d08eabd9de16401bd2">USB_O_RXMAXP1</a></div><div class="ttdeci">#define USB_O_RXMAXP1</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00176">hw_usb.h:176</a></div></div>
<div class="ttc" id="group__usb__api_html_gaadf74b0caf840f0d3222cb1dc563684c"><div class="ttname"><a href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a></div><div class="ttdeci">#define EP_OFFSET(Endpoint)</div><div class="ttdef"><b>Definition:</b> <a href="usb_8c_source.html#l00082">usb.c:82</a></div></div>
<div class="ttc" id="hw__memmap_8h_html_aa47acf4992407a85e79d911ca1055d17"><div class="ttname"><a href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a></div><div class="ttdeci">#define USB0_BASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__memmap_8h_source.html#l00099">hw_memmap.h:99</a></div></div>
<div class="ttc" id="usb_8h_html_a78dcce1706922dc17a6baf4e8f37150d"><div class="ttname"><a href="usb_8h.html#a78dcce1706922dc17a6baf4e8f37150d">USB_EP_7</a></div><div class="ttdeci">#define USB_EP_7</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00354">usb.h:354</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga01a7ebd9276d10d86358d5fcc945d35c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USBDevEndpointConfigSet </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Endpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32MaxPacketSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the configuration for an endpoint.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address. </td></tr>
    <tr><td class="paramname">ui32Endpoint</td><td>is the endpoint to access. </td></tr>
    <tr><td class="paramname">ui32MaxPacketSize</td><td>is the maximum packet size for this endpoint. </td></tr>
    <tr><td class="paramname">ui32Flags</td><td>are used to configure other endpoint settings.</td></tr>
  </table>
  </dd>
</dl>
<p>This function sets the basic configuration for an endpoint in device mode. Endpoint zero does not have a dynamic configuration, so this function must not be called for endpoint zero. The <em>ui32Flags</em> parameter determines some of the configuration while the other parameters provide the rest.</p>
<p>The <b>USB_EP_MODE_</b> flags define what the type is for the specified endpoint.</p>
<ul>
<li><b>USB_EP_MODE_CTRL</b> is a control endpoint.</li>
<li><b>USB_EP_MODE_ISOC</b> is an isochronous endpoint.</li>
<li><b>USB_EP_MODE_BULK</b> is a bulk endpoint.</li>
<li><b>USB_EP_MODE_INT</b> is an interrupt endpoint.</li>
</ul>
<p>The <b>USB_EP_DMA_MODE_</b> flags determine the type of DMA access to the endpoint data FIFOs. The choice of the DMA mode depends on how the DMA controller is configured and how it is being used. See the ``Using USB with the uDMA Controller'' or the ''Using the integrated USB DMA Controller'' section for more information on DMA configuration depending on the type of DMA that is supported by the USB controller.</p>
<p>When configuring an IN endpoint, the <b>USB_EP_AUTO_SET</b> bit can be specified to cause the automatic transmission of data on the USB bus as soon as <em>ui32MaxPacketSize</em> bytes of data are written into the FIFO for this endpoint. This option is commonly used with DMA (both on devices with integrated USB DMA as well as those that use uDMA) as no interaction is required to start the transmission of data.</p>
<p>When configuring an OUT endpoint, the <b>USB_EP_AUTO_REQUEST</b> bit is specified to trigger the request for more data once the FIFO has been drained enough to receive <em>ui32MaxPacketSize</em> more bytes of data. Also for OUT endpoints, the <b>USB_EP_AUTO_CLEAR</b> bit can be used to clear the data packet ready flag automatically once the data has been read from the FIFO. If this option is not used, this flag must be manually cleared via a call to <a class="el" href="group__usb__api.html#ga86b9ed2def63c841765968898d6e19e8">USBDevEndpointStatusClear()</a>. Both of these settings can be used to remove the need for extra calls when using the controller with DMA.</p>
<dl class="section note"><dt>Note</dt><dd>This function must only be called in device mode.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="usb_8c_source.html#l02053">2053</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="usb_8c_source.html#l00082">EP_OFFSET</a>, <a class="el" href="hw__types_8h_source.html#l00052">HWREGB</a>, <a class="el" href="hw__types_8h_source.html#l00050">HWREGH</a>, <a class="el" href="hw__memmap_8h_source.html#l00099">USB0_BASE</a>, <a class="el" href="usb_8h_source.html#l00348">USB_EP_1</a>, <a class="el" href="usb_8h_source.html#l00349">USB_EP_2</a>, <a class="el" href="usb_8h_source.html#l00350">USB_EP_3</a>, <a class="el" href="usb_8h_source.html#l00351">USB_EP_4</a>, <a class="el" href="usb_8h_source.html#l00352">USB_EP_5</a>, <a class="el" href="usb_8h_source.html#l00353">USB_EP_6</a>, <a class="el" href="usb_8h_source.html#l00354">USB_EP_7</a>, <a class="el" href="usb_8h_source.html#l00228">USB_EP_AUTO_CLEAR</a>, <a class="el" href="usb_8h_source.html#l00226">USB_EP_AUTO_SET</a>, <a class="el" href="usb_8h_source.html#l00244">USB_EP_DEV_IN</a>, <a class="el" href="usb_8h_source.html#l00231">USB_EP_DIS_NYET</a>, <a class="el" href="usb_8h_source.html#l00229">USB_EP_DMA_MODE_0</a>, <a class="el" href="usb_8h_source.html#l00230">USB_EP_DMA_MODE_1</a>, <a class="el" href="usb_8h_source.html#l00234">USB_EP_MODE_ISOC</a>, <a class="el" href="usb_8h_source.html#l00238">USB_EP_MODE_MASK</a>, <a class="el" href="hw__usb_8h_source.html#l00180">USB_O_RXCSRH1</a>, <a class="el" href="hw__usb_8h_source.html#l00178">USB_O_RXCSRL1</a>, <a class="el" href="hw__usb_8h_source.html#l00176">USB_O_RXMAXP1</a>, <a class="el" href="hw__usb_8h_source.html#l00174">USB_O_TXCSRH1</a>, <a class="el" href="hw__usb_8h_source.html#l00172">USB_O_TXCSRL1</a>, <a class="el" href="hw__usb_8h_source.html#l00170">USB_O_TXMAXP1</a>, <a class="el" href="hw__usb_8h_source.html#l01319">USB_RXCSRH1_AUTOCL</a>, <a class="el" href="hw__usb_8h_source.html#l01323">USB_RXCSRH1_DISNYET</a>, <a class="el" href="hw__usb_8h_source.html#l01322">USB_RXCSRH1_DMAEN</a>, <a class="el" href="hw__usb_8h_source.html#l01325">USB_RXCSRH1_DMAMOD</a>, <a class="el" href="hw__usb_8h_source.html#l01321">USB_RXCSRH1_ISO</a>, <a class="el" href="hw__usb_8h_source.html#l01302">USB_RXCSRL1_CLRDT</a>, <a class="el" href="hw__usb_8h_source.html#l01280">USB_TXCSRH1_AUTOSET</a>, <a class="el" href="hw__usb_8h_source.html#l01283">USB_TXCSRH1_DMAEN</a>, <a class="el" href="hw__usb_8h_source.html#l01285">USB_TXCSRH1_DMAMOD</a>, <a class="el" href="hw__usb_8h_source.html#l01281">USB_TXCSRH1_ISO</a>, and <a class="el" href="hw__usb_8h_source.html#l01265">USB_TXCSRL1_CLRDT</a>.</p>
<div class="fragment"><div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;{</div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;    uint32_t ui32Register;</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a>);</div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32Endpoint == <a class="code" href="usb_8h.html#a4e39f33c6467bddfb7d3e92a2ea5b789">USB_EP_1</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a13cce6caa2ecdaa333ae6a9fe5869e32">USB_EP_2</a>) ||</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#ab0f7986e9b00a278f0d9546e1d646440">USB_EP_3</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a8e177910552fb7eeb3c11ef9e35d7439">USB_EP_4</a>) ||</div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a73892b0ca4c30f38c7fef4d7d6fd2caf">USB_EP_5</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a4a0a3d355ece777a24c1fcfc192a7ef7">USB_EP_6</a>) ||</div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a78dcce1706922dc17a6baf4e8f37150d">USB_EP_7</a>));</div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;</div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;    <span class="comment">// Determine if a transmit or receive endpoint is being configured.</span></div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;    <span class="keywordflow">if</span>(ui32Flags &amp; <a class="code" href="usb_8h.html#a2881e9200f51ae03c0d643e2d6ffa169">USB_EP_DEV_IN</a>)</div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;    {</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;        <span class="comment">// Set the maximum packet size.</span></div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;        <a class="code" href="hw__types_8h.html#ac664ac49fa3d7c414f67572e522a74fb">HWREGH</a>(ui32Base + <a class="code" href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a>(ui32Endpoint) + <a class="code" href="hw__usb_8h.html#a10a3276cbd2ee4806cbe3e0f4840b578">USB_O_TXMAXP1</a>) =</div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;            ui32MaxPacketSize;</div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;        <span class="comment">// The transmit control value is zero unless options are enabled.</span></div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;        ui32Register = 0;</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;        <span class="comment">// Allow auto setting of TxPktRdy when max packet size has been loaded</span></div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;        <span class="comment">// into the FIFO.</span></div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;        <span class="keywordflow">if</span>(ui32Flags &amp; <a class="code" href="usb_8h.html#af83d520bf70b794bd74c9e2f8573e7ab">USB_EP_AUTO_SET</a>)</div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;        {</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;            ui32Register |= <a class="code" href="hw__usb_8h.html#a6a74dc0cf7f4010a9562834742a12569">USB_TXCSRH1_AUTOSET</a>;</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;        }</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;</div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;        <span class="comment">// Configure the DMA mode.</span></div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;        <span class="keywordflow">if</span>(ui32Flags &amp; <a class="code" href="usb_8h.html#a259f82df7349fa5e07fb80726e5de017">USB_EP_DMA_MODE_1</a>)</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;        {</div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;            ui32Register |= <a class="code" href="hw__usb_8h.html#a70a09d67fe2b11247e013449470a04d0">USB_TXCSRH1_DMAEN</a> | <a class="code" href="hw__usb_8h.html#abd420b366edbcda207b59235e060eea6">USB_TXCSRH1_DMAMOD</a>;</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;        }</div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(ui32Flags &amp; <a class="code" href="usb_8h.html#ab35e7f9177cbd7f7c6af3319d936c1d3">USB_EP_DMA_MODE_0</a>)</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;        {</div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;            ui32Register |= <a class="code" href="hw__usb_8h.html#a70a09d67fe2b11247e013449470a04d0">USB_TXCSRH1_DMAEN</a>;</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;        }</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;</div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;        <span class="comment">// Enable isochronous mode if requested.</span></div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;        <span class="keywordflow">if</span>((ui32Flags &amp; <a class="code" href="usb_8h.html#ac4867149a95bf62b061dc3149c6eb596">USB_EP_MODE_MASK</a>) == <a class="code" href="usb_8h.html#a12885dc6ed4485c48d871c639cc6f952">USB_EP_MODE_ISOC</a>)</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;        {</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;            ui32Register |= <a class="code" href="hw__usb_8h.html#aa7f88966e1ed96f9874b97457f8e3aa9">USB_TXCSRH1_ISO</a>;</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;        }</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;        <span class="comment">// Write the transmit control value.</span></div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;        <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a>(ui32Endpoint) + <a class="code" href="hw__usb_8h.html#aa2d73dc23a25ea5d43b680cedfbf191e">USB_O_TXCSRH1</a>) =</div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;            (uint8_t)ui32Register;</div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;</div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;        <span class="comment">// Reset the Data toggle to zero.</span></div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;        <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a>(ui32Endpoint) + <a class="code" href="hw__usb_8h.html#a66b5ac3ba5d076b8fd632c377db5c09e">USB_O_TXCSRL1</a>) =</div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;            <a class="code" href="hw__usb_8h.html#a70a1b1e35e89f7ef19cf13df87a011bf">USB_TXCSRL1_CLRDT</a>;</div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;    }</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;    {</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;        <span class="comment">// Set the MaxPacketSize.</span></div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02129"></a><span class="lineno"> 2129</span>&#160;        <a class="code" href="hw__types_8h.html#ac664ac49fa3d7c414f67572e522a74fb">HWREGH</a>(ui32Base + <a class="code" href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a>(ui32Endpoint) + <a class="code" href="hw__usb_8h.html#a74c921b3840ba9d08eabd9de16401bd2">USB_O_RXMAXP1</a>) =</div>
<div class="line"><a name="l02130"></a><span class="lineno"> 2130</span>&#160;            ui32MaxPacketSize;</div>
<div class="line"><a name="l02131"></a><span class="lineno"> 2131</span>&#160;</div>
<div class="line"><a name="l02132"></a><span class="lineno"> 2132</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;        <span class="comment">// The receive control value is zero unless options are enabled.</span></div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;        ui32Register = 0;</div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;</div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;        <span class="comment">// Allow auto clearing of RxPktRdy when packet of size max packet</span></div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;        <span class="comment">// has been unloaded from the FIFO.</span></div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;        <span class="keywordflow">if</span>(ui32Flags &amp; <a class="code" href="usb_8h.html#ac6ffbe05755a887eff3bee31239d76ee">USB_EP_AUTO_CLEAR</a>)</div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;        {</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;            ui32Register = <a class="code" href="hw__usb_8h.html#a3f19fc8cbdc83cd742276b0787c0705f">USB_RXCSRH1_AUTOCL</a>;</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;        }</div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;</div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;        <span class="comment">// Configure the DMA mode.</span></div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;        <span class="keywordflow">if</span>(ui32Flags &amp; USB_EP_DMA_MODE_1)</div>
<div class="line"><a name="l02150"></a><span class="lineno"> 2150</span>&#160;        {</div>
<div class="line"><a name="l02151"></a><span class="lineno"> 2151</span>&#160;            ui32Register |= <a class="code" href="hw__usb_8h.html#a77d6133e3e9658960e4bf88ea5e98219">USB_RXCSRH1_DMAEN</a> | <a class="code" href="hw__usb_8h.html#a765b6bd345468708035e8c6d4efd8a29">USB_RXCSRH1_DMAMOD</a>;</div>
<div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;        }</div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(ui32Flags &amp; USB_EP_DMA_MODE_0)</div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;        {</div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;            ui32Register |= <a class="code" href="hw__usb_8h.html#a77d6133e3e9658960e4bf88ea5e98219">USB_RXCSRH1_DMAEN</a>;</div>
<div class="line"><a name="l02156"></a><span class="lineno"> 2156</span>&#160;        }</div>
<div class="line"><a name="l02157"></a><span class="lineno"> 2157</span>&#160;</div>
<div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;        <span class="comment">// If requested, disable NYET responses for high-speed bulk and</span></div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;        <span class="comment">// interrupt endpoints.</span></div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;        <span class="keywordflow">if</span>(ui32Flags &amp; <a class="code" href="usb_8h.html#ada00401c28ff54d738c82aaab7a040bb">USB_EP_DIS_NYET</a>)</div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;        {</div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;            ui32Register |= <a class="code" href="hw__usb_8h.html#a6c83ed4e64462e78c83dd403118c842d">USB_RXCSRH1_DISNYET</a>;</div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;        }</div>
<div class="line"><a name="l02166"></a><span class="lineno"> 2166</span>&#160;</div>
<div class="line"><a name="l02167"></a><span class="lineno"> 2167</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02168"></a><span class="lineno"> 2168</span>&#160;        <span class="comment">// Enable isochronous mode if requested.</span></div>
<div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;        <span class="keywordflow">if</span>((ui32Flags &amp; USB_EP_MODE_MASK) == <a class="code" href="usb_8h.html#a12885dc6ed4485c48d871c639cc6f952">USB_EP_MODE_ISOC</a>)</div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;        {</div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;            ui32Register |= <a class="code" href="hw__usb_8h.html#a423af9f584de17f1261b1736e3e0b98b">USB_RXCSRH1_ISO</a>;</div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;        }</div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;</div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;        <span class="comment">// Write the receive control value.</span></div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;        <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a>(ui32Endpoint) + <a class="code" href="hw__usb_8h.html#af953e2449fe4e26a4a805200be97b03c">USB_O_RXCSRH1</a>) =</div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;            (uint8_t)ui32Register;</div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;</div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;        <span class="comment">// Reset the Data toggle to zero.</span></div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;        <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a>(ui32Endpoint) + <a class="code" href="hw__usb_8h.html#a57bc94dcb14fdfc3f27d6320c7de3a86">USB_O_RXCSRL1</a>) =</div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;            <a class="code" href="hw__usb_8h.html#aee0bc3c1d82b61a1fabab0e5347f052c">USB_RXCSRL1_CLRDT</a>;</div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;    }</div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;}</div>
<div class="ttc" id="hw__usb_8h_html_a77d6133e3e9658960e4bf88ea5e98219"><div class="ttname"><a href="hw__usb_8h.html#a77d6133e3e9658960e4bf88ea5e98219">USB_RXCSRH1_DMAEN</a></div><div class="ttdeci">#define USB_RXCSRH1_DMAEN</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01322">hw_usb.h:1322</a></div></div>
<div class="ttc" id="usb_8h_html_a12885dc6ed4485c48d871c639cc6f952"><div class="ttname"><a href="usb_8h.html#a12885dc6ed4485c48d871c639cc6f952">USB_EP_MODE_ISOC</a></div><div class="ttdeci">#define USB_EP_MODE_ISOC</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00234">usb.h:234</a></div></div>
<div class="ttc" id="hw__usb_8h_html_abd420b366edbcda207b59235e060eea6"><div class="ttname"><a href="hw__usb_8h.html#abd420b366edbcda207b59235e060eea6">USB_TXCSRH1_DMAMOD</a></div><div class="ttdeci">#define USB_TXCSRH1_DMAMOD</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01285">hw_usb.h:1285</a></div></div>
<div class="ttc" id="usb_8h_html_a2881e9200f51ae03c0d643e2d6ffa169"><div class="ttname"><a href="usb_8h.html#a2881e9200f51ae03c0d643e2d6ffa169">USB_EP_DEV_IN</a></div><div class="ttdeci">#define USB_EP_DEV_IN</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00244">usb.h:244</a></div></div>
<div class="ttc" id="hw__usb_8h_html_aa7f88966e1ed96f9874b97457f8e3aa9"><div class="ttname"><a href="hw__usb_8h.html#aa7f88966e1ed96f9874b97457f8e3aa9">USB_TXCSRH1_ISO</a></div><div class="ttdeci">#define USB_TXCSRH1_ISO</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01281">hw_usb.h:1281</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a765b6bd345468708035e8c6d4efd8a29"><div class="ttname"><a href="hw__usb_8h.html#a765b6bd345468708035e8c6d4efd8a29">USB_RXCSRH1_DMAMOD</a></div><div class="ttdeci">#define USB_RXCSRH1_DMAMOD</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01325">hw_usb.h:1325</a></div></div>
<div class="ttc" id="usb_8h_html_a259f82df7349fa5e07fb80726e5de017"><div class="ttname"><a href="usb_8h.html#a259f82df7349fa5e07fb80726e5de017">USB_EP_DMA_MODE_1</a></div><div class="ttdeci">#define USB_EP_DMA_MODE_1</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00230">usb.h:230</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a6c83ed4e64462e78c83dd403118c842d"><div class="ttname"><a href="hw__usb_8h.html#a6c83ed4e64462e78c83dd403118c842d">USB_RXCSRH1_DISNYET</a></div><div class="ttdeci">#define USB_RXCSRH1_DISNYET</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01323">hw_usb.h:1323</a></div></div>
<div class="ttc" id="usb_8h_html_ac4867149a95bf62b061dc3149c6eb596"><div class="ttname"><a href="usb_8h.html#ac4867149a95bf62b061dc3149c6eb596">USB_EP_MODE_MASK</a></div><div class="ttdeci">#define USB_EP_MODE_MASK</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00238">usb.h:238</a></div></div>
<div class="ttc" id="usb_8h_html_a8e177910552fb7eeb3c11ef9e35d7439"><div class="ttname"><a href="usb_8h.html#a8e177910552fb7eeb3c11ef9e35d7439">USB_EP_4</a></div><div class="ttdeci">#define USB_EP_4</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00351">usb.h:351</a></div></div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="usb_8h_html_ada00401c28ff54d738c82aaab7a040bb"><div class="ttname"><a href="usb_8h.html#ada00401c28ff54d738c82aaab7a040bb">USB_EP_DIS_NYET</a></div><div class="ttdeci">#define USB_EP_DIS_NYET</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00231">usb.h:231</a></div></div>
<div class="ttc" id="hw__usb_8h_html_af953e2449fe4e26a4a805200be97b03c"><div class="ttname"><a href="hw__usb_8h.html#af953e2449fe4e26a4a805200be97b03c">USB_O_RXCSRH1</a></div><div class="ttdeci">#define USB_O_RXCSRH1</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00180">hw_usb.h:180</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a57bc94dcb14fdfc3f27d6320c7de3a86"><div class="ttname"><a href="hw__usb_8h.html#a57bc94dcb14fdfc3f27d6320c7de3a86">USB_O_RXCSRL1</a></div><div class="ttdeci">#define USB_O_RXCSRL1</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00178">hw_usb.h:178</a></div></div>
<div class="ttc" id="hw__usb_8h_html_aa2d73dc23a25ea5d43b680cedfbf191e"><div class="ttname"><a href="hw__usb_8h.html#aa2d73dc23a25ea5d43b680cedfbf191e">USB_O_TXCSRH1</a></div><div class="ttdeci">#define USB_O_TXCSRH1</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00174">hw_usb.h:174</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a70a1b1e35e89f7ef19cf13df87a011bf"><div class="ttname"><a href="hw__usb_8h.html#a70a1b1e35e89f7ef19cf13df87a011bf">USB_TXCSRL1_CLRDT</a></div><div class="ttdeci">#define USB_TXCSRL1_CLRDT</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01265">hw_usb.h:1265</a></div></div>
<div class="ttc" id="usb_8h_html_a73892b0ca4c30f38c7fef4d7d6fd2caf"><div class="ttname"><a href="usb_8h.html#a73892b0ca4c30f38c7fef4d7d6fd2caf">USB_EP_5</a></div><div class="ttdeci">#define USB_EP_5</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00352">usb.h:352</a></div></div>
<div class="ttc" id="hw__types_8h_html_ac664ac49fa3d7c414f67572e522a74fb"><div class="ttname"><a href="hw__types_8h.html#ac664ac49fa3d7c414f67572e522a74fb">HWREGH</a></div><div class="ttdeci">#define HWREGH(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00050">hw_types.h:50</a></div></div>
<div class="ttc" id="usb_8h_html_af83d520bf70b794bd74c9e2f8573e7ab"><div class="ttname"><a href="usb_8h.html#af83d520bf70b794bd74c9e2f8573e7ab">USB_EP_AUTO_SET</a></div><div class="ttdeci">#define USB_EP_AUTO_SET</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00226">usb.h:226</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a3f19fc8cbdc83cd742276b0787c0705f"><div class="ttname"><a href="hw__usb_8h.html#a3f19fc8cbdc83cd742276b0787c0705f">USB_RXCSRH1_AUTOCL</a></div><div class="ttdeci">#define USB_RXCSRH1_AUTOCL</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01319">hw_usb.h:1319</a></div></div>
<div class="ttc" id="usb_8h_html_ab35e7f9177cbd7f7c6af3319d936c1d3"><div class="ttname"><a href="usb_8h.html#ab35e7f9177cbd7f7c6af3319d936c1d3">USB_EP_DMA_MODE_0</a></div><div class="ttdeci">#define USB_EP_DMA_MODE_0</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00229">usb.h:229</a></div></div>
<div class="ttc" id="usb_8h_html_a4a0a3d355ece777a24c1fcfc192a7ef7"><div class="ttname"><a href="usb_8h.html#a4a0a3d355ece777a24c1fcfc192a7ef7">USB_EP_6</a></div><div class="ttdeci">#define USB_EP_6</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00353">usb.h:353</a></div></div>
<div class="ttc" id="hw__usb_8h_html_aee0bc3c1d82b61a1fabab0e5347f052c"><div class="ttname"><a href="hw__usb_8h.html#aee0bc3c1d82b61a1fabab0e5347f052c">USB_RXCSRL1_CLRDT</a></div><div class="ttdeci">#define USB_RXCSRL1_CLRDT</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01302">hw_usb.h:1302</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a66b5ac3ba5d076b8fd632c377db5c09e"><div class="ttname"><a href="hw__usb_8h.html#a66b5ac3ba5d076b8fd632c377db5c09e">USB_O_TXCSRL1</a></div><div class="ttdeci">#define USB_O_TXCSRL1</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00172">hw_usb.h:172</a></div></div>
<div class="ttc" id="usb_8h_html_ab0f7986e9b00a278f0d9546e1d646440"><div class="ttname"><a href="usb_8h.html#ab0f7986e9b00a278f0d9546e1d646440">USB_EP_3</a></div><div class="ttdeci">#define USB_EP_3</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00350">usb.h:350</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a6a74dc0cf7f4010a9562834742a12569"><div class="ttname"><a href="hw__usb_8h.html#a6a74dc0cf7f4010a9562834742a12569">USB_TXCSRH1_AUTOSET</a></div><div class="ttdeci">#define USB_TXCSRH1_AUTOSET</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01280">hw_usb.h:1280</a></div></div>
<div class="ttc" id="usb_8h_html_a13cce6caa2ecdaa333ae6a9fe5869e32"><div class="ttname"><a href="usb_8h.html#a13cce6caa2ecdaa333ae6a9fe5869e32">USB_EP_2</a></div><div class="ttdeci">#define USB_EP_2</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00349">usb.h:349</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a10a3276cbd2ee4806cbe3e0f4840b578"><div class="ttname"><a href="hw__usb_8h.html#a10a3276cbd2ee4806cbe3e0f4840b578">USB_O_TXMAXP1</a></div><div class="ttdeci">#define USB_O_TXMAXP1</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00170">hw_usb.h:170</a></div></div>
<div class="ttc" id="usb_8h_html_a4e39f33c6467bddfb7d3e92a2ea5b789"><div class="ttname"><a href="usb_8h.html#a4e39f33c6467bddfb7d3e92a2ea5b789">USB_EP_1</a></div><div class="ttdeci">#define USB_EP_1</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00348">usb.h:348</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a70a09d67fe2b11247e013449470a04d0"><div class="ttname"><a href="hw__usb_8h.html#a70a09d67fe2b11247e013449470a04d0">USB_TXCSRH1_DMAEN</a></div><div class="ttdeci">#define USB_TXCSRH1_DMAEN</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01283">hw_usb.h:1283</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a423af9f584de17f1261b1736e3e0b98b"><div class="ttname"><a href="hw__usb_8h.html#a423af9f584de17f1261b1736e3e0b98b">USB_RXCSRH1_ISO</a></div><div class="ttdeci">#define USB_RXCSRH1_ISO</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01321">hw_usb.h:1321</a></div></div>
<div class="ttc" id="usb_8h_html_ac6ffbe05755a887eff3bee31239d76ee"><div class="ttname"><a href="usb_8h.html#ac6ffbe05755a887eff3bee31239d76ee">USB_EP_AUTO_CLEAR</a></div><div class="ttdeci">#define USB_EP_AUTO_CLEAR</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00228">usb.h:228</a></div></div>
<div class="ttc" id="hw__types_8h_html_a084083ee12e5262f8e54bb56c15ac8c7"><div class="ttname"><a href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a></div><div class="ttdeci">#define HWREGB(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00052">hw_types.h:52</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a74c921b3840ba9d08eabd9de16401bd2"><div class="ttname"><a href="hw__usb_8h.html#a74c921b3840ba9d08eabd9de16401bd2">USB_O_RXMAXP1</a></div><div class="ttdeci">#define USB_O_RXMAXP1</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00176">hw_usb.h:176</a></div></div>
<div class="ttc" id="group__usb__api_html_gaadf74b0caf840f0d3222cb1dc563684c"><div class="ttname"><a href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a></div><div class="ttdeci">#define EP_OFFSET(Endpoint)</div><div class="ttdef"><b>Definition:</b> <a href="usb_8c_source.html#l00082">usb.c:82</a></div></div>
<div class="ttc" id="hw__memmap_8h_html_aa47acf4992407a85e79d911ca1055d17"><div class="ttname"><a href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a></div><div class="ttdeci">#define USB0_BASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__memmap_8h_source.html#l00099">hw_memmap.h:99</a></div></div>
<div class="ttc" id="usb_8h_html_a78dcce1706922dc17a6baf4e8f37150d"><div class="ttname"><a href="usb_8h.html#a78dcce1706922dc17a6baf4e8f37150d">USB_EP_7</a></div><div class="ttdeci">#define USB_EP_7</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00354">usb.h:354</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gab842492063a5b2e7ae08b2c8115b6506"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USBDevEndpointDataAck </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Endpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bIsLastPacket</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Acknowledge that data was read from the specified endpoint's FIFO in device mode.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address. </td></tr>
    <tr><td class="paramname">ui32Endpoint</td><td>is the endpoint to access. </td></tr>
    <tr><td class="paramname">bIsLastPacket</td><td>indicates if this packet is the last one.</td></tr>
  </table>
  </dd>
</dl>
<p>This function acknowledges that the data was read from the endpoint's FIFO. The <em>bIsLastPacket</em> parameter is set to a <b>true</b> value if this is the last in a series of data packets on endpoint zero. The <em>bIsLastPacket</em> parameter is not used for endpoints other than endpoint zero. This call can be used if processing is required between reading the data and acknowledging that the data has been read.</p>
<dl class="section note"><dt>Note</dt><dd>This function must only be called in device mode.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="usb_8c_source.html#l02896">2896</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="usb_8c_source.html#l00082">EP_OFFSET</a>, <a class="el" href="hw__types_8h_source.html#l00052">HWREGB</a>, <a class="el" href="hw__memmap_8h_source.html#l00099">USB0_BASE</a>, <a class="el" href="hw__usb_8h_source.html#l01209">USB_CSRL0_DATAEND</a>, <a class="el" href="hw__usb_8h_source.html#l01204">USB_CSRL0_RXRDYC</a>, <a class="el" href="usb_8h_source.html#l00347">USB_EP_0</a>, <a class="el" href="usb_8h_source.html#l00348">USB_EP_1</a>, <a class="el" href="usb_8h_source.html#l00349">USB_EP_2</a>, <a class="el" href="usb_8h_source.html#l00350">USB_EP_3</a>, <a class="el" href="usb_8h_source.html#l00351">USB_EP_4</a>, <a class="el" href="usb_8h_source.html#l00352">USB_EP_5</a>, <a class="el" href="usb_8h_source.html#l00353">USB_EP_6</a>, <a class="el" href="usb_8h_source.html#l00354">USB_EP_7</a>, <a class="el" href="hw__usb_8h_source.html#l00162">USB_O_CSRL0</a>, <a class="el" href="hw__usb_8h_source.html#l00178">USB_O_RXCSRL1</a>, and <a class="el" href="hw__usb_8h_source.html#l01312">USB_RXCSRL1_RXRDY</a>.</p>
<div class="fragment"><div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;{</div>
<div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a>);</div>
<div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32Endpoint == <a class="code" href="usb_8h.html#a17438a2055fa93adc8baabd84a697246">USB_EP_0</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a4e39f33c6467bddfb7d3e92a2ea5b789">USB_EP_1</a>) ||</div>
<div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a13cce6caa2ecdaa333ae6a9fe5869e32">USB_EP_2</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#ab0f7986e9b00a278f0d9546e1d646440">USB_EP_3</a>) ||</div>
<div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a8e177910552fb7eeb3c11ef9e35d7439">USB_EP_4</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a73892b0ca4c30f38c7fef4d7d6fd2caf">USB_EP_5</a>) ||</div>
<div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a4a0a3d355ece777a24c1fcfc192a7ef7">USB_EP_6</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a78dcce1706922dc17a6baf4e8f37150d">USB_EP_7</a>));</div>
<div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;</div>
<div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;    <span class="comment">// Determine which endpoint is being acked.</span></div>
<div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;    <span class="keywordflow">if</span>(ui32Endpoint == <a class="code" href="usb_8h.html#a17438a2055fa93adc8baabd84a697246">USB_EP_0</a>)</div>
<div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;    {</div>
<div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;        <span class="comment">// Clear RxPktRdy, and optionally DataEnd, on endpoint zero.</span></div>
<div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;        <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a095977f9007e9e6af6f00eab8e1f64b1">USB_O_CSRL0</a>) =</div>
<div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;            <a class="code" href="hw__usb_8h.html#a48e2f3edca2d034139b6ee968e041d34">USB_CSRL0_RXRDYC</a> | (bIsLastPacket ? <a class="code" href="hw__usb_8h.html#a9d0b019991becfdfb91fe4227daad63e">USB_CSRL0_DATAEND</a> : 0);</div>
<div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;    }</div>
<div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;    {</div>
<div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;        <span class="comment">// Clear RxPktRdy on all other endpoints.</span></div>
<div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;        <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a57bc94dcb14fdfc3f27d6320c7de3a86">USB_O_RXCSRL1</a> + <a class="code" href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a>(ui32Endpoint)) &amp;=</div>
<div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;            ~(<a class="code" href="hw__usb_8h.html#aacc88e8db2bd97c22301ac3544a0d3ce">USB_RXCSRL1_RXRDY</a>);</div>
<div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;    }</div>
<div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160;}</div>
<div class="ttc" id="hw__usb_8h_html_a48e2f3edca2d034139b6ee968e041d34"><div class="ttname"><a href="hw__usb_8h.html#a48e2f3edca2d034139b6ee968e041d34">USB_CSRL0_RXRDYC</a></div><div class="ttdeci">#define USB_CSRL0_RXRDYC</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01204">hw_usb.h:1204</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a9d0b019991becfdfb91fe4227daad63e"><div class="ttname"><a href="hw__usb_8h.html#a9d0b019991becfdfb91fe4227daad63e">USB_CSRL0_DATAEND</a></div><div class="ttdeci">#define USB_CSRL0_DATAEND</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01209">hw_usb.h:1209</a></div></div>
<div class="ttc" id="usb_8h_html_a8e177910552fb7eeb3c11ef9e35d7439"><div class="ttname"><a href="usb_8h.html#a8e177910552fb7eeb3c11ef9e35d7439">USB_EP_4</a></div><div class="ttdeci">#define USB_EP_4</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00351">usb.h:351</a></div></div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="hw__usb_8h_html_aacc88e8db2bd97c22301ac3544a0d3ce"><div class="ttname"><a href="hw__usb_8h.html#aacc88e8db2bd97c22301ac3544a0d3ce">USB_RXCSRL1_RXRDY</a></div><div class="ttdeci">#define USB_RXCSRL1_RXRDY</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01312">hw_usb.h:1312</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a57bc94dcb14fdfc3f27d6320c7de3a86"><div class="ttname"><a href="hw__usb_8h.html#a57bc94dcb14fdfc3f27d6320c7de3a86">USB_O_RXCSRL1</a></div><div class="ttdeci">#define USB_O_RXCSRL1</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00178">hw_usb.h:178</a></div></div>
<div class="ttc" id="usb_8h_html_a73892b0ca4c30f38c7fef4d7d6fd2caf"><div class="ttname"><a href="usb_8h.html#a73892b0ca4c30f38c7fef4d7d6fd2caf">USB_EP_5</a></div><div class="ttdeci">#define USB_EP_5</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00352">usb.h:352</a></div></div>
<div class="ttc" id="usb_8h_html_a4a0a3d355ece777a24c1fcfc192a7ef7"><div class="ttname"><a href="usb_8h.html#a4a0a3d355ece777a24c1fcfc192a7ef7">USB_EP_6</a></div><div class="ttdeci">#define USB_EP_6</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00353">usb.h:353</a></div></div>
<div class="ttc" id="usb_8h_html_ab0f7986e9b00a278f0d9546e1d646440"><div class="ttname"><a href="usb_8h.html#ab0f7986e9b00a278f0d9546e1d646440">USB_EP_3</a></div><div class="ttdeci">#define USB_EP_3</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00350">usb.h:350</a></div></div>
<div class="ttc" id="usb_8h_html_a17438a2055fa93adc8baabd84a697246"><div class="ttname"><a href="usb_8h.html#a17438a2055fa93adc8baabd84a697246">USB_EP_0</a></div><div class="ttdeci">#define USB_EP_0</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00347">usb.h:347</a></div></div>
<div class="ttc" id="usb_8h_html_a13cce6caa2ecdaa333ae6a9fe5869e32"><div class="ttname"><a href="usb_8h.html#a13cce6caa2ecdaa333ae6a9fe5869e32">USB_EP_2</a></div><div class="ttdeci">#define USB_EP_2</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00349">usb.h:349</a></div></div>
<div class="ttc" id="usb_8h_html_a4e39f33c6467bddfb7d3e92a2ea5b789"><div class="ttname"><a href="usb_8h.html#a4e39f33c6467bddfb7d3e92a2ea5b789">USB_EP_1</a></div><div class="ttdeci">#define USB_EP_1</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00348">usb.h:348</a></div></div>
<div class="ttc" id="hw__types_8h_html_a084083ee12e5262f8e54bb56c15ac8c7"><div class="ttname"><a href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a></div><div class="ttdeci">#define HWREGB(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00052">hw_types.h:52</a></div></div>
<div class="ttc" id="group__usb__api_html_gaadf74b0caf840f0d3222cb1dc563684c"><div class="ttname"><a href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a></div><div class="ttdeci">#define EP_OFFSET(Endpoint)</div><div class="ttdef"><b>Definition:</b> <a href="usb_8c_source.html#l00082">usb.c:82</a></div></div>
<div class="ttc" id="hw__memmap_8h_html_aa47acf4992407a85e79d911ca1055d17"><div class="ttname"><a href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a></div><div class="ttdeci">#define USB0_BASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__memmap_8h_source.html#l00099">hw_memmap.h:99</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a095977f9007e9e6af6f00eab8e1f64b1"><div class="ttname"><a href="hw__usb_8h.html#a095977f9007e9e6af6f00eab8e1f64b1">USB_O_CSRL0</a></div><div class="ttdeci">#define USB_O_CSRL0</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00162">hw_usb.h:162</a></div></div>
<div class="ttc" id="usb_8h_html_a78dcce1706922dc17a6baf4e8f37150d"><div class="ttname"><a href="usb_8h.html#a78dcce1706922dc17a6baf4e8f37150d">USB_EP_7</a></div><div class="ttdeci">#define USB_EP_7</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00354">usb.h:354</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga168e327aa696b75fa46363f5c6e8530e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USBDevEndpointStall </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Endpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Stalls the specified endpoint in device mode.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address. </td></tr>
    <tr><td class="paramname">ui32Endpoint</td><td>specifies the endpoint to stall. </td></tr>
    <tr><td class="paramname">ui32Flags</td><td>specifies whether to stall the IN or OUT endpoint.</td></tr>
  </table>
  </dd>
</dl>
<p>This function causes the endpoint number passed in to go into a stall condition. If the <em>ui32Flags</em> parameter is <b>USB_EP_DEV_IN</b>, then the stall is issued on the IN portion of this endpoint. If the <em>ui32Flags</em> parameter is <b>USB_EP_DEV_OUT</b>, then the stall is issued on the OUT portion of this endpoint.</p>
<dl class="section note"><dt>Note</dt><dd>This function must only be called in device mode.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="usb_8c_source.html#l01369">1369</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="usb_8c_source.html#l00082">EP_OFFSET</a>, <a class="el" href="hw__types_8h_source.html#l00052">HWREGB</a>, <a class="el" href="hw__memmap_8h_source.html#l00099">USB0_BASE</a>, <a class="el" href="hw__usb_8h_source.html#l01204">USB_CSRL0_RXRDYC</a>, <a class="el" href="hw__usb_8h_source.html#l01206">USB_CSRL0_STALL</a>, <a class="el" href="usb_8h_source.html#l00347">USB_EP_0</a>, <a class="el" href="usb_8h_source.html#l00348">USB_EP_1</a>, <a class="el" href="usb_8h_source.html#l00349">USB_EP_2</a>, <a class="el" href="usb_8h_source.html#l00350">USB_EP_3</a>, <a class="el" href="usb_8h_source.html#l00351">USB_EP_4</a>, <a class="el" href="usb_8h_source.html#l00352">USB_EP_5</a>, <a class="el" href="usb_8h_source.html#l00353">USB_EP_6</a>, <a class="el" href="usb_8h_source.html#l00354">USB_EP_7</a>, <a class="el" href="usb_8h_source.html#l00244">USB_EP_DEV_IN</a>, <a class="el" href="usb_8h_source.html#l00245">USB_EP_DEV_OUT</a>, <a class="el" href="hw__usb_8h_source.html#l00162">USB_O_CSRL0</a>, <a class="el" href="hw__usb_8h_source.html#l00178">USB_O_RXCSRL1</a>, <a class="el" href="hw__usb_8h_source.html#l00172">USB_O_TXCSRL1</a>, <a class="el" href="hw__usb_8h_source.html#l01304">USB_RXCSRL1_STALL</a>, and <a class="el" href="hw__usb_8h_source.html#l01267">USB_TXCSRL1_STALL</a>.</p>
<div class="fragment"><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;{</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a>);</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32Flags &amp; ~(<a class="code" href="usb_8h.html#a2881e9200f51ae03c0d643e2d6ffa169">USB_EP_DEV_IN</a> | <a class="code" href="usb_8h.html#a7f1336c270a8ee96a67edef7f124e5ba">USB_EP_DEV_OUT</a>)) == 0);</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32Endpoint == <a class="code" href="usb_8h.html#a17438a2055fa93adc8baabd84a697246">USB_EP_0</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a4e39f33c6467bddfb7d3e92a2ea5b789">USB_EP_1</a>) ||</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a13cce6caa2ecdaa333ae6a9fe5869e32">USB_EP_2</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#ab0f7986e9b00a278f0d9546e1d646440">USB_EP_3</a>) ||</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a8e177910552fb7eeb3c11ef9e35d7439">USB_EP_4</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a73892b0ca4c30f38c7fef4d7d6fd2caf">USB_EP_5</a>) ||</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a4a0a3d355ece777a24c1fcfc192a7ef7">USB_EP_6</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a78dcce1706922dc17a6baf4e8f37150d">USB_EP_7</a>));</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;    <span class="comment">// Determine how to stall this endpoint.</span></div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;    <span class="keywordflow">if</span>(ui32Endpoint == <a class="code" href="usb_8h.html#a17438a2055fa93adc8baabd84a697246">USB_EP_0</a>)</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;    {</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;        <span class="comment">// Perform a stall on endpoint zero.</span></div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;        <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a095977f9007e9e6af6f00eab8e1f64b1">USB_O_CSRL0</a>) |= <a class="code" href="hw__usb_8h.html#ab41d8813224b450b8d5fb8602d7f8362">USB_CSRL0_STALL</a> | <a class="code" href="hw__usb_8h.html#a48e2f3edca2d034139b6ee968e041d34">USB_CSRL0_RXRDYC</a>;</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;    }</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(ui32Flags == <a class="code" href="usb_8h.html#a2881e9200f51ae03c0d643e2d6ffa169">USB_EP_DEV_IN</a>)</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;    {</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;        <span class="comment">// Perform a stall on an IN endpoint.</span></div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;        <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a66b5ac3ba5d076b8fd632c377db5c09e">USB_O_TXCSRL1</a> + <a class="code" href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a>(ui32Endpoint)) |=</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;            <a class="code" href="hw__usb_8h.html#a37d6d15e1848c4aef25049a3dc9e09d2">USB_TXCSRL1_STALL</a>;</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;    }</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;    {</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;        <span class="comment">// Perform a stall on an OUT endpoint.</span></div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;        <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a57bc94dcb14fdfc3f27d6320c7de3a86">USB_O_RXCSRL1</a> + <a class="code" href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a>(ui32Endpoint)) |=</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;            <a class="code" href="hw__usb_8h.html#a14d69e7194f31c15b10dfda9c5109b5f">USB_RXCSRL1_STALL</a>;</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;    }</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;}</div>
<div class="ttc" id="usb_8h_html_a2881e9200f51ae03c0d643e2d6ffa169"><div class="ttname"><a href="usb_8h.html#a2881e9200f51ae03c0d643e2d6ffa169">USB_EP_DEV_IN</a></div><div class="ttdeci">#define USB_EP_DEV_IN</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00244">usb.h:244</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a48e2f3edca2d034139b6ee968e041d34"><div class="ttname"><a href="hw__usb_8h.html#a48e2f3edca2d034139b6ee968e041d34">USB_CSRL0_RXRDYC</a></div><div class="ttdeci">#define USB_CSRL0_RXRDYC</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01204">hw_usb.h:1204</a></div></div>
<div class="ttc" id="usb_8h_html_a7f1336c270a8ee96a67edef7f124e5ba"><div class="ttname"><a href="usb_8h.html#a7f1336c270a8ee96a67edef7f124e5ba">USB_EP_DEV_OUT</a></div><div class="ttdeci">#define USB_EP_DEV_OUT</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00245">usb.h:245</a></div></div>
<div class="ttc" id="usb_8h_html_a8e177910552fb7eeb3c11ef9e35d7439"><div class="ttname"><a href="usb_8h.html#a8e177910552fb7eeb3c11ef9e35d7439">USB_EP_4</a></div><div class="ttdeci">#define USB_EP_4</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00351">usb.h:351</a></div></div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a57bc94dcb14fdfc3f27d6320c7de3a86"><div class="ttname"><a href="hw__usb_8h.html#a57bc94dcb14fdfc3f27d6320c7de3a86">USB_O_RXCSRL1</a></div><div class="ttdeci">#define USB_O_RXCSRL1</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00178">hw_usb.h:178</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a37d6d15e1848c4aef25049a3dc9e09d2"><div class="ttname"><a href="hw__usb_8h.html#a37d6d15e1848c4aef25049a3dc9e09d2">USB_TXCSRL1_STALL</a></div><div class="ttdeci">#define USB_TXCSRL1_STALL</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01267">hw_usb.h:1267</a></div></div>
<div class="ttc" id="hw__usb_8h_html_ab41d8813224b450b8d5fb8602d7f8362"><div class="ttname"><a href="hw__usb_8h.html#ab41d8813224b450b8d5fb8602d7f8362">USB_CSRL0_STALL</a></div><div class="ttdeci">#define USB_CSRL0_STALL</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01206">hw_usb.h:1206</a></div></div>
<div class="ttc" id="usb_8h_html_a73892b0ca4c30f38c7fef4d7d6fd2caf"><div class="ttname"><a href="usb_8h.html#a73892b0ca4c30f38c7fef4d7d6fd2caf">USB_EP_5</a></div><div class="ttdeci">#define USB_EP_5</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00352">usb.h:352</a></div></div>
<div class="ttc" id="usb_8h_html_a4a0a3d355ece777a24c1fcfc192a7ef7"><div class="ttname"><a href="usb_8h.html#a4a0a3d355ece777a24c1fcfc192a7ef7">USB_EP_6</a></div><div class="ttdeci">#define USB_EP_6</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00353">usb.h:353</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a66b5ac3ba5d076b8fd632c377db5c09e"><div class="ttname"><a href="hw__usb_8h.html#a66b5ac3ba5d076b8fd632c377db5c09e">USB_O_TXCSRL1</a></div><div class="ttdeci">#define USB_O_TXCSRL1</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00172">hw_usb.h:172</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a14d69e7194f31c15b10dfda9c5109b5f"><div class="ttname"><a href="hw__usb_8h.html#a14d69e7194f31c15b10dfda9c5109b5f">USB_RXCSRL1_STALL</a></div><div class="ttdeci">#define USB_RXCSRL1_STALL</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01304">hw_usb.h:1304</a></div></div>
<div class="ttc" id="usb_8h_html_ab0f7986e9b00a278f0d9546e1d646440"><div class="ttname"><a href="usb_8h.html#ab0f7986e9b00a278f0d9546e1d646440">USB_EP_3</a></div><div class="ttdeci">#define USB_EP_3</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00350">usb.h:350</a></div></div>
<div class="ttc" id="usb_8h_html_a17438a2055fa93adc8baabd84a697246"><div class="ttname"><a href="usb_8h.html#a17438a2055fa93adc8baabd84a697246">USB_EP_0</a></div><div class="ttdeci">#define USB_EP_0</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00347">usb.h:347</a></div></div>
<div class="ttc" id="usb_8h_html_a13cce6caa2ecdaa333ae6a9fe5869e32"><div class="ttname"><a href="usb_8h.html#a13cce6caa2ecdaa333ae6a9fe5869e32">USB_EP_2</a></div><div class="ttdeci">#define USB_EP_2</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00349">usb.h:349</a></div></div>
<div class="ttc" id="usb_8h_html_a4e39f33c6467bddfb7d3e92a2ea5b789"><div class="ttname"><a href="usb_8h.html#a4e39f33c6467bddfb7d3e92a2ea5b789">USB_EP_1</a></div><div class="ttdeci">#define USB_EP_1</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00348">usb.h:348</a></div></div>
<div class="ttc" id="hw__types_8h_html_a084083ee12e5262f8e54bb56c15ac8c7"><div class="ttname"><a href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a></div><div class="ttdeci">#define HWREGB(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00052">hw_types.h:52</a></div></div>
<div class="ttc" id="group__usb__api_html_gaadf74b0caf840f0d3222cb1dc563684c"><div class="ttname"><a href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a></div><div class="ttdeci">#define EP_OFFSET(Endpoint)</div><div class="ttdef"><b>Definition:</b> <a href="usb_8c_source.html#l00082">usb.c:82</a></div></div>
<div class="ttc" id="hw__memmap_8h_html_aa47acf4992407a85e79d911ca1055d17"><div class="ttname"><a href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a></div><div class="ttdeci">#define USB0_BASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__memmap_8h_source.html#l00099">hw_memmap.h:99</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a095977f9007e9e6af6f00eab8e1f64b1"><div class="ttname"><a href="hw__usb_8h.html#a095977f9007e9e6af6f00eab8e1f64b1">USB_O_CSRL0</a></div><div class="ttdeci">#define USB_O_CSRL0</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00162">hw_usb.h:162</a></div></div>
<div class="ttc" id="usb_8h_html_a78dcce1706922dc17a6baf4e8f37150d"><div class="ttname"><a href="usb_8h.html#a78dcce1706922dc17a6baf4e8f37150d">USB_EP_7</a></div><div class="ttdeci">#define USB_EP_7</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00354">usb.h:354</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga5994707f1b0acbc57d3c1bbc6e2483f0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USBDevEndpointStallClear </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Endpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Clears the stall condition on the specified endpoint in device mode.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address. </td></tr>
    <tr><td class="paramname">ui32Endpoint</td><td>specifies which endpoint to remove the stall condition. </td></tr>
    <tr><td class="paramname">ui32Flags</td><td>specifies whether to remove the stall condition from the IN or the OUT portion of this endpoint.</td></tr>
  </table>
  </dd>
</dl>
<p>This function causes the endpoint number passed in to exit the stall condition. If the <em>ui32Flags</em> parameter is <b>USB_EP_DEV_IN</b>, then the stall is cleared on the IN portion of this endpoint. If the <em>ui32Flags</em> parameter is <b>USB_EP_DEV_OUT</b>, then the stall is cleared on the OUT portion of this endpoint.</p>
<dl class="section note"><dt>Note</dt><dd>This function must only be called in device mode.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="usb_8c_source.html#l01431">1431</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="usb_8c_source.html#l00082">EP_OFFSET</a>, <a class="el" href="hw__types_8h_source.html#l00052">HWREGB</a>, <a class="el" href="hw__memmap_8h_source.html#l00099">USB0_BASE</a>, <a class="el" href="hw__usb_8h_source.html#l01211">USB_CSRL0_STALLED</a>, <a class="el" href="usb_8h_source.html#l00347">USB_EP_0</a>, <a class="el" href="usb_8h_source.html#l00348">USB_EP_1</a>, <a class="el" href="usb_8h_source.html#l00349">USB_EP_2</a>, <a class="el" href="usb_8h_source.html#l00350">USB_EP_3</a>, <a class="el" href="usb_8h_source.html#l00351">USB_EP_4</a>, <a class="el" href="usb_8h_source.html#l00352">USB_EP_5</a>, <a class="el" href="usb_8h_source.html#l00353">USB_EP_6</a>, <a class="el" href="usb_8h_source.html#l00354">USB_EP_7</a>, <a class="el" href="usb_8h_source.html#l00244">USB_EP_DEV_IN</a>, <a class="el" href="usb_8h_source.html#l00245">USB_EP_DEV_OUT</a>, <a class="el" href="hw__usb_8h_source.html#l00162">USB_O_CSRL0</a>, <a class="el" href="hw__usb_8h_source.html#l00178">USB_O_RXCSRL1</a>, <a class="el" href="hw__usb_8h_source.html#l00172">USB_O_TXCSRL1</a>, <a class="el" href="hw__usb_8h_source.html#l01302">USB_RXCSRL1_CLRDT</a>, <a class="el" href="hw__usb_8h_source.html#l01304">USB_RXCSRL1_STALL</a>, <a class="el" href="hw__usb_8h_source.html#l01303">USB_RXCSRL1_STALLED</a>, <a class="el" href="hw__usb_8h_source.html#l01265">USB_TXCSRL1_CLRDT</a>, <a class="el" href="hw__usb_8h_source.html#l01267">USB_TXCSRL1_STALL</a>, and <a class="el" href="hw__usb_8h_source.html#l01266">USB_TXCSRL1_STALLED</a>.</p>
<div class="fragment"><div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;{</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a>);</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32Endpoint == <a class="code" href="usb_8h.html#a17438a2055fa93adc8baabd84a697246">USB_EP_0</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a4e39f33c6467bddfb7d3e92a2ea5b789">USB_EP_1</a>) ||</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a13cce6caa2ecdaa333ae6a9fe5869e32">USB_EP_2</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#ab0f7986e9b00a278f0d9546e1d646440">USB_EP_3</a>) ||</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a8e177910552fb7eeb3c11ef9e35d7439">USB_EP_4</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a73892b0ca4c30f38c7fef4d7d6fd2caf">USB_EP_5</a>) ||</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a4a0a3d355ece777a24c1fcfc192a7ef7">USB_EP_6</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a78dcce1706922dc17a6baf4e8f37150d">USB_EP_7</a>));</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32Flags &amp; ~(<a class="code" href="usb_8h.html#a2881e9200f51ae03c0d643e2d6ffa169">USB_EP_DEV_IN</a> | <a class="code" href="usb_8h.html#a7f1336c270a8ee96a67edef7f124e5ba">USB_EP_DEV_OUT</a>)) == 0);</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;    <span class="comment">// Determine how to clear the stall on this endpoint.</span></div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;    <span class="keywordflow">if</span>(ui32Endpoint == <a class="code" href="usb_8h.html#a17438a2055fa93adc8baabd84a697246">USB_EP_0</a>)</div>
<div class="line"><a name="l01448"></a><span class="lineno"> 1448</span>&#160;    {</div>
<div class="line"><a name="l01449"></a><span class="lineno"> 1449</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;        <span class="comment">// Clear the stall on endpoint zero.</span></div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;        <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a095977f9007e9e6af6f00eab8e1f64b1">USB_O_CSRL0</a>) &amp;= ~<a class="code" href="hw__usb_8h.html#aa0f1b7e9ac27a773a386af520e89980d">USB_CSRL0_STALLED</a>;</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;    }</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(ui32Flags == <a class="code" href="usb_8h.html#a2881e9200f51ae03c0d643e2d6ffa169">USB_EP_DEV_IN</a>)</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;    {</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;        <span class="comment">// Clear the stall on an IN endpoint.</span></div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;        <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a66b5ac3ba5d076b8fd632c377db5c09e">USB_O_TXCSRL1</a> + <a class="code" href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a>(ui32Endpoint)) &amp;=</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;            ~(<a class="code" href="hw__usb_8h.html#a37d6d15e1848c4aef25049a3dc9e09d2">USB_TXCSRL1_STALL</a> | <a class="code" href="hw__usb_8h.html#a1386169b6005024ea7ce15648f253839">USB_TXCSRL1_STALLED</a>);</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;        <span class="comment">// Reset the data toggle.</span></div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;        <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a66b5ac3ba5d076b8fd632c377db5c09e">USB_O_TXCSRL1</a> + <a class="code" href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a>(ui32Endpoint)) |=</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;            <a class="code" href="hw__usb_8h.html#a70a1b1e35e89f7ef19cf13df87a011bf">USB_TXCSRL1_CLRDT</a>;</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;    }</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;    {</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;        <span class="comment">// Clear the stall on an OUT endpoint.</span></div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;        <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a57bc94dcb14fdfc3f27d6320c7de3a86">USB_O_RXCSRL1</a> + <a class="code" href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a>(ui32Endpoint)) &amp;=</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;            ~(<a class="code" href="hw__usb_8h.html#a14d69e7194f31c15b10dfda9c5109b5f">USB_RXCSRL1_STALL</a> | <a class="code" href="hw__usb_8h.html#a538d1dd26c7eb2bc5112ac4e20e8f6d4">USB_RXCSRL1_STALLED</a>);</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;        <span class="comment">// Reset the data toggle.</span></div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;        <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a57bc94dcb14fdfc3f27d6320c7de3a86">USB_O_RXCSRL1</a> + <a class="code" href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a>(ui32Endpoint)) |=</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;            <a class="code" href="hw__usb_8h.html#aee0bc3c1d82b61a1fabab0e5347f052c">USB_RXCSRL1_CLRDT</a>;</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;    }</div>
<div class="line"><a name="l01482"></a><span class="lineno"> 1482</span>&#160;}</div>
<div class="ttc" id="usb_8h_html_a2881e9200f51ae03c0d643e2d6ffa169"><div class="ttname"><a href="usb_8h.html#a2881e9200f51ae03c0d643e2d6ffa169">USB_EP_DEV_IN</a></div><div class="ttdeci">#define USB_EP_DEV_IN</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00244">usb.h:244</a></div></div>
<div class="ttc" id="usb_8h_html_a7f1336c270a8ee96a67edef7f124e5ba"><div class="ttname"><a href="usb_8h.html#a7f1336c270a8ee96a67edef7f124e5ba">USB_EP_DEV_OUT</a></div><div class="ttdeci">#define USB_EP_DEV_OUT</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00245">usb.h:245</a></div></div>
<div class="ttc" id="usb_8h_html_a8e177910552fb7eeb3c11ef9e35d7439"><div class="ttname"><a href="usb_8h.html#a8e177910552fb7eeb3c11ef9e35d7439">USB_EP_4</a></div><div class="ttdeci">#define USB_EP_4</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00351">usb.h:351</a></div></div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a57bc94dcb14fdfc3f27d6320c7de3a86"><div class="ttname"><a href="hw__usb_8h.html#a57bc94dcb14fdfc3f27d6320c7de3a86">USB_O_RXCSRL1</a></div><div class="ttdeci">#define USB_O_RXCSRL1</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00178">hw_usb.h:178</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a37d6d15e1848c4aef25049a3dc9e09d2"><div class="ttname"><a href="hw__usb_8h.html#a37d6d15e1848c4aef25049a3dc9e09d2">USB_TXCSRL1_STALL</a></div><div class="ttdeci">#define USB_TXCSRL1_STALL</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01267">hw_usb.h:1267</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a70a1b1e35e89f7ef19cf13df87a011bf"><div class="ttname"><a href="hw__usb_8h.html#a70a1b1e35e89f7ef19cf13df87a011bf">USB_TXCSRL1_CLRDT</a></div><div class="ttdeci">#define USB_TXCSRL1_CLRDT</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01265">hw_usb.h:1265</a></div></div>
<div class="ttc" id="usb_8h_html_a73892b0ca4c30f38c7fef4d7d6fd2caf"><div class="ttname"><a href="usb_8h.html#a73892b0ca4c30f38c7fef4d7d6fd2caf">USB_EP_5</a></div><div class="ttdeci">#define USB_EP_5</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00352">usb.h:352</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a538d1dd26c7eb2bc5112ac4e20e8f6d4"><div class="ttname"><a href="hw__usb_8h.html#a538d1dd26c7eb2bc5112ac4e20e8f6d4">USB_RXCSRL1_STALLED</a></div><div class="ttdeci">#define USB_RXCSRL1_STALLED</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01303">hw_usb.h:1303</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a1386169b6005024ea7ce15648f253839"><div class="ttname"><a href="hw__usb_8h.html#a1386169b6005024ea7ce15648f253839">USB_TXCSRL1_STALLED</a></div><div class="ttdeci">#define USB_TXCSRL1_STALLED</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01266">hw_usb.h:1266</a></div></div>
<div class="ttc" id="usb_8h_html_a4a0a3d355ece777a24c1fcfc192a7ef7"><div class="ttname"><a href="usb_8h.html#a4a0a3d355ece777a24c1fcfc192a7ef7">USB_EP_6</a></div><div class="ttdeci">#define USB_EP_6</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00353">usb.h:353</a></div></div>
<div class="ttc" id="hw__usb_8h_html_aa0f1b7e9ac27a773a386af520e89980d"><div class="ttname"><a href="hw__usb_8h.html#aa0f1b7e9ac27a773a386af520e89980d">USB_CSRL0_STALLED</a></div><div class="ttdeci">#define USB_CSRL0_STALLED</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01211">hw_usb.h:1211</a></div></div>
<div class="ttc" id="hw__usb_8h_html_aee0bc3c1d82b61a1fabab0e5347f052c"><div class="ttname"><a href="hw__usb_8h.html#aee0bc3c1d82b61a1fabab0e5347f052c">USB_RXCSRL1_CLRDT</a></div><div class="ttdeci">#define USB_RXCSRL1_CLRDT</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01302">hw_usb.h:1302</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a66b5ac3ba5d076b8fd632c377db5c09e"><div class="ttname"><a href="hw__usb_8h.html#a66b5ac3ba5d076b8fd632c377db5c09e">USB_O_TXCSRL1</a></div><div class="ttdeci">#define USB_O_TXCSRL1</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00172">hw_usb.h:172</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a14d69e7194f31c15b10dfda9c5109b5f"><div class="ttname"><a href="hw__usb_8h.html#a14d69e7194f31c15b10dfda9c5109b5f">USB_RXCSRL1_STALL</a></div><div class="ttdeci">#define USB_RXCSRL1_STALL</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01304">hw_usb.h:1304</a></div></div>
<div class="ttc" id="usb_8h_html_ab0f7986e9b00a278f0d9546e1d646440"><div class="ttname"><a href="usb_8h.html#ab0f7986e9b00a278f0d9546e1d646440">USB_EP_3</a></div><div class="ttdeci">#define USB_EP_3</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00350">usb.h:350</a></div></div>
<div class="ttc" id="usb_8h_html_a17438a2055fa93adc8baabd84a697246"><div class="ttname"><a href="usb_8h.html#a17438a2055fa93adc8baabd84a697246">USB_EP_0</a></div><div class="ttdeci">#define USB_EP_0</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00347">usb.h:347</a></div></div>
<div class="ttc" id="usb_8h_html_a13cce6caa2ecdaa333ae6a9fe5869e32"><div class="ttname"><a href="usb_8h.html#a13cce6caa2ecdaa333ae6a9fe5869e32">USB_EP_2</a></div><div class="ttdeci">#define USB_EP_2</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00349">usb.h:349</a></div></div>
<div class="ttc" id="usb_8h_html_a4e39f33c6467bddfb7d3e92a2ea5b789"><div class="ttname"><a href="usb_8h.html#a4e39f33c6467bddfb7d3e92a2ea5b789">USB_EP_1</a></div><div class="ttdeci">#define USB_EP_1</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00348">usb.h:348</a></div></div>
<div class="ttc" id="hw__types_8h_html_a084083ee12e5262f8e54bb56c15ac8c7"><div class="ttname"><a href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a></div><div class="ttdeci">#define HWREGB(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00052">hw_types.h:52</a></div></div>
<div class="ttc" id="group__usb__api_html_gaadf74b0caf840f0d3222cb1dc563684c"><div class="ttname"><a href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a></div><div class="ttdeci">#define EP_OFFSET(Endpoint)</div><div class="ttdef"><b>Definition:</b> <a href="usb_8c_source.html#l00082">usb.c:82</a></div></div>
<div class="ttc" id="hw__memmap_8h_html_aa47acf4992407a85e79d911ca1055d17"><div class="ttname"><a href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a></div><div class="ttdeci">#define USB0_BASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__memmap_8h_source.html#l00099">hw_memmap.h:99</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a095977f9007e9e6af6f00eab8e1f64b1"><div class="ttname"><a href="hw__usb_8h.html#a095977f9007e9e6af6f00eab8e1f64b1">USB_O_CSRL0</a></div><div class="ttdeci">#define USB_O_CSRL0</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00162">hw_usb.h:162</a></div></div>
<div class="ttc" id="usb_8h_html_a78dcce1706922dc17a6baf4e8f37150d"><div class="ttname"><a href="usb_8h.html#a78dcce1706922dc17a6baf4e8f37150d">USB_EP_7</a></div><div class="ttdeci">#define USB_EP_7</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00354">usb.h:354</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga86b9ed2def63c841765968898d6e19e8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USBDevEndpointStatusClear </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Endpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Clears the status bits in this endpoint in device mode.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address. </td></tr>
    <tr><td class="paramname">ui32Endpoint</td><td>is the endpoint to access. </td></tr>
    <tr><td class="paramname">ui32Flags</td><td>are the status bits that are cleared.</td></tr>
  </table>
  </dd>
</dl>
<p>This function clears the status of any bits that are passed in the <em>ui32Flags</em> parameter. The <em>ui32Flags</em> parameter can take the value returned from the <a class="el" href="group__usb__api.html#ga2320e3a284b3b809d6dab77def7dfe49">USBEndpointStatus()</a> call.</p>
<dl class="section note"><dt>Note</dt><dd>This function must only be called in device mode.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="usb_8c_source.html#l01089">1089</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="usb_8c_source.html#l00082">EP_OFFSET</a>, <a class="el" href="hw__types_8h_source.html#l00052">HWREGB</a>, <a class="el" href="hw__memmap_8h_source.html#l00099">USB0_BASE</a>, <a class="el" href="hw__usb_8h_source.html#l01204">USB_CSRL0_RXRDYC</a>, <a class="el" href="hw__usb_8h_source.html#l01202">USB_CSRL0_SETENDC</a>, <a class="el" href="usb_8h_source.html#l00218">USB_DEV_EP0_OUT_PKTRDY</a>, <a class="el" href="usb_8h_source.html#l00216">USB_DEV_EP0_SENT_STALL</a>, <a class="el" href="usb_8h_source.html#l00214">USB_DEV_EP0_SETUP_END</a>, <a class="el" href="usb_8h_source.html#l00203">USB_DEV_RX_DATA_ERROR</a>, <a class="el" href="usb_8h_source.html#l00204">USB_DEV_RX_OVERRUN</a>, <a class="el" href="usb_8h_source.html#l00202">USB_DEV_RX_SENT_STALL</a>, <a class="el" href="usb_8h_source.html#l00210">USB_DEV_TX_SENT_STALL</a>, <a class="el" href="usb_8h_source.html#l00211">USB_DEV_TX_UNDERRUN</a>, <a class="el" href="usb_8h_source.html#l00347">USB_EP_0</a>, <a class="el" href="usb_8h_source.html#l00348">USB_EP_1</a>, <a class="el" href="usb_8h_source.html#l00349">USB_EP_2</a>, <a class="el" href="usb_8h_source.html#l00350">USB_EP_3</a>, <a class="el" href="usb_8h_source.html#l00351">USB_EP_4</a>, <a class="el" href="usb_8h_source.html#l00352">USB_EP_5</a>, <a class="el" href="usb_8h_source.html#l00353">USB_EP_6</a>, <a class="el" href="usb_8h_source.html#l00354">USB_EP_7</a>, <a class="el" href="hw__usb_8h_source.html#l00162">USB_O_CSRL0</a>, <a class="el" href="hw__usb_8h_source.html#l00178">USB_O_RXCSRL1</a>, <a class="el" href="hw__usb_8h_source.html#l00172">USB_O_TXCSRL1</a>, and <a class="el" href="usb_8c_source.html#l00074">USB_RX_EPSTATUS_SHIFT</a>.</p>
<div class="fragment"><div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;{</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a>);</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32Endpoint == <a class="code" href="usb_8h.html#a17438a2055fa93adc8baabd84a697246">USB_EP_0</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a4e39f33c6467bddfb7d3e92a2ea5b789">USB_EP_1</a>) ||</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a13cce6caa2ecdaa333ae6a9fe5869e32">USB_EP_2</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#ab0f7986e9b00a278f0d9546e1d646440">USB_EP_3</a>) ||</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a8e177910552fb7eeb3c11ef9e35d7439">USB_EP_4</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a73892b0ca4c30f38c7fef4d7d6fd2caf">USB_EP_5</a>) ||</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a4a0a3d355ece777a24c1fcfc192a7ef7">USB_EP_6</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a78dcce1706922dc17a6baf4e8f37150d">USB_EP_7</a>));</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    <span class="comment">// If this is endpoint 0, then the bits have different meaning and map</span></div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    <span class="comment">// into the TX memory location.</span></div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;    <span class="keywordflow">if</span>(ui32Endpoint == <a class="code" href="usb_8h.html#a17438a2055fa93adc8baabd84a697246">USB_EP_0</a>)</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;    {</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;        <span class="comment">// Set the Serviced RxPktRdy bit to clear the RxPktRdy.</span></div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;        <span class="keywordflow">if</span>(ui32Flags &amp; <a class="code" href="usb_8h.html#ac8686c0b97db7be8a1a42106850fda5c">USB_DEV_EP0_OUT_PKTRDY</a>)</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;        {</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;            <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a095977f9007e9e6af6f00eab8e1f64b1">USB_O_CSRL0</a>) |= <a class="code" href="hw__usb_8h.html#a48e2f3edca2d034139b6ee968e041d34">USB_CSRL0_RXRDYC</a>;</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;        }</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;        <span class="comment">// Set the serviced Setup End bit to clear the SetupEnd status.</span></div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;        <span class="keywordflow">if</span>(ui32Flags &amp; <a class="code" href="usb_8h.html#a14f6bf821887a22781416142ab18f6a9">USB_DEV_EP0_SETUP_END</a>)</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;        {</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;            <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a095977f9007e9e6af6f00eab8e1f64b1">USB_O_CSRL0</a>) |= <a class="code" href="hw__usb_8h.html#af99ad022830386b6eeec1668cf509228">USB_CSRL0_SETENDC</a>;</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;        }</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;        <span class="comment">// Clear the Sent Stall status flag.</span></div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;        <span class="keywordflow">if</span>(ui32Flags &amp; <a class="code" href="usb_8h.html#ad6435c446f97fc6d7f8f185cb9359815">USB_DEV_EP0_SENT_STALL</a>)</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;        {</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;            <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a095977f9007e9e6af6f00eab8e1f64b1">USB_O_CSRL0</a>) &amp;= ~(<a class="code" href="usb_8h.html#ad6435c446f97fc6d7f8f185cb9359815">USB_DEV_EP0_SENT_STALL</a>);</div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;        }</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;    }</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;    {</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;        <span class="comment">// Clear out any TX flags that were passed in.  Only</span></div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;        <span class="comment">// USB_DEV_TX_SENT_STALL and USB_DEV_TX_UNDERRUN must be cleared.</span></div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;        <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a66b5ac3ba5d076b8fd632c377db5c09e">USB_O_TXCSRL1</a> + <a class="code" href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a>(ui32Endpoint)) &amp;=</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;            ~(ui32Flags &amp; (<a class="code" href="usb_8h.html#aeaae19cabdb49ea44a6b3dfec1fd2e7a">USB_DEV_TX_SENT_STALL</a> | <a class="code" href="usb_8h.html#a38a7843e4a4ed633b63edefd20f3ac20">USB_DEV_TX_UNDERRUN</a>));</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;        <span class="comment">// Clear out valid RX flags that were passed in.  Only</span></div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;        <span class="comment">// USB_DEV_RX_SENT_STALL, USB_DEV_RX_DATA_ERROR, and USB_DEV_RX_OVERRUN</span></div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;        <span class="comment">// must be cleared.</span></div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;        <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a57bc94dcb14fdfc3f27d6320c7de3a86">USB_O_RXCSRL1</a> + <a class="code" href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a>(ui32Endpoint)) &amp;=</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;            ~((ui32Flags &amp; (<a class="code" href="usb_8h.html#a54af244515656b7eb8c329c69e709e81">USB_DEV_RX_SENT_STALL</a> | <a class="code" href="usb_8h.html#a9c70d5d386ba2a5fd29917e513f907e5">USB_DEV_RX_DATA_ERROR</a> |</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;                            <a class="code" href="usb_8h.html#a60f5018be8c83b0391cc3dd28fad7d93">USB_DEV_RX_OVERRUN</a>)) &gt;&gt; <a class="code" href="group__usb__api.html#ga20ceb718c0b5bea3d8b0a8d89919160c">USB_RX_EPSTATUS_SHIFT</a>);</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;    }</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;}</div>
<div class="ttc" id="usb_8h_html_ad6435c446f97fc6d7f8f185cb9359815"><div class="ttname"><a href="usb_8h.html#ad6435c446f97fc6d7f8f185cb9359815">USB_DEV_EP0_SENT_STALL</a></div><div class="ttdeci">#define USB_DEV_EP0_SENT_STALL</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00216">usb.h:216</a></div></div>
<div class="ttc" id="group__usb__api_html_ga20ceb718c0b5bea3d8b0a8d89919160c"><div class="ttname"><a href="group__usb__api.html#ga20ceb718c0b5bea3d8b0a8d89919160c">USB_RX_EPSTATUS_SHIFT</a></div><div class="ttdeci">#define USB_RX_EPSTATUS_SHIFT</div><div class="ttdef"><b>Definition:</b> <a href="usb_8c_source.html#l00074">usb.c:74</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a48e2f3edca2d034139b6ee968e041d34"><div class="ttname"><a href="hw__usb_8h.html#a48e2f3edca2d034139b6ee968e041d34">USB_CSRL0_RXRDYC</a></div><div class="ttdeci">#define USB_CSRL0_RXRDYC</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01204">hw_usb.h:1204</a></div></div>
<div class="ttc" id="usb_8h_html_a38a7843e4a4ed633b63edefd20f3ac20"><div class="ttname"><a href="usb_8h.html#a38a7843e4a4ed633b63edefd20f3ac20">USB_DEV_TX_UNDERRUN</a></div><div class="ttdeci">#define USB_DEV_TX_UNDERRUN</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00211">usb.h:211</a></div></div>
<div class="ttc" id="usb_8h_html_a8e177910552fb7eeb3c11ef9e35d7439"><div class="ttname"><a href="usb_8h.html#a8e177910552fb7eeb3c11ef9e35d7439">USB_EP_4</a></div><div class="ttdeci">#define USB_EP_4</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00351">usb.h:351</a></div></div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a57bc94dcb14fdfc3f27d6320c7de3a86"><div class="ttname"><a href="hw__usb_8h.html#a57bc94dcb14fdfc3f27d6320c7de3a86">USB_O_RXCSRL1</a></div><div class="ttdeci">#define USB_O_RXCSRL1</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00178">hw_usb.h:178</a></div></div>
<div class="ttc" id="usb_8h_html_a54af244515656b7eb8c329c69e709e81"><div class="ttname"><a href="usb_8h.html#a54af244515656b7eb8c329c69e709e81">USB_DEV_RX_SENT_STALL</a></div><div class="ttdeci">#define USB_DEV_RX_SENT_STALL</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00202">usb.h:202</a></div></div>
<div class="ttc" id="usb_8h_html_a14f6bf821887a22781416142ab18f6a9"><div class="ttname"><a href="usb_8h.html#a14f6bf821887a22781416142ab18f6a9">USB_DEV_EP0_SETUP_END</a></div><div class="ttdeci">#define USB_DEV_EP0_SETUP_END</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00214">usb.h:214</a></div></div>
<div class="ttc" id="usb_8h_html_a9c70d5d386ba2a5fd29917e513f907e5"><div class="ttname"><a href="usb_8h.html#a9c70d5d386ba2a5fd29917e513f907e5">USB_DEV_RX_DATA_ERROR</a></div><div class="ttdeci">#define USB_DEV_RX_DATA_ERROR</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00203">usb.h:203</a></div></div>
<div class="ttc" id="usb_8h_html_a73892b0ca4c30f38c7fef4d7d6fd2caf"><div class="ttname"><a href="usb_8h.html#a73892b0ca4c30f38c7fef4d7d6fd2caf">USB_EP_5</a></div><div class="ttdeci">#define USB_EP_5</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00352">usb.h:352</a></div></div>
<div class="ttc" id="usb_8h_html_a60f5018be8c83b0391cc3dd28fad7d93"><div class="ttname"><a href="usb_8h.html#a60f5018be8c83b0391cc3dd28fad7d93">USB_DEV_RX_OVERRUN</a></div><div class="ttdeci">#define USB_DEV_RX_OVERRUN</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00204">usb.h:204</a></div></div>
<div class="ttc" id="usb_8h_html_aeaae19cabdb49ea44a6b3dfec1fd2e7a"><div class="ttname"><a href="usb_8h.html#aeaae19cabdb49ea44a6b3dfec1fd2e7a">USB_DEV_TX_SENT_STALL</a></div><div class="ttdeci">#define USB_DEV_TX_SENT_STALL</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00210">usb.h:210</a></div></div>
<div class="ttc" id="usb_8h_html_a4a0a3d355ece777a24c1fcfc192a7ef7"><div class="ttname"><a href="usb_8h.html#a4a0a3d355ece777a24c1fcfc192a7ef7">USB_EP_6</a></div><div class="ttdeci">#define USB_EP_6</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00353">usb.h:353</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a66b5ac3ba5d076b8fd632c377db5c09e"><div class="ttname"><a href="hw__usb_8h.html#a66b5ac3ba5d076b8fd632c377db5c09e">USB_O_TXCSRL1</a></div><div class="ttdeci">#define USB_O_TXCSRL1</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00172">hw_usb.h:172</a></div></div>
<div class="ttc" id="usb_8h_html_ab0f7986e9b00a278f0d9546e1d646440"><div class="ttname"><a href="usb_8h.html#ab0f7986e9b00a278f0d9546e1d646440">USB_EP_3</a></div><div class="ttdeci">#define USB_EP_3</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00350">usb.h:350</a></div></div>
<div class="ttc" id="hw__usb_8h_html_af99ad022830386b6eeec1668cf509228"><div class="ttname"><a href="hw__usb_8h.html#af99ad022830386b6eeec1668cf509228">USB_CSRL0_SETENDC</a></div><div class="ttdeci">#define USB_CSRL0_SETENDC</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01202">hw_usb.h:1202</a></div></div>
<div class="ttc" id="usb_8h_html_a17438a2055fa93adc8baabd84a697246"><div class="ttname"><a href="usb_8h.html#a17438a2055fa93adc8baabd84a697246">USB_EP_0</a></div><div class="ttdeci">#define USB_EP_0</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00347">usb.h:347</a></div></div>
<div class="ttc" id="usb_8h_html_a13cce6caa2ecdaa333ae6a9fe5869e32"><div class="ttname"><a href="usb_8h.html#a13cce6caa2ecdaa333ae6a9fe5869e32">USB_EP_2</a></div><div class="ttdeci">#define USB_EP_2</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00349">usb.h:349</a></div></div>
<div class="ttc" id="usb_8h_html_a4e39f33c6467bddfb7d3e92a2ea5b789"><div class="ttname"><a href="usb_8h.html#a4e39f33c6467bddfb7d3e92a2ea5b789">USB_EP_1</a></div><div class="ttdeci">#define USB_EP_1</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00348">usb.h:348</a></div></div>
<div class="ttc" id="usb_8h_html_ac8686c0b97db7be8a1a42106850fda5c"><div class="ttname"><a href="usb_8h.html#ac8686c0b97db7be8a1a42106850fda5c">USB_DEV_EP0_OUT_PKTRDY</a></div><div class="ttdeci">#define USB_DEV_EP0_OUT_PKTRDY</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00218">usb.h:218</a></div></div>
<div class="ttc" id="hw__types_8h_html_a084083ee12e5262f8e54bb56c15ac8c7"><div class="ttname"><a href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a></div><div class="ttdeci">#define HWREGB(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00052">hw_types.h:52</a></div></div>
<div class="ttc" id="group__usb__api_html_gaadf74b0caf840f0d3222cb1dc563684c"><div class="ttname"><a href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a></div><div class="ttdeci">#define EP_OFFSET(Endpoint)</div><div class="ttdef"><b>Definition:</b> <a href="usb_8c_source.html#l00082">usb.c:82</a></div></div>
<div class="ttc" id="hw__memmap_8h_html_aa47acf4992407a85e79d911ca1055d17"><div class="ttname"><a href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a></div><div class="ttdeci">#define USB0_BASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__memmap_8h_source.html#l00099">hw_memmap.h:99</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a095977f9007e9e6af6f00eab8e1f64b1"><div class="ttname"><a href="hw__usb_8h.html#a095977f9007e9e6af6f00eab8e1f64b1">USB_O_CSRL0</a></div><div class="ttdeci">#define USB_O_CSRL0</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00162">hw_usb.h:162</a></div></div>
<div class="ttc" id="usb_8h_html_a78dcce1706922dc17a6baf4e8f37150d"><div class="ttname"><a href="usb_8h.html#a78dcce1706922dc17a6baf4e8f37150d">USB_EP_7</a></div><div class="ttdeci">#define USB_EP_7</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00354">usb.h:354</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga70dd112775656bd83ad8dc75ed5c53cb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USBDevMode </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Change the mode of the USB controller to device.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address.</td></tr>
  </table>
  </dd>
</dl>
<p>This function changes the mode of the USB controller to device mode.</p>
<dl class="section note"><dt>Note</dt><dd>This function must only be called on microcontrollers that support OTG operation.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="usb_8c_source.html#l04028">4028</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="hw__types_8h_source.html#l00052">HWREGB</a>, <a class="el" href="hw__memmap_8h_source.html#l00099">USB0_BASE</a>, <a class="el" href="hw__usb_8h_source.html#l02921">USB_GPCS_DEVMOD</a>, <a class="el" href="hw__usb_8h_source.html#l02920">USB_GPCS_DEVMODOTG</a>, and <a class="el" href="hw__usb_8h_source.html#l00388">USB_O_GPCS</a>.</p>
<div class="fragment"><div class="line"><a name="l04029"></a><span class="lineno"> 4029</span>&#160;{</div>
<div class="line"><a name="l04030"></a><span class="lineno"> 4030</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l04031"></a><span class="lineno"> 4031</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l04032"></a><span class="lineno"> 4032</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l04033"></a><span class="lineno"> 4033</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a>);</div>
<div class="line"><a name="l04034"></a><span class="lineno"> 4034</span>&#160;</div>
<div class="line"><a name="l04035"></a><span class="lineno"> 4035</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l04036"></a><span class="lineno"> 4036</span>&#160;    <span class="comment">// Set the USB controller mode to device.</span></div>
<div class="line"><a name="l04037"></a><span class="lineno"> 4037</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l04038"></a><span class="lineno"> 4038</span>&#160;    <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a0568c2f09d0f22e71ad9a3c6360e8821">USB_O_GPCS</a>) = <a class="code" href="hw__usb_8h.html#a467fa0289a46bdbcbcda85c553711814">USB_GPCS_DEVMODOTG</a> | <a class="code" href="hw__usb_8h.html#aa24a563ec3bead6428c72b6c632571a3">USB_GPCS_DEVMOD</a>;</div>
<div class="line"><a name="l04039"></a><span class="lineno"> 4039</span>&#160;}</div>
<div class="ttc" id="hw__usb_8h_html_aa24a563ec3bead6428c72b6c632571a3"><div class="ttname"><a href="hw__usb_8h.html#aa24a563ec3bead6428c72b6c632571a3">USB_GPCS_DEVMOD</a></div><div class="ttdeci">#define USB_GPCS_DEVMOD</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l02921">hw_usb.h:2921</a></div></div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a467fa0289a46bdbcbcda85c553711814"><div class="ttname"><a href="hw__usb_8h.html#a467fa0289a46bdbcbcda85c553711814">USB_GPCS_DEVMODOTG</a></div><div class="ttdeci">#define USB_GPCS_DEVMODOTG</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l02920">hw_usb.h:2920</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a0568c2f09d0f22e71ad9a3c6360e8821"><div class="ttname"><a href="hw__usb_8h.html#a0568c2f09d0f22e71ad9a3c6360e8821">USB_O_GPCS</a></div><div class="ttdeci">#define USB_O_GPCS</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00388">hw_usb.h:388</a></div></div>
<div class="ttc" id="hw__types_8h_html_a084083ee12e5262f8e54bb56c15ac8c7"><div class="ttname"><a href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a></div><div class="ttdeci">#define HWREGB(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00052">hw_types.h:52</a></div></div>
<div class="ttc" id="hw__memmap_8h_html_aa47acf4992407a85e79d911ca1055d17"><div class="ttname"><a href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a></div><div class="ttdeci">#define USB0_BASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__memmap_8h_source.html#l00099">hw_memmap.h:99</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga4b4e8eecc32eacd26ffbada0f618263f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t USBDevSpeedGet </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the current speed of the USB controller in device mode.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address.</td></tr>
  </table>
  </dd>
</dl>
<p>This function returns the operating speed of the connection to the USB host controller. This function returns either <b>USB_HIGH_SPEED</b> or <b>USB_FULL_SPEED</b> to indicate the connection speed in device mode.</p>
<p><b>Example:</b> Get the USB connection speed.</p>
<pre class="fragment">//! //
//! // Get the connection speed of the USB controller.
//! //
//! USBDevSpeedGet(USB0_BASE);
//! </pre> <pre class="fragment">\note This function must only be called in device mode.

\return Returns either \b USB_HIGH_SPEED or \b USB_FULL_SPEED.  </pre> 
<p>Definition at line <a class="el" href="usb_8c_source.html#l00474">474</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="hw__types_8h_source.html#l00052">HWREGB</a>, <a class="el" href="hw__memmap_8h_source.html#l00099">USB0_BASE</a>, <a class="el" href="usb_8h_source.html#l00161">USB_FULL_SPEED</a>, <a class="el" href="usb_8h_source.html#l00160">USB_HIGH_SPEED</a>, <a class="el" href="hw__usb_8h_source.html#l00049">USB_O_POWER</a>, and <a class="el" href="hw__usb_8h_source.html#l00424">USB_POWER_HSMODE</a>.</p>
<div class="fragment"><div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;{</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a>);</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;    <span class="comment">// If the Full Speed device bit is set, then this is a full speed device.</span></div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#ad3a1c8e8c4a2a78d507c6590aa4d2019">USB_O_POWER</a>) &amp; <a class="code" href="hw__usb_8h.html#a45dc0abcc59469c9035589b99deab15f">USB_POWER_HSMODE</a>)</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;    {</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        <span class="keywordflow">return</span>(<a class="code" href="usb_8h.html#ad2b3e75df582ecec2adfbc4c00406332">USB_HIGH_SPEED</a>);</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    }</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    <span class="keywordflow">return</span>(<a class="code" href="usb_8h.html#a254b82211d11df3f1649aad174b4cb92">USB_FULL_SPEED</a>);</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;}</div>
<div class="ttc" id="hw__usb_8h_html_a45dc0abcc59469c9035589b99deab15f"><div class="ttname"><a href="hw__usb_8h.html#a45dc0abcc59469c9035589b99deab15f">USB_POWER_HSMODE</a></div><div class="ttdeci">#define USB_POWER_HSMODE</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00424">hw_usb.h:424</a></div></div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="usb_8h_html_ad2b3e75df582ecec2adfbc4c00406332"><div class="ttname"><a href="usb_8h.html#ad2b3e75df582ecec2adfbc4c00406332">USB_HIGH_SPEED</a></div><div class="ttdeci">#define USB_HIGH_SPEED</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00160">usb.h:160</a></div></div>
<div class="ttc" id="usb_8h_html_a254b82211d11df3f1649aad174b4cb92"><div class="ttname"><a href="usb_8h.html#a254b82211d11df3f1649aad174b4cb92">USB_FULL_SPEED</a></div><div class="ttdeci">#define USB_FULL_SPEED</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00161">usb.h:161</a></div></div>
<div class="ttc" id="hw__usb_8h_html_ad3a1c8e8c4a2a78d507c6590aa4d2019"><div class="ttname"><a href="hw__usb_8h.html#ad3a1c8e8c4a2a78d507c6590aa4d2019">USB_O_POWER</a></div><div class="ttdeci">#define USB_O_POWER</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00049">hw_usb.h:49</a></div></div>
<div class="ttc" id="hw__types_8h_html_a084083ee12e5262f8e54bb56c15ac8c7"><div class="ttname"><a href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a></div><div class="ttdeci">#define HWREGB(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00052">hw_types.h:52</a></div></div>
<div class="ttc" id="hw__memmap_8h_html_aa47acf4992407a85e79d911ca1055d17"><div class="ttname"><a href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a></div><div class="ttdeci">#define USB0_BASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__memmap_8h_source.html#l00099">hw_memmap.h:99</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga1ec6376b4d4091ccd5366444cc15d0c6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t USBEndpointDataAvail </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Endpoint</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Determines the number of bytes of data available in a specified endpoint's FIFO.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address. </td></tr>
    <tr><td class="paramname">ui32Endpoint</td><td>is the endpoint to access.</td></tr>
  </table>
  </dd>
</dl>
<p>This function returns the number of bytes of data currently available in the FIFO for the specified receive (OUT) endpoint. It may be used prior to calling <a class="el" href="group__usb__api.html#gab4dc6edbe6814f85a1abd2234693f6b2">USBEndpointDataGet()</a> to determine the size of buffer required to hold the newly-received packet.</p>
<dl class="section return"><dt>Returns</dt><dd>This call returns the number of bytes available in a specified endpoint FIFO. </dd></dl>

<p>Definition at line <a class="el" href="usb_8c_source.html#l02730">2730</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="usb_8c_source.html#l00082">EP_OFFSET</a>, <a class="el" href="hw__types_8h_source.html#l00050">HWREGH</a>, <a class="el" href="hw__memmap_8h_source.html#l00099">USB0_BASE</a>, <a class="el" href="hw__usb_8h_source.html#l01213">USB_CSRL0_RXRDY</a>, <a class="el" href="usb_8h_source.html#l00347">USB_EP_0</a>, <a class="el" href="usb_8h_source.html#l00348">USB_EP_1</a>, <a class="el" href="usb_8h_source.html#l00349">USB_EP_2</a>, <a class="el" href="usb_8h_source.html#l00350">USB_EP_3</a>, <a class="el" href="usb_8h_source.html#l00351">USB_EP_4</a>, <a class="el" href="usb_8h_source.html#l00352">USB_EP_5</a>, <a class="el" href="usb_8h_source.html#l00353">USB_EP_6</a>, <a class="el" href="usb_8h_source.html#l00354">USB_EP_7</a>, <a class="el" href="hw__usb_8h_source.html#l00166">USB_O_COUNT0</a>, <a class="el" href="hw__usb_8h_source.html#l00162">USB_O_CSRL0</a>, and <a class="el" href="hw__usb_8h_source.html#l00178">USB_O_RXCSRL1</a>.</p>
<div class="fragment"><div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;{</div>
<div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;    uint32_t ui32Register;</div>
<div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;</div>
<div class="line"><a name="l02734"></a><span class="lineno"> 2734</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02735"></a><span class="lineno"> 2735</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l02736"></a><span class="lineno"> 2736</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02737"></a><span class="lineno"> 2737</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a>);</div>
<div class="line"><a name="l02738"></a><span class="lineno"> 2738</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32Endpoint == <a class="code" href="usb_8h.html#a17438a2055fa93adc8baabd84a697246">USB_EP_0</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a4e39f33c6467bddfb7d3e92a2ea5b789">USB_EP_1</a>) ||</div>
<div class="line"><a name="l02739"></a><span class="lineno"> 2739</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a13cce6caa2ecdaa333ae6a9fe5869e32">USB_EP_2</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#ab0f7986e9b00a278f0d9546e1d646440">USB_EP_3</a>) ||</div>
<div class="line"><a name="l02740"></a><span class="lineno"> 2740</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a8e177910552fb7eeb3c11ef9e35d7439">USB_EP_4</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a73892b0ca4c30f38c7fef4d7d6fd2caf">USB_EP_5</a>) ||</div>
<div class="line"><a name="l02741"></a><span class="lineno"> 2741</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a4a0a3d355ece777a24c1fcfc192a7ef7">USB_EP_6</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a78dcce1706922dc17a6baf4e8f37150d">USB_EP_7</a>));</div>
<div class="line"><a name="l02742"></a><span class="lineno"> 2742</span>&#160;</div>
<div class="line"><a name="l02743"></a><span class="lineno"> 2743</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02744"></a><span class="lineno"> 2744</span>&#160;    <span class="comment">// Get the address of the receive status register to use, based on the</span></div>
<div class="line"><a name="l02745"></a><span class="lineno"> 2745</span>&#160;    <span class="comment">// endpoint.</span></div>
<div class="line"><a name="l02746"></a><span class="lineno"> 2746</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;    <span class="keywordflow">if</span>(ui32Endpoint == <a class="code" href="usb_8h.html#a17438a2055fa93adc8baabd84a697246">USB_EP_0</a>)</div>
<div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;    {</div>
<div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;        ui32Register = <a class="code" href="hw__usb_8h.html#a095977f9007e9e6af6f00eab8e1f64b1">USB_O_CSRL0</a>;</div>
<div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;    }</div>
<div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;    {</div>
<div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;        ui32Register = <a class="code" href="hw__usb_8h.html#a57bc94dcb14fdfc3f27d6320c7de3a86">USB_O_RXCSRL1</a> + <a class="code" href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a>(ui32Endpoint);</div>
<div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;    }</div>
<div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;</div>
<div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;    <span class="comment">// Is there a packet ready in the FIFO?</span></div>
<div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;    <span class="keywordflow">if</span>((<a class="code" href="hw__types_8h.html#ac664ac49fa3d7c414f67572e522a74fb">HWREGH</a>(ui32Base + ui32Register) &amp; <a class="code" href="hw__usb_8h.html#aa46f20c660cc47f9b3d8f9feace51914">USB_CSRL0_RXRDY</a>) == 0)</div>
<div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;    {</div>
<div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;        <span class="keywordflow">return</span>(0);</div>
<div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;    }</div>
<div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;</div>
<div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160;    <span class="comment">// Return the byte count in the FIFO.</span></div>
<div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;    <span class="keywordflow">return</span>(<a class="code" href="hw__types_8h.html#ac664ac49fa3d7c414f67572e522a74fb">HWREGH</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a1cb5bf9dcee48cd3ad0417dbeb1b0e11">USB_O_COUNT0</a> + ui32Endpoint));</div>
<div class="line"><a name="l02768"></a><span class="lineno"> 2768</span>&#160;}</div>
<div class="ttc" id="usb_8h_html_a8e177910552fb7eeb3c11ef9e35d7439"><div class="ttname"><a href="usb_8h.html#a8e177910552fb7eeb3c11ef9e35d7439">USB_EP_4</a></div><div class="ttdeci">#define USB_EP_4</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00351">usb.h:351</a></div></div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a57bc94dcb14fdfc3f27d6320c7de3a86"><div class="ttname"><a href="hw__usb_8h.html#a57bc94dcb14fdfc3f27d6320c7de3a86">USB_O_RXCSRL1</a></div><div class="ttdeci">#define USB_O_RXCSRL1</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00178">hw_usb.h:178</a></div></div>
<div class="ttc" id="usb_8h_html_a73892b0ca4c30f38c7fef4d7d6fd2caf"><div class="ttname"><a href="usb_8h.html#a73892b0ca4c30f38c7fef4d7d6fd2caf">USB_EP_5</a></div><div class="ttdeci">#define USB_EP_5</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00352">usb.h:352</a></div></div>
<div class="ttc" id="hw__types_8h_html_ac664ac49fa3d7c414f67572e522a74fb"><div class="ttname"><a href="hw__types_8h.html#ac664ac49fa3d7c414f67572e522a74fb">HWREGH</a></div><div class="ttdeci">#define HWREGH(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00050">hw_types.h:50</a></div></div>
<div class="ttc" id="usb_8h_html_a4a0a3d355ece777a24c1fcfc192a7ef7"><div class="ttname"><a href="usb_8h.html#a4a0a3d355ece777a24c1fcfc192a7ef7">USB_EP_6</a></div><div class="ttdeci">#define USB_EP_6</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00353">usb.h:353</a></div></div>
<div class="ttc" id="usb_8h_html_ab0f7986e9b00a278f0d9546e1d646440"><div class="ttname"><a href="usb_8h.html#ab0f7986e9b00a278f0d9546e1d646440">USB_EP_3</a></div><div class="ttdeci">#define USB_EP_3</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00350">usb.h:350</a></div></div>
<div class="ttc" id="usb_8h_html_a17438a2055fa93adc8baabd84a697246"><div class="ttname"><a href="usb_8h.html#a17438a2055fa93adc8baabd84a697246">USB_EP_0</a></div><div class="ttdeci">#define USB_EP_0</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00347">usb.h:347</a></div></div>
<div class="ttc" id="usb_8h_html_a13cce6caa2ecdaa333ae6a9fe5869e32"><div class="ttname"><a href="usb_8h.html#a13cce6caa2ecdaa333ae6a9fe5869e32">USB_EP_2</a></div><div class="ttdeci">#define USB_EP_2</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00349">usb.h:349</a></div></div>
<div class="ttc" id="usb_8h_html_a4e39f33c6467bddfb7d3e92a2ea5b789"><div class="ttname"><a href="usb_8h.html#a4e39f33c6467bddfb7d3e92a2ea5b789">USB_EP_1</a></div><div class="ttdeci">#define USB_EP_1</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00348">usb.h:348</a></div></div>
<div class="ttc" id="hw__usb_8h_html_aa46f20c660cc47f9b3d8f9feace51914"><div class="ttname"><a href="hw__usb_8h.html#aa46f20c660cc47f9b3d8f9feace51914">USB_CSRL0_RXRDY</a></div><div class="ttdeci">#define USB_CSRL0_RXRDY</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01213">hw_usb.h:1213</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a1cb5bf9dcee48cd3ad0417dbeb1b0e11"><div class="ttname"><a href="hw__usb_8h.html#a1cb5bf9dcee48cd3ad0417dbeb1b0e11">USB_O_COUNT0</a></div><div class="ttdeci">#define USB_O_COUNT0</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00166">hw_usb.h:166</a></div></div>
<div class="ttc" id="group__usb__api_html_gaadf74b0caf840f0d3222cb1dc563684c"><div class="ttname"><a href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a></div><div class="ttdeci">#define EP_OFFSET(Endpoint)</div><div class="ttdef"><b>Definition:</b> <a href="usb_8c_source.html#l00082">usb.c:82</a></div></div>
<div class="ttc" id="hw__memmap_8h_html_aa47acf4992407a85e79d911ca1055d17"><div class="ttname"><a href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a></div><div class="ttdeci">#define USB0_BASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__memmap_8h_source.html#l00099">hw_memmap.h:99</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a095977f9007e9e6af6f00eab8e1f64b1"><div class="ttname"><a href="hw__usb_8h.html#a095977f9007e9e6af6f00eab8e1f64b1">USB_O_CSRL0</a></div><div class="ttdeci">#define USB_O_CSRL0</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00162">hw_usb.h:162</a></div></div>
<div class="ttc" id="usb_8h_html_a78dcce1706922dc17a6baf4e8f37150d"><div class="ttname"><a href="usb_8h.html#a78dcce1706922dc17a6baf4e8f37150d">USB_EP_7</a></div><div class="ttdeci">#define USB_EP_7</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00354">usb.h:354</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gab4dc6edbe6814f85a1abd2234693f6b2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t USBEndpointDataGet </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Endpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>pui8Data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>pui32Size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Retrieves data from the specified endpoint's FIFO.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address. </td></tr>
    <tr><td class="paramname">ui32Endpoint</td><td>is the endpoint to access. </td></tr>
    <tr><td class="paramname">pui8Data</td><td>is a pointer to the data area used to return the data from the FIFO. </td></tr>
    <tr><td class="paramname">pui32Size</td><td>is initially the size of the buffer passed into this call via the <em>pui8Data</em> parameter. It is set to the amount of data returned in the buffer.</td></tr>
  </table>
  </dd>
</dl>
<p>This function returns the data from the FIFO for the specified endpoint. The <em>pui32Size</em> parameter indicates the size of the buffer passed in the <em>pui32Data</em> parameter. The data in the <em>pui32Size</em> parameter is changed to match the amount of data returned in the <em>pui8Data</em> parameter. If a zero-byte packet is received, this call does not return an error but instead just returns a zero in the <em>pui32Size</em> parameter. The only error case occurs when there is no data packet available.</p>
<dl class="section return"><dt>Returns</dt><dd>This call returns 0, or -1 if no packet was received. </dd></dl>

<p>Definition at line <a class="el" href="usb_8c_source.html#l02794">2794</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="usb_8c_source.html#l00082">EP_OFFSET</a>, <a class="el" href="hw__types_8h_source.html#l00052">HWREGB</a>, <a class="el" href="hw__types_8h_source.html#l00050">HWREGH</a>, <a class="el" href="hw__memmap_8h_source.html#l00099">USB0_BASE</a>, <a class="el" href="hw__usb_8h_source.html#l01213">USB_CSRL0_RXRDY</a>, <a class="el" href="usb_8h_source.html#l00347">USB_EP_0</a>, <a class="el" href="usb_8h_source.html#l00348">USB_EP_1</a>, <a class="el" href="usb_8h_source.html#l00349">USB_EP_2</a>, <a class="el" href="usb_8h_source.html#l00350">USB_EP_3</a>, <a class="el" href="usb_8h_source.html#l00351">USB_EP_4</a>, <a class="el" href="usb_8h_source.html#l00352">USB_EP_5</a>, <a class="el" href="usb_8h_source.html#l00353">USB_EP_6</a>, <a class="el" href="usb_8h_source.html#l00354">USB_EP_7</a>, <a class="el" href="hw__usb_8h_source.html#l00166">USB_O_COUNT0</a>, <a class="el" href="hw__usb_8h_source.html#l00162">USB_O_CSRL0</a>, <a class="el" href="hw__usb_8h_source.html#l00059">USB_O_FIFO0</a>, and <a class="el" href="hw__usb_8h_source.html#l00178">USB_O_RXCSRL1</a>.</p>
<div class="fragment"><div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;{</div>
<div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;    uint32_t ui32Register, ui32ByteCount, ui32FIFO;</div>
<div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;</div>
<div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02800"></a><span class="lineno"> 2800</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l02801"></a><span class="lineno"> 2801</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02802"></a><span class="lineno"> 2802</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a>);</div>
<div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32Endpoint == <a class="code" href="usb_8h.html#a17438a2055fa93adc8baabd84a697246">USB_EP_0</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a4e39f33c6467bddfb7d3e92a2ea5b789">USB_EP_1</a>) ||</div>
<div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a13cce6caa2ecdaa333ae6a9fe5869e32">USB_EP_2</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#ab0f7986e9b00a278f0d9546e1d646440">USB_EP_3</a>) ||</div>
<div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a8e177910552fb7eeb3c11ef9e35d7439">USB_EP_4</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a73892b0ca4c30f38c7fef4d7d6fd2caf">USB_EP_5</a>) ||</div>
<div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a4a0a3d355ece777a24c1fcfc192a7ef7">USB_EP_6</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a78dcce1706922dc17a6baf4e8f37150d">USB_EP_7</a>));</div>
<div class="line"><a name="l02807"></a><span class="lineno"> 2807</span>&#160;</div>
<div class="line"><a name="l02808"></a><span class="lineno"> 2808</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02809"></a><span class="lineno"> 2809</span>&#160;    <span class="comment">// Get the address of the receive status register to use, based on the</span></div>
<div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;    <span class="comment">// endpoint.</span></div>
<div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;    <span class="keywordflow">if</span>(ui32Endpoint == <a class="code" href="usb_8h.html#a17438a2055fa93adc8baabd84a697246">USB_EP_0</a>)</div>
<div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;    {</div>
<div class="line"><a name="l02814"></a><span class="lineno"> 2814</span>&#160;        ui32Register = <a class="code" href="hw__usb_8h.html#a095977f9007e9e6af6f00eab8e1f64b1">USB_O_CSRL0</a>;</div>
<div class="line"><a name="l02815"></a><span class="lineno"> 2815</span>&#160;    }</div>
<div class="line"><a name="l02816"></a><span class="lineno"> 2816</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;    {</div>
<div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;        ui32Register = <a class="code" href="hw__usb_8h.html#a57bc94dcb14fdfc3f27d6320c7de3a86">USB_O_RXCSRL1</a> + <a class="code" href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a>(ui32Endpoint);</div>
<div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;    }</div>
<div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;</div>
<div class="line"><a name="l02821"></a><span class="lineno"> 2821</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02822"></a><span class="lineno"> 2822</span>&#160;    <span class="comment">// Don&#39;t allow reading of data if the RxPktRdy bit is not set.</span></div>
<div class="line"><a name="l02823"></a><span class="lineno"> 2823</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;    <span class="keywordflow">if</span>((<a class="code" href="hw__types_8h.html#ac664ac49fa3d7c414f67572e522a74fb">HWREGH</a>(ui32Base + ui32Register) &amp; <a class="code" href="hw__usb_8h.html#aa46f20c660cc47f9b3d8f9feace51914">USB_CSRL0_RXRDY</a>) == 0)</div>
<div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;    {</div>
<div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;        <span class="comment">// Can&#39;t read the data because none is available.</span></div>
<div class="line"><a name="l02828"></a><span class="lineno"> 2828</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02829"></a><span class="lineno"> 2829</span>&#160;        *pui32Size = 0;</div>
<div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;</div>
<div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;        <span class="comment">// Return a failure since there is no data to read.</span></div>
<div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;        <span class="keywordflow">return</span>(-1);</div>
<div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;    }</div>
<div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;</div>
<div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;    <span class="comment">// Get the byte count in the FIFO.</span></div>
<div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02840"></a><span class="lineno"> 2840</span>&#160;    ui32ByteCount = <a class="code" href="hw__types_8h.html#ac664ac49fa3d7c414f67572e522a74fb">HWREGH</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a1cb5bf9dcee48cd3ad0417dbeb1b0e11">USB_O_COUNT0</a> + ui32Endpoint);</div>
<div class="line"><a name="l02841"></a><span class="lineno"> 2841</span>&#160;</div>
<div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;    <span class="comment">// Determine how many bytes are copied.</span></div>
<div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;    ui32ByteCount = (ui32ByteCount &lt; *pui32Size) ? ui32ByteCount : *pui32Size;</div>
<div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;</div>
<div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;    <span class="comment">// Return the number of bytes we are going to read.</span></div>
<div class="line"><a name="l02849"></a><span class="lineno"> 2849</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02850"></a><span class="lineno"> 2850</span>&#160;    *pui32Size = ui32ByteCount;</div>
<div class="line"><a name="l02851"></a><span class="lineno"> 2851</span>&#160;</div>
<div class="line"><a name="l02852"></a><span class="lineno"> 2852</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02853"></a><span class="lineno"> 2853</span>&#160;    <span class="comment">// Calculate the FIFO address.</span></div>
<div class="line"><a name="l02854"></a><span class="lineno"> 2854</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02855"></a><span class="lineno"> 2855</span>&#160;    ui32FIFO = ui32Base + <a class="code" href="hw__usb_8h.html#a2563224a44d17c5767b29eea6f47414a">USB_O_FIFO0</a> + (ui32Endpoint &gt;&gt; 2);</div>
<div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;</div>
<div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;    <span class="comment">// Read the data out of the FIFO.</span></div>
<div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;    <span class="keywordflow">for</span>(; ui32ByteCount &gt; 0; ui32ByteCount--)</div>
<div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;    {</div>
<div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;        <span class="comment">// Read a byte at a time from the FIFO.</span></div>
<div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;        *pui8Data++ = <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32FIFO);</div>
<div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;    }</div>
<div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;</div>
<div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;    <span class="comment">// Success.</span></div>
<div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;    <span class="keywordflow">return</span>(0);</div>
<div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;}</div>
<div class="ttc" id="usb_8h_html_a8e177910552fb7eeb3c11ef9e35d7439"><div class="ttname"><a href="usb_8h.html#a8e177910552fb7eeb3c11ef9e35d7439">USB_EP_4</a></div><div class="ttdeci">#define USB_EP_4</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00351">usb.h:351</a></div></div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a57bc94dcb14fdfc3f27d6320c7de3a86"><div class="ttname"><a href="hw__usb_8h.html#a57bc94dcb14fdfc3f27d6320c7de3a86">USB_O_RXCSRL1</a></div><div class="ttdeci">#define USB_O_RXCSRL1</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00178">hw_usb.h:178</a></div></div>
<div class="ttc" id="usb_8h_html_a73892b0ca4c30f38c7fef4d7d6fd2caf"><div class="ttname"><a href="usb_8h.html#a73892b0ca4c30f38c7fef4d7d6fd2caf">USB_EP_5</a></div><div class="ttdeci">#define USB_EP_5</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00352">usb.h:352</a></div></div>
<div class="ttc" id="hw__types_8h_html_ac664ac49fa3d7c414f67572e522a74fb"><div class="ttname"><a href="hw__types_8h.html#ac664ac49fa3d7c414f67572e522a74fb">HWREGH</a></div><div class="ttdeci">#define HWREGH(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00050">hw_types.h:50</a></div></div>
<div class="ttc" id="usb_8h_html_a4a0a3d355ece777a24c1fcfc192a7ef7"><div class="ttname"><a href="usb_8h.html#a4a0a3d355ece777a24c1fcfc192a7ef7">USB_EP_6</a></div><div class="ttdeci">#define USB_EP_6</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00353">usb.h:353</a></div></div>
<div class="ttc" id="usb_8h_html_ab0f7986e9b00a278f0d9546e1d646440"><div class="ttname"><a href="usb_8h.html#ab0f7986e9b00a278f0d9546e1d646440">USB_EP_3</a></div><div class="ttdeci">#define USB_EP_3</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00350">usb.h:350</a></div></div>
<div class="ttc" id="usb_8h_html_a17438a2055fa93adc8baabd84a697246"><div class="ttname"><a href="usb_8h.html#a17438a2055fa93adc8baabd84a697246">USB_EP_0</a></div><div class="ttdeci">#define USB_EP_0</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00347">usb.h:347</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a2563224a44d17c5767b29eea6f47414a"><div class="ttname"><a href="hw__usb_8h.html#a2563224a44d17c5767b29eea6f47414a">USB_O_FIFO0</a></div><div class="ttdeci">#define USB_O_FIFO0</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00059">hw_usb.h:59</a></div></div>
<div class="ttc" id="usb_8h_html_a13cce6caa2ecdaa333ae6a9fe5869e32"><div class="ttname"><a href="usb_8h.html#a13cce6caa2ecdaa333ae6a9fe5869e32">USB_EP_2</a></div><div class="ttdeci">#define USB_EP_2</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00349">usb.h:349</a></div></div>
<div class="ttc" id="usb_8h_html_a4e39f33c6467bddfb7d3e92a2ea5b789"><div class="ttname"><a href="usb_8h.html#a4e39f33c6467bddfb7d3e92a2ea5b789">USB_EP_1</a></div><div class="ttdeci">#define USB_EP_1</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00348">usb.h:348</a></div></div>
<div class="ttc" id="hw__usb_8h_html_aa46f20c660cc47f9b3d8f9feace51914"><div class="ttname"><a href="hw__usb_8h.html#aa46f20c660cc47f9b3d8f9feace51914">USB_CSRL0_RXRDY</a></div><div class="ttdeci">#define USB_CSRL0_RXRDY</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01213">hw_usb.h:1213</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a1cb5bf9dcee48cd3ad0417dbeb1b0e11"><div class="ttname"><a href="hw__usb_8h.html#a1cb5bf9dcee48cd3ad0417dbeb1b0e11">USB_O_COUNT0</a></div><div class="ttdeci">#define USB_O_COUNT0</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00166">hw_usb.h:166</a></div></div>
<div class="ttc" id="hw__types_8h_html_a084083ee12e5262f8e54bb56c15ac8c7"><div class="ttname"><a href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a></div><div class="ttdeci">#define HWREGB(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00052">hw_types.h:52</a></div></div>
<div class="ttc" id="group__usb__api_html_gaadf74b0caf840f0d3222cb1dc563684c"><div class="ttname"><a href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a></div><div class="ttdeci">#define EP_OFFSET(Endpoint)</div><div class="ttdef"><b>Definition:</b> <a href="usb_8c_source.html#l00082">usb.c:82</a></div></div>
<div class="ttc" id="hw__memmap_8h_html_aa47acf4992407a85e79d911ca1055d17"><div class="ttname"><a href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a></div><div class="ttdeci">#define USB0_BASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__memmap_8h_source.html#l00099">hw_memmap.h:99</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a095977f9007e9e6af6f00eab8e1f64b1"><div class="ttname"><a href="hw__usb_8h.html#a095977f9007e9e6af6f00eab8e1f64b1">USB_O_CSRL0</a></div><div class="ttdeci">#define USB_O_CSRL0</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00162">hw_usb.h:162</a></div></div>
<div class="ttc" id="usb_8h_html_a78dcce1706922dc17a6baf4e8f37150d"><div class="ttname"><a href="usb_8h.html#a78dcce1706922dc17a6baf4e8f37150d">USB_EP_7</a></div><div class="ttdeci">#define USB_EP_7</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00354">usb.h:354</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gab30e36a23c89c23568a763065509e4c8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t USBEndpointDataPut </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Endpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>pui8Data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Puts data into the specified endpoint's FIFO.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address. </td></tr>
    <tr><td class="paramname">ui32Endpoint</td><td>is the endpoint to access. </td></tr>
    <tr><td class="paramname">pui8Data</td><td>is a pointer to the data area used as the source for the data to put into the FIFO. </td></tr>
    <tr><td class="paramname">ui32Size</td><td>is the amount of data to put into the FIFO.</td></tr>
  </table>
  </dd>
</dl>
<p>This function puts the data from the <em>pui8Data</em> parameter into the FIFO for this endpoint. If a packet is already pending for transmission, then this call does not put any of the data into the FIFO and returns -1. Care must be taken to not write more data than can fit into the FIFO allocated by the call to <a class="el" href="group__usb__api.html#ga8177751d5f16390d8d6c5f10df790114">USBFIFOConfigSet()</a>.</p>
<dl class="section return"><dt>Returns</dt><dd>This call returns 0 on success, or -1 to indicate that the FIFO is in use and cannot be written. </dd></dl>

<p>Definition at line <a class="el" href="usb_8c_source.html#l02993">2993</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="hw__types_8h_source.html#l00052">HWREGB</a>, <a class="el" href="hw__memmap_8h_source.html#l00099">USB0_BASE</a>, <a class="el" href="hw__usb_8h_source.html#l01212">USB_CSRL0_TXRDY</a>, <a class="el" href="usb_8h_source.html#l00347">USB_EP_0</a>, <a class="el" href="usb_8h_source.html#l00348">USB_EP_1</a>, <a class="el" href="usb_8h_source.html#l00349">USB_EP_2</a>, <a class="el" href="usb_8h_source.html#l00350">USB_EP_3</a>, <a class="el" href="usb_8h_source.html#l00351">USB_EP_4</a>, <a class="el" href="usb_8h_source.html#l00352">USB_EP_5</a>, <a class="el" href="usb_8h_source.html#l00353">USB_EP_6</a>, <a class="el" href="usb_8h_source.html#l00354">USB_EP_7</a>, <a class="el" href="hw__usb_8h_source.html#l00162">USB_O_CSRL0</a>, <a class="el" href="hw__usb_8h_source.html#l00059">USB_O_FIFO0</a>, and <a class="el" href="hw__usb_8h_source.html#l01273">USB_TXCSRL1_TXRDY</a>.</p>
<div class="fragment"><div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160;{</div>
<div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;    uint32_t ui32FIFO;</div>
<div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;    uint8_t ui8TxPktRdy;</div>
<div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;</div>
<div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a>);</div>
<div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32Endpoint == <a class="code" href="usb_8h.html#a17438a2055fa93adc8baabd84a697246">USB_EP_0</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a4e39f33c6467bddfb7d3e92a2ea5b789">USB_EP_1</a>) ||</div>
<div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a13cce6caa2ecdaa333ae6a9fe5869e32">USB_EP_2</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#ab0f7986e9b00a278f0d9546e1d646440">USB_EP_3</a>) ||</div>
<div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a8e177910552fb7eeb3c11ef9e35d7439">USB_EP_4</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a73892b0ca4c30f38c7fef4d7d6fd2caf">USB_EP_5</a>) ||</div>
<div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a4a0a3d355ece777a24c1fcfc192a7ef7">USB_EP_6</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a78dcce1706922dc17a6baf4e8f37150d">USB_EP_7</a>));</div>
<div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;</div>
<div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;    <span class="comment">// Get the bit position of TxPktRdy based on the endpoint.</span></div>
<div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;    <span class="keywordflow">if</span>(ui32Endpoint == <a class="code" href="usb_8h.html#a17438a2055fa93adc8baabd84a697246">USB_EP_0</a>)</div>
<div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160;    {</div>
<div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;        ui8TxPktRdy = <a class="code" href="hw__usb_8h.html#a66cb7a914c02dce1716cb0b6669da104">USB_CSRL0_TXRDY</a>;</div>
<div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160;    }</div>
<div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l03016"></a><span class="lineno"> 3016</span>&#160;    {</div>
<div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;        ui8TxPktRdy = <a class="code" href="hw__usb_8h.html#a2dee22637008a182c7e810ea6ad2615c">USB_TXCSRL1_TXRDY</a>;</div>
<div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;    }</div>
<div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;</div>
<div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160;    <span class="comment">// Don&#39;t allow transmit of data if the TxPktRdy bit is already set.</span></div>
<div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a095977f9007e9e6af6f00eab8e1f64b1">USB_O_CSRL0</a> + ui32Endpoint) &amp; ui8TxPktRdy)</div>
<div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160;    {</div>
<div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;        <span class="keywordflow">return</span>(-1);</div>
<div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;    }</div>
<div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;</div>
<div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160;    <span class="comment">// Calculate the FIFO address.</span></div>
<div class="line"><a name="l03030"></a><span class="lineno"> 3030</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;    ui32FIFO = ui32Base + <a class="code" href="hw__usb_8h.html#a2563224a44d17c5767b29eea6f47414a">USB_O_FIFO0</a> + (ui32Endpoint &gt;&gt; 2);</div>
<div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160;</div>
<div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160;    <span class="comment">// Write the data to the FIFO.</span></div>
<div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160;    <span class="keywordflow">for</span>(; ui32Size &gt; 0; ui32Size--)</div>
<div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160;    {</div>
<div class="line"><a name="l03038"></a><span class="lineno"> 3038</span>&#160;        <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32FIFO) = *pui8Data++;</div>
<div class="line"><a name="l03039"></a><span class="lineno"> 3039</span>&#160;    }</div>
<div class="line"><a name="l03040"></a><span class="lineno"> 3040</span>&#160;</div>
<div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03042"></a><span class="lineno"> 3042</span>&#160;    <span class="comment">// Success.</span></div>
<div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;    <span class="keywordflow">return</span>(0);</div>
<div class="line"><a name="l03045"></a><span class="lineno"> 3045</span>&#160;}</div>
<div class="ttc" id="usb_8h_html_a8e177910552fb7eeb3c11ef9e35d7439"><div class="ttname"><a href="usb_8h.html#a8e177910552fb7eeb3c11ef9e35d7439">USB_EP_4</a></div><div class="ttdeci">#define USB_EP_4</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00351">usb.h:351</a></div></div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a66cb7a914c02dce1716cb0b6669da104"><div class="ttname"><a href="hw__usb_8h.html#a66cb7a914c02dce1716cb0b6669da104">USB_CSRL0_TXRDY</a></div><div class="ttdeci">#define USB_CSRL0_TXRDY</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01212">hw_usb.h:1212</a></div></div>
<div class="ttc" id="usb_8h_html_a73892b0ca4c30f38c7fef4d7d6fd2caf"><div class="ttname"><a href="usb_8h.html#a73892b0ca4c30f38c7fef4d7d6fd2caf">USB_EP_5</a></div><div class="ttdeci">#define USB_EP_5</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00352">usb.h:352</a></div></div>
<div class="ttc" id="usb_8h_html_a4a0a3d355ece777a24c1fcfc192a7ef7"><div class="ttname"><a href="usb_8h.html#a4a0a3d355ece777a24c1fcfc192a7ef7">USB_EP_6</a></div><div class="ttdeci">#define USB_EP_6</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00353">usb.h:353</a></div></div>
<div class="ttc" id="usb_8h_html_ab0f7986e9b00a278f0d9546e1d646440"><div class="ttname"><a href="usb_8h.html#ab0f7986e9b00a278f0d9546e1d646440">USB_EP_3</a></div><div class="ttdeci">#define USB_EP_3</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00350">usb.h:350</a></div></div>
<div class="ttc" id="usb_8h_html_a17438a2055fa93adc8baabd84a697246"><div class="ttname"><a href="usb_8h.html#a17438a2055fa93adc8baabd84a697246">USB_EP_0</a></div><div class="ttdeci">#define USB_EP_0</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00347">usb.h:347</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a2563224a44d17c5767b29eea6f47414a"><div class="ttname"><a href="hw__usb_8h.html#a2563224a44d17c5767b29eea6f47414a">USB_O_FIFO0</a></div><div class="ttdeci">#define USB_O_FIFO0</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00059">hw_usb.h:59</a></div></div>
<div class="ttc" id="usb_8h_html_a13cce6caa2ecdaa333ae6a9fe5869e32"><div class="ttname"><a href="usb_8h.html#a13cce6caa2ecdaa333ae6a9fe5869e32">USB_EP_2</a></div><div class="ttdeci">#define USB_EP_2</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00349">usb.h:349</a></div></div>
<div class="ttc" id="usb_8h_html_a4e39f33c6467bddfb7d3e92a2ea5b789"><div class="ttname"><a href="usb_8h.html#a4e39f33c6467bddfb7d3e92a2ea5b789">USB_EP_1</a></div><div class="ttdeci">#define USB_EP_1</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00348">usb.h:348</a></div></div>
<div class="ttc" id="hw__types_8h_html_a084083ee12e5262f8e54bb56c15ac8c7"><div class="ttname"><a href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a></div><div class="ttdeci">#define HWREGB(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00052">hw_types.h:52</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a2dee22637008a182c7e810ea6ad2615c"><div class="ttname"><a href="hw__usb_8h.html#a2dee22637008a182c7e810ea6ad2615c">USB_TXCSRL1_TXRDY</a></div><div class="ttdeci">#define USB_TXCSRL1_TXRDY</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01273">hw_usb.h:1273</a></div></div>
<div class="ttc" id="hw__memmap_8h_html_aa47acf4992407a85e79d911ca1055d17"><div class="ttname"><a href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a></div><div class="ttdeci">#define USB0_BASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__memmap_8h_source.html#l00099">hw_memmap.h:99</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a095977f9007e9e6af6f00eab8e1f64b1"><div class="ttname"><a href="hw__usb_8h.html#a095977f9007e9e6af6f00eab8e1f64b1">USB_O_CSRL0</a></div><div class="ttdeci">#define USB_O_CSRL0</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00162">hw_usb.h:162</a></div></div>
<div class="ttc" id="usb_8h_html_a78dcce1706922dc17a6baf4e8f37150d"><div class="ttname"><a href="usb_8h.html#a78dcce1706922dc17a6baf4e8f37150d">USB_EP_7</a></div><div class="ttdeci">#define USB_EP_7</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00354">usb.h:354</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga7097f6c4f044d18964292fbefe45fa9b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t USBEndpointDataSend </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Endpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32TransType</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Starts the transfer of data from an endpoint's FIFO.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address. </td></tr>
    <tr><td class="paramname">ui32Endpoint</td><td>is the endpoint to access. </td></tr>
    <tr><td class="paramname">ui32TransType</td><td>is set to indicate what type of data is being sent.</td></tr>
  </table>
  </dd>
</dl>
<p>This function starts the transfer of data from the FIFO for a specified endpoint. This function is called if the <b>USB_EP_AUTO_SET</b> bit was not enabled for the endpoint. Setting the <em>ui32TransType</em> parameter allows the appropriate signaling on the USB bus for the type of transaction being requested. The <em>ui32TransType</em> parameter must be one of the following:</p>
<ul>
<li><b>USB_TRANS_OUT</b> for OUT transaction on any endpoint in host mode.</li>
<li><b>USB_TRANS_IN</b> for IN transaction on any endpoint in device mode.</li>
<li><b>USB_TRANS_IN_LAST</b> for the last IN transaction on endpoint zero in a sequence of IN transactions.</li>
<li><b>USB_TRANS_SETUP</b> for setup transactions on endpoint zero.</li>
<li><b>USB_TRANS_STATUS</b> for status results on endpoint zero.</li>
</ul>
<dl class="section return"><dt>Returns</dt><dd>This call returns 0 on success, or -1 if a transmission is already in progress. </dd></dl>

<p>Definition at line <a class="el" href="usb_8c_source.html#l03074">3074</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="hw__types_8h_source.html#l00052">HWREGB</a>, <a class="el" href="hw__memmap_8h_source.html#l00099">USB0_BASE</a>, <a class="el" href="hw__usb_8h_source.html#l01212">USB_CSRL0_TXRDY</a>, <a class="el" href="usb_8h_source.html#l00347">USB_EP_0</a>, <a class="el" href="usb_8h_source.html#l00348">USB_EP_1</a>, <a class="el" href="usb_8h_source.html#l00349">USB_EP_2</a>, <a class="el" href="usb_8h_source.html#l00350">USB_EP_3</a>, <a class="el" href="usb_8h_source.html#l00351">USB_EP_4</a>, <a class="el" href="usb_8h_source.html#l00352">USB_EP_5</a>, <a class="el" href="usb_8h_source.html#l00353">USB_EP_6</a>, <a class="el" href="usb_8h_source.html#l00354">USB_EP_7</a>, <a class="el" href="hw__usb_8h_source.html#l00162">USB_O_CSRL0</a>, and <a class="el" href="hw__usb_8h_source.html#l01273">USB_TXCSRL1_TXRDY</a>.</p>
<div class="fragment"><div class="line"><a name="l03076"></a><span class="lineno"> 3076</span>&#160;{</div>
<div class="line"><a name="l03077"></a><span class="lineno"> 3077</span>&#160;    uint32_t ui32TxPktRdy;</div>
<div class="line"><a name="l03078"></a><span class="lineno"> 3078</span>&#160;</div>
<div class="line"><a name="l03079"></a><span class="lineno"> 3079</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03080"></a><span class="lineno"> 3080</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l03081"></a><span class="lineno"> 3081</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03082"></a><span class="lineno"> 3082</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a>);</div>
<div class="line"><a name="l03083"></a><span class="lineno"> 3083</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32Endpoint == <a class="code" href="usb_8h.html#a17438a2055fa93adc8baabd84a697246">USB_EP_0</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a4e39f33c6467bddfb7d3e92a2ea5b789">USB_EP_1</a>) ||</div>
<div class="line"><a name="l03084"></a><span class="lineno"> 3084</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a13cce6caa2ecdaa333ae6a9fe5869e32">USB_EP_2</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#ab0f7986e9b00a278f0d9546e1d646440">USB_EP_3</a>) ||</div>
<div class="line"><a name="l03085"></a><span class="lineno"> 3085</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a8e177910552fb7eeb3c11ef9e35d7439">USB_EP_4</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a73892b0ca4c30f38c7fef4d7d6fd2caf">USB_EP_5</a>) ||</div>
<div class="line"><a name="l03086"></a><span class="lineno"> 3086</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a4a0a3d355ece777a24c1fcfc192a7ef7">USB_EP_6</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a78dcce1706922dc17a6baf4e8f37150d">USB_EP_7</a>));</div>
<div class="line"><a name="l03087"></a><span class="lineno"> 3087</span>&#160;</div>
<div class="line"><a name="l03088"></a><span class="lineno"> 3088</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03089"></a><span class="lineno"> 3089</span>&#160;    <span class="comment">// Get the bit position of TxPktRdy based on the endpoint.</span></div>
<div class="line"><a name="l03090"></a><span class="lineno"> 3090</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03091"></a><span class="lineno"> 3091</span>&#160;    <span class="keywordflow">if</span>(ui32Endpoint == <a class="code" href="usb_8h.html#a17438a2055fa93adc8baabd84a697246">USB_EP_0</a>)</div>
<div class="line"><a name="l03092"></a><span class="lineno"> 3092</span>&#160;    {</div>
<div class="line"><a name="l03093"></a><span class="lineno"> 3093</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l03094"></a><span class="lineno"> 3094</span>&#160;        <span class="comment">// Don&#39;t allow transmit of data if the TxPktRdy bit is already set.</span></div>
<div class="line"><a name="l03095"></a><span class="lineno"> 3095</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l03096"></a><span class="lineno"> 3096</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a095977f9007e9e6af6f00eab8e1f64b1">USB_O_CSRL0</a>) &amp; <a class="code" href="hw__usb_8h.html#a66cb7a914c02dce1716cb0b6669da104">USB_CSRL0_TXRDY</a>)</div>
<div class="line"><a name="l03097"></a><span class="lineno"> 3097</span>&#160;        {</div>
<div class="line"><a name="l03098"></a><span class="lineno"> 3098</span>&#160;            <span class="keywordflow">return</span>(-1);</div>
<div class="line"><a name="l03099"></a><span class="lineno"> 3099</span>&#160;        }</div>
<div class="line"><a name="l03100"></a><span class="lineno"> 3100</span>&#160;</div>
<div class="line"><a name="l03101"></a><span class="lineno"> 3101</span>&#160;        ui32TxPktRdy = ui32TransType &amp; 0xff;</div>
<div class="line"><a name="l03102"></a><span class="lineno"> 3102</span>&#160;    }</div>
<div class="line"><a name="l03103"></a><span class="lineno"> 3103</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l03104"></a><span class="lineno"> 3104</span>&#160;    {</div>
<div class="line"><a name="l03105"></a><span class="lineno"> 3105</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l03106"></a><span class="lineno"> 3106</span>&#160;        <span class="comment">// Don&#39;t allow transmit of data if the TxPktRdy bit is already set.</span></div>
<div class="line"><a name="l03107"></a><span class="lineno"> 3107</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l03108"></a><span class="lineno"> 3108</span>&#160;        <span class="keywordflow">if</span>(<a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a095977f9007e9e6af6f00eab8e1f64b1">USB_O_CSRL0</a> + ui32Endpoint) &amp; <a class="code" href="hw__usb_8h.html#a2dee22637008a182c7e810ea6ad2615c">USB_TXCSRL1_TXRDY</a>)</div>
<div class="line"><a name="l03109"></a><span class="lineno"> 3109</span>&#160;        {</div>
<div class="line"><a name="l03110"></a><span class="lineno"> 3110</span>&#160;            <span class="keywordflow">return</span>(-1);</div>
<div class="line"><a name="l03111"></a><span class="lineno"> 3111</span>&#160;        }</div>
<div class="line"><a name="l03112"></a><span class="lineno"> 3112</span>&#160;</div>
<div class="line"><a name="l03113"></a><span class="lineno"> 3113</span>&#160;        ui32TxPktRdy = (ui32TransType &gt;&gt; 8) &amp; 0xff;</div>
<div class="line"><a name="l03114"></a><span class="lineno"> 3114</span>&#160;    }</div>
<div class="line"><a name="l03115"></a><span class="lineno"> 3115</span>&#160;</div>
<div class="line"><a name="l03116"></a><span class="lineno"> 3116</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03117"></a><span class="lineno"> 3117</span>&#160;    <span class="comment">// Set TxPktRdy in order to send the data.</span></div>
<div class="line"><a name="l03118"></a><span class="lineno"> 3118</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03119"></a><span class="lineno"> 3119</span>&#160;    <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a095977f9007e9e6af6f00eab8e1f64b1">USB_O_CSRL0</a> + ui32Endpoint) = ui32TxPktRdy;</div>
<div class="line"><a name="l03120"></a><span class="lineno"> 3120</span>&#160;</div>
<div class="line"><a name="l03121"></a><span class="lineno"> 3121</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03122"></a><span class="lineno"> 3122</span>&#160;    <span class="comment">// Success.</span></div>
<div class="line"><a name="l03123"></a><span class="lineno"> 3123</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03124"></a><span class="lineno"> 3124</span>&#160;    <span class="keywordflow">return</span>(0);</div>
<div class="line"><a name="l03125"></a><span class="lineno"> 3125</span>&#160;}</div>
<div class="ttc" id="usb_8h_html_a8e177910552fb7eeb3c11ef9e35d7439"><div class="ttname"><a href="usb_8h.html#a8e177910552fb7eeb3c11ef9e35d7439">USB_EP_4</a></div><div class="ttdeci">#define USB_EP_4</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00351">usb.h:351</a></div></div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a66cb7a914c02dce1716cb0b6669da104"><div class="ttname"><a href="hw__usb_8h.html#a66cb7a914c02dce1716cb0b6669da104">USB_CSRL0_TXRDY</a></div><div class="ttdeci">#define USB_CSRL0_TXRDY</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01212">hw_usb.h:1212</a></div></div>
<div class="ttc" id="usb_8h_html_a73892b0ca4c30f38c7fef4d7d6fd2caf"><div class="ttname"><a href="usb_8h.html#a73892b0ca4c30f38c7fef4d7d6fd2caf">USB_EP_5</a></div><div class="ttdeci">#define USB_EP_5</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00352">usb.h:352</a></div></div>
<div class="ttc" id="usb_8h_html_a4a0a3d355ece777a24c1fcfc192a7ef7"><div class="ttname"><a href="usb_8h.html#a4a0a3d355ece777a24c1fcfc192a7ef7">USB_EP_6</a></div><div class="ttdeci">#define USB_EP_6</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00353">usb.h:353</a></div></div>
<div class="ttc" id="usb_8h_html_ab0f7986e9b00a278f0d9546e1d646440"><div class="ttname"><a href="usb_8h.html#ab0f7986e9b00a278f0d9546e1d646440">USB_EP_3</a></div><div class="ttdeci">#define USB_EP_3</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00350">usb.h:350</a></div></div>
<div class="ttc" id="usb_8h_html_a17438a2055fa93adc8baabd84a697246"><div class="ttname"><a href="usb_8h.html#a17438a2055fa93adc8baabd84a697246">USB_EP_0</a></div><div class="ttdeci">#define USB_EP_0</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00347">usb.h:347</a></div></div>
<div class="ttc" id="usb_8h_html_a13cce6caa2ecdaa333ae6a9fe5869e32"><div class="ttname"><a href="usb_8h.html#a13cce6caa2ecdaa333ae6a9fe5869e32">USB_EP_2</a></div><div class="ttdeci">#define USB_EP_2</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00349">usb.h:349</a></div></div>
<div class="ttc" id="usb_8h_html_a4e39f33c6467bddfb7d3e92a2ea5b789"><div class="ttname"><a href="usb_8h.html#a4e39f33c6467bddfb7d3e92a2ea5b789">USB_EP_1</a></div><div class="ttdeci">#define USB_EP_1</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00348">usb.h:348</a></div></div>
<div class="ttc" id="hw__types_8h_html_a084083ee12e5262f8e54bb56c15ac8c7"><div class="ttname"><a href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a></div><div class="ttdeci">#define HWREGB(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00052">hw_types.h:52</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a2dee22637008a182c7e810ea6ad2615c"><div class="ttname"><a href="hw__usb_8h.html#a2dee22637008a182c7e810ea6ad2615c">USB_TXCSRL1_TXRDY</a></div><div class="ttdeci">#define USB_TXCSRL1_TXRDY</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01273">hw_usb.h:1273</a></div></div>
<div class="ttc" id="hw__memmap_8h_html_aa47acf4992407a85e79d911ca1055d17"><div class="ttname"><a href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a></div><div class="ttdeci">#define USB0_BASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__memmap_8h_source.html#l00099">hw_memmap.h:99</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a095977f9007e9e6af6f00eab8e1f64b1"><div class="ttname"><a href="hw__usb_8h.html#a095977f9007e9e6af6f00eab8e1f64b1">USB_O_CSRL0</a></div><div class="ttdeci">#define USB_O_CSRL0</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00162">hw_usb.h:162</a></div></div>
<div class="ttc" id="usb_8h_html_a78dcce1706922dc17a6baf4e8f37150d"><div class="ttname"><a href="usb_8h.html#a78dcce1706922dc17a6baf4e8f37150d">USB_EP_7</a></div><div class="ttdeci">#define USB_EP_7</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00354">usb.h:354</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga1c823a10fa83951546f0824a4f29fee5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USBEndpointDataToggleClear </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Endpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the data toggle on an endpoint to zero.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address. </td></tr>
    <tr><td class="paramname">ui32Endpoint</td><td>specifies the endpoint to reset the data toggle. </td></tr>
    <tr><td class="paramname">ui32Flags</td><td>specifies whether to access the IN or OUT endpoint.</td></tr>
  </table>
  </dd>
</dl>
<p>This function causes the USB controller to clear the data toggle for an endpoint. This call is not valid for endpoint zero and can be made with host or device controllers.</p>
<p>The <em>ui32Flags</em> parameter must be one of <b>USB_EP_HOST_OUT</b>, <b>USB_EP_HOST_IN</b>, <b>USB_EP_DEV_OUT</b>, or <b>USB_EP_DEV_IN</b>.</p>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="usb_8c_source.html#l01268">1268</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="usb_8c_source.html#l00082">EP_OFFSET</a>, <a class="el" href="hw__types_8h_source.html#l00052">HWREGB</a>, <a class="el" href="hw__memmap_8h_source.html#l00099">USB0_BASE</a>, <a class="el" href="usb_8h_source.html#l00348">USB_EP_1</a>, <a class="el" href="usb_8h_source.html#l00349">USB_EP_2</a>, <a class="el" href="usb_8h_source.html#l00350">USB_EP_3</a>, <a class="el" href="usb_8h_source.html#l00351">USB_EP_4</a>, <a class="el" href="usb_8h_source.html#l00352">USB_EP_5</a>, <a class="el" href="usb_8h_source.html#l00353">USB_EP_6</a>, <a class="el" href="usb_8h_source.html#l00354">USB_EP_7</a>, <a class="el" href="usb_8h_source.html#l00244">USB_EP_DEV_IN</a>, <a class="el" href="usb_8h_source.html#l00243">USB_EP_HOST_OUT</a>, <a class="el" href="hw__usb_8h_source.html#l00178">USB_O_RXCSRL1</a>, <a class="el" href="hw__usb_8h_source.html#l00172">USB_O_TXCSRL1</a>, <a class="el" href="hw__usb_8h_source.html#l01302">USB_RXCSRL1_CLRDT</a>, and <a class="el" href="hw__usb_8h_source.html#l01265">USB_TXCSRL1_CLRDT</a>.</p>
<div class="fragment"><div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;{</div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a>);</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32Endpoint == <a class="code" href="usb_8h.html#a4e39f33c6467bddfb7d3e92a2ea5b789">USB_EP_1</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a13cce6caa2ecdaa333ae6a9fe5869e32">USB_EP_2</a>) ||</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#ab0f7986e9b00a278f0d9546e1d646440">USB_EP_3</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a8e177910552fb7eeb3c11ef9e35d7439">USB_EP_4</a>) ||</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a73892b0ca4c30f38c7fef4d7d6fd2caf">USB_EP_5</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a4a0a3d355ece777a24c1fcfc192a7ef7">USB_EP_6</a>) ||</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a78dcce1706922dc17a6baf4e8f37150d">USB_EP_7</a>));</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;    <span class="comment">// See if the transmit or receive data toggle must be cleared.</span></div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;    <span class="keywordflow">if</span>(ui32Flags &amp; (<a class="code" href="usb_8h.html#a16d74e6681181962aff08fac4ff7176b">USB_EP_HOST_OUT</a> | <a class="code" href="usb_8h.html#a2881e9200f51ae03c0d643e2d6ffa169">USB_EP_DEV_IN</a>))</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;    {</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;        <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a66b5ac3ba5d076b8fd632c377db5c09e">USB_O_TXCSRL1</a> + <a class="code" href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a>(ui32Endpoint)) |=</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;            <a class="code" href="hw__usb_8h.html#a70a1b1e35e89f7ef19cf13df87a011bf">USB_TXCSRL1_CLRDT</a>;</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;    }</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;    {</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;        <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a57bc94dcb14fdfc3f27d6320c7de3a86">USB_O_RXCSRL1</a> + <a class="code" href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a>(ui32Endpoint)) |=</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;            <a class="code" href="hw__usb_8h.html#aee0bc3c1d82b61a1fabab0e5347f052c">USB_RXCSRL1_CLRDT</a>;</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;    }</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;}</div>
<div class="ttc" id="usb_8h_html_a2881e9200f51ae03c0d643e2d6ffa169"><div class="ttname"><a href="usb_8h.html#a2881e9200f51ae03c0d643e2d6ffa169">USB_EP_DEV_IN</a></div><div class="ttdeci">#define USB_EP_DEV_IN</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00244">usb.h:244</a></div></div>
<div class="ttc" id="usb_8h_html_a8e177910552fb7eeb3c11ef9e35d7439"><div class="ttname"><a href="usb_8h.html#a8e177910552fb7eeb3c11ef9e35d7439">USB_EP_4</a></div><div class="ttdeci">#define USB_EP_4</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00351">usb.h:351</a></div></div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a57bc94dcb14fdfc3f27d6320c7de3a86"><div class="ttname"><a href="hw__usb_8h.html#a57bc94dcb14fdfc3f27d6320c7de3a86">USB_O_RXCSRL1</a></div><div class="ttdeci">#define USB_O_RXCSRL1</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00178">hw_usb.h:178</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a70a1b1e35e89f7ef19cf13df87a011bf"><div class="ttname"><a href="hw__usb_8h.html#a70a1b1e35e89f7ef19cf13df87a011bf">USB_TXCSRL1_CLRDT</a></div><div class="ttdeci">#define USB_TXCSRL1_CLRDT</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01265">hw_usb.h:1265</a></div></div>
<div class="ttc" id="usb_8h_html_a73892b0ca4c30f38c7fef4d7d6fd2caf"><div class="ttname"><a href="usb_8h.html#a73892b0ca4c30f38c7fef4d7d6fd2caf">USB_EP_5</a></div><div class="ttdeci">#define USB_EP_5</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00352">usb.h:352</a></div></div>
<div class="ttc" id="usb_8h_html_a16d74e6681181962aff08fac4ff7176b"><div class="ttname"><a href="usb_8h.html#a16d74e6681181962aff08fac4ff7176b">USB_EP_HOST_OUT</a></div><div class="ttdeci">#define USB_EP_HOST_OUT</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00243">usb.h:243</a></div></div>
<div class="ttc" id="usb_8h_html_a4a0a3d355ece777a24c1fcfc192a7ef7"><div class="ttname"><a href="usb_8h.html#a4a0a3d355ece777a24c1fcfc192a7ef7">USB_EP_6</a></div><div class="ttdeci">#define USB_EP_6</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00353">usb.h:353</a></div></div>
<div class="ttc" id="hw__usb_8h_html_aee0bc3c1d82b61a1fabab0e5347f052c"><div class="ttname"><a href="hw__usb_8h.html#aee0bc3c1d82b61a1fabab0e5347f052c">USB_RXCSRL1_CLRDT</a></div><div class="ttdeci">#define USB_RXCSRL1_CLRDT</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01302">hw_usb.h:1302</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a66b5ac3ba5d076b8fd632c377db5c09e"><div class="ttname"><a href="hw__usb_8h.html#a66b5ac3ba5d076b8fd632c377db5c09e">USB_O_TXCSRL1</a></div><div class="ttdeci">#define USB_O_TXCSRL1</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00172">hw_usb.h:172</a></div></div>
<div class="ttc" id="usb_8h_html_ab0f7986e9b00a278f0d9546e1d646440"><div class="ttname"><a href="usb_8h.html#ab0f7986e9b00a278f0d9546e1d646440">USB_EP_3</a></div><div class="ttdeci">#define USB_EP_3</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00350">usb.h:350</a></div></div>
<div class="ttc" id="usb_8h_html_a13cce6caa2ecdaa333ae6a9fe5869e32"><div class="ttname"><a href="usb_8h.html#a13cce6caa2ecdaa333ae6a9fe5869e32">USB_EP_2</a></div><div class="ttdeci">#define USB_EP_2</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00349">usb.h:349</a></div></div>
<div class="ttc" id="usb_8h_html_a4e39f33c6467bddfb7d3e92a2ea5b789"><div class="ttname"><a href="usb_8h.html#a4e39f33c6467bddfb7d3e92a2ea5b789">USB_EP_1</a></div><div class="ttdeci">#define USB_EP_1</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00348">usb.h:348</a></div></div>
<div class="ttc" id="hw__types_8h_html_a084083ee12e5262f8e54bb56c15ac8c7"><div class="ttname"><a href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a></div><div class="ttdeci">#define HWREGB(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00052">hw_types.h:52</a></div></div>
<div class="ttc" id="group__usb__api_html_gaadf74b0caf840f0d3222cb1dc563684c"><div class="ttname"><a href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a></div><div class="ttdeci">#define EP_OFFSET(Endpoint)</div><div class="ttdef"><b>Definition:</b> <a href="usb_8c_source.html#l00082">usb.c:82</a></div></div>
<div class="ttc" id="hw__memmap_8h_html_aa47acf4992407a85e79d911ca1055d17"><div class="ttname"><a href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a></div><div class="ttdeci">#define USB0_BASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__memmap_8h_source.html#l00099">hw_memmap.h:99</a></div></div>
<div class="ttc" id="usb_8h_html_a78dcce1706922dc17a6baf4e8f37150d"><div class="ttname"><a href="usb_8h.html#a78dcce1706922dc17a6baf4e8f37150d">USB_EP_7</a></div><div class="ttdeci">#define USB_EP_7</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00354">usb.h:354</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga4ad24e5522d0548200961944c3c16f38"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USBEndpointDMAChannel </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Endpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Channel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the DMA channel to use for a specified endpoint.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address. </td></tr>
    <tr><td class="paramname">ui32Endpoint</td><td>specifies which endpoint's FIFO address to return. </td></tr>
    <tr><td class="paramname">ui32Channel</td><td>specifies which DMA channel to use for which endpoint.</td></tr>
  </table>
  </dd>
</dl>
<p>This function is used to configure which DMA channel to use with a specified endpoint. Receive DMA channels can only be used with receive endpoints and transmit DMA channels can only be used with transmit endpoints. As a result, the 3 receive and 3 transmit DMA channels can be mapped to any endpoint other than 0. The values that are passed into the <em>ui32Channel</em> value are the UDMA_CHANNEL_USBEP* values defined in <a class="el" href="udma_8h.html">udma.h</a>.</p>
<dl class="section note"><dt>Note</dt><dd>This function only has an effect on microcontrollers that have the ability to change the DMA channel for an endpoint. Calling this function on other devices has no effect.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="usb_8c_source.html#l03944">3944</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="hw__types_8h_source.html#l00048">HWREG</a>, <a class="el" href="udma_8h_source.html#l00261">UDMA_CHANNEL_USBEP3TX</a>, <a class="el" href="hw__memmap_8h_source.html#l00099">USB0_BASE</a>, <a class="el" href="usb_8h_source.html#l00348">USB_EP_1</a>, <a class="el" href="usb_8h_source.html#l00349">USB_EP_2</a>, <a class="el" href="usb_8h_source.html#l00350">USB_EP_3</a>, <a class="el" href="usb_8h_source.html#l00351">USB_EP_4</a>, <a class="el" href="usb_8h_source.html#l00352">USB_EP_5</a>, <a class="el" href="usb_8h_source.html#l00353">USB_EP_6</a>, <a class="el" href="usb_8h_source.html#l00354">USB_EP_7</a>, <a class="el" href="hw__usb_8h_source.html#l00403">USB_O_DMASEL</a>, and <a class="el" href="usb_8h_source.html#l00364">USBEPToIndex</a>.</p>
<div class="fragment"><div class="line"><a name="l03946"></a><span class="lineno"> 3946</span>&#160;{</div>
<div class="line"><a name="l03947"></a><span class="lineno"> 3947</span>&#160;    uint32_t ui32Mask;</div>
<div class="line"><a name="l03948"></a><span class="lineno"> 3948</span>&#160;</div>
<div class="line"><a name="l03949"></a><span class="lineno"> 3949</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03950"></a><span class="lineno"> 3950</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l03951"></a><span class="lineno"> 3951</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03952"></a><span class="lineno"> 3952</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a>);</div>
<div class="line"><a name="l03953"></a><span class="lineno"> 3953</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32Endpoint == <a class="code" href="usb_8h.html#a4e39f33c6467bddfb7d3e92a2ea5b789">USB_EP_1</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a13cce6caa2ecdaa333ae6a9fe5869e32">USB_EP_2</a>) ||</div>
<div class="line"><a name="l03954"></a><span class="lineno"> 3954</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#ab0f7986e9b00a278f0d9546e1d646440">USB_EP_3</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a8e177910552fb7eeb3c11ef9e35d7439">USB_EP_4</a>) ||</div>
<div class="line"><a name="l03955"></a><span class="lineno"> 3955</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a73892b0ca4c30f38c7fef4d7d6fd2caf">USB_EP_5</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a4a0a3d355ece777a24c1fcfc192a7ef7">USB_EP_6</a>) ||</div>
<div class="line"><a name="l03956"></a><span class="lineno"> 3956</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a78dcce1706922dc17a6baf4e8f37150d">USB_EP_7</a>));</div>
<div class="line"><a name="l03957"></a><span class="lineno"> 3957</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Channel &lt;= <a class="code" href="udma_8h.html#a4cd73135ca5ff7901ee122dc07ff96d9">UDMA_CHANNEL_USBEP3TX</a>);</div>
<div class="line"><a name="l03958"></a><span class="lineno"> 3958</span>&#160;</div>
<div class="line"><a name="l03959"></a><span class="lineno"> 3959</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03960"></a><span class="lineno"> 3960</span>&#160;    <span class="comment">// The input select mask must be shifted into the correct position</span></div>
<div class="line"><a name="l03961"></a><span class="lineno"> 3961</span>&#160;    <span class="comment">// based on the channel.</span></div>
<div class="line"><a name="l03962"></a><span class="lineno"> 3962</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03963"></a><span class="lineno"> 3963</span>&#160;    ui32Mask = 0xf &lt;&lt; (ui32Channel * 4);</div>
<div class="line"><a name="l03964"></a><span class="lineno"> 3964</span>&#160;</div>
<div class="line"><a name="l03965"></a><span class="lineno"> 3965</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03966"></a><span class="lineno"> 3966</span>&#160;    <span class="comment">// Clear out the current selection for the channel.</span></div>
<div class="line"><a name="l03967"></a><span class="lineno"> 3967</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03968"></a><span class="lineno"> 3968</span>&#160;    ui32Mask = <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a814839d7a87428b4948b3e988759b5b8">USB_O_DMASEL</a>) &amp; (~ui32Mask);</div>
<div class="line"><a name="l03969"></a><span class="lineno"> 3969</span>&#160;</div>
<div class="line"><a name="l03970"></a><span class="lineno"> 3970</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03971"></a><span class="lineno"> 3971</span>&#160;    <span class="comment">// The input select is now shifted into the correct position based on the</span></div>
<div class="line"><a name="l03972"></a><span class="lineno"> 3972</span>&#160;    <span class="comment">// channel.</span></div>
<div class="line"><a name="l03973"></a><span class="lineno"> 3973</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03974"></a><span class="lineno"> 3974</span>&#160;    ui32Mask |= (<a class="code" href="usb_8h.html#a0b593946928f1a9c4c75ac78ee6d6f89">USBEPToIndex</a>(ui32Endpoint)) &lt;&lt; (ui32Channel * 4);</div>
<div class="line"><a name="l03975"></a><span class="lineno"> 3975</span>&#160;</div>
<div class="line"><a name="l03976"></a><span class="lineno"> 3976</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03977"></a><span class="lineno"> 3977</span>&#160;    <span class="comment">// Write the value out to the register.</span></div>
<div class="line"><a name="l03978"></a><span class="lineno"> 3978</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03979"></a><span class="lineno"> 3979</span>&#160;    <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a814839d7a87428b4948b3e988759b5b8">USB_O_DMASEL</a>) = ui32Mask;</div>
<div class="line"><a name="l03980"></a><span class="lineno"> 3980</span>&#160;}</div>
<div class="ttc" id="hw__types_8h_html_ac9660181819fceac0b5abcd67d76ca6e"><div class="ttname"><a href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a></div><div class="ttdeci">#define HWREG(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00048">hw_types.h:48</a></div></div>
<div class="ttc" id="usb_8h_html_a8e177910552fb7eeb3c11ef9e35d7439"><div class="ttname"><a href="usb_8h.html#a8e177910552fb7eeb3c11ef9e35d7439">USB_EP_4</a></div><div class="ttdeci">#define USB_EP_4</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00351">usb.h:351</a></div></div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="usb_8h_html_a73892b0ca4c30f38c7fef4d7d6fd2caf"><div class="ttname"><a href="usb_8h.html#a73892b0ca4c30f38c7fef4d7d6fd2caf">USB_EP_5</a></div><div class="ttdeci">#define USB_EP_5</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00352">usb.h:352</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a814839d7a87428b4948b3e988759b5b8"><div class="ttname"><a href="hw__usb_8h.html#a814839d7a87428b4948b3e988759b5b8">USB_O_DMASEL</a></div><div class="ttdeci">#define USB_O_DMASEL</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00403">hw_usb.h:403</a></div></div>
<div class="ttc" id="usb_8h_html_a4a0a3d355ece777a24c1fcfc192a7ef7"><div class="ttname"><a href="usb_8h.html#a4a0a3d355ece777a24c1fcfc192a7ef7">USB_EP_6</a></div><div class="ttdeci">#define USB_EP_6</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00353">usb.h:353</a></div></div>
<div class="ttc" id="usb_8h_html_a0b593946928f1a9c4c75ac78ee6d6f89"><div class="ttname"><a href="usb_8h.html#a0b593946928f1a9c4c75ac78ee6d6f89">USBEPToIndex</a></div><div class="ttdeci">#define USBEPToIndex(x)</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00364">usb.h:364</a></div></div>
<div class="ttc" id="usb_8h_html_ab0f7986e9b00a278f0d9546e1d646440"><div class="ttname"><a href="usb_8h.html#ab0f7986e9b00a278f0d9546e1d646440">USB_EP_3</a></div><div class="ttdeci">#define USB_EP_3</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00350">usb.h:350</a></div></div>
<div class="ttc" id="usb_8h_html_a13cce6caa2ecdaa333ae6a9fe5869e32"><div class="ttname"><a href="usb_8h.html#a13cce6caa2ecdaa333ae6a9fe5869e32">USB_EP_2</a></div><div class="ttdeci">#define USB_EP_2</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00349">usb.h:349</a></div></div>
<div class="ttc" id="usb_8h_html_a4e39f33c6467bddfb7d3e92a2ea5b789"><div class="ttname"><a href="usb_8h.html#a4e39f33c6467bddfb7d3e92a2ea5b789">USB_EP_1</a></div><div class="ttdeci">#define USB_EP_1</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00348">usb.h:348</a></div></div>
<div class="ttc" id="udma_8h_html_a4cd73135ca5ff7901ee122dc07ff96d9"><div class="ttname"><a href="udma_8h.html#a4cd73135ca5ff7901ee122dc07ff96d9">UDMA_CHANNEL_USBEP3TX</a></div><div class="ttdeci">#define UDMA_CHANNEL_USBEP3TX</div><div class="ttdef"><b>Definition:</b> <a href="udma_8h_source.html#l00261">udma.h:261</a></div></div>
<div class="ttc" id="hw__memmap_8h_html_aa47acf4992407a85e79d911ca1055d17"><div class="ttname"><a href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a></div><div class="ttdeci">#define USB0_BASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__memmap_8h_source.html#l00099">hw_memmap.h:99</a></div></div>
<div class="ttc" id="usb_8h_html_a78dcce1706922dc17a6baf4e8f37150d"><div class="ttname"><a href="usb_8h.html#a78dcce1706922dc17a6baf4e8f37150d">USB_EP_7</a></div><div class="ttdeci">#define USB_EP_7</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00354">usb.h:354</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga556aca2133c892662883dd8b9577430e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USBEndpointDMAConfigSet </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Endpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Config</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Configure the DMA settings for an endpoint.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address. </td></tr>
    <tr><td class="paramname">ui32Endpoint</td><td>is the endpoint to access. </td></tr>
    <tr><td class="paramname">ui32Config</td><td>specifies the configuration options for an endpoint.</td></tr>
  </table>
  </dd>
</dl>
<p>This function configures the DMA settings for a specified endpoint without changing other options that may already be configured. In order for the DMA transfer to be enabled, the <a class="el" href="group__usb__api.html#gad067c05a3f666bfb42400c8fef3c755b">USBEndpointDMAEnable()</a> function must be called before starting the DMA transfer. The configuration options are passed in the <em>ui32Config</em> parameter and can have the values described below.</p>
<p>One of the following values to specify direction:</p><ul>
<li><b>USB_EP_HOST_OUT</b> or <b>USB_EP_DEV_IN</b> - This setting is used with DMA transfers from memory to the USB controller.</li>
<li><b>USB_EP_HOST_IN</b> or <b>USB_EP_DEV_OUT</b> - This setting is used with DMA transfers from the USB controller to memory.</li>
</ul>
<p>One of the following values:</p><ul>
<li><b><a class="el" href="usb_8h.html#ab35e7f9177cbd7f7c6af3319d936c1d3">USB_EP_DMA_MODE_0(default)</a></b> - This setting is typically used for transfers that do not span multiple packets or when interrupts are required for each packet.</li>
<li><b>USB_EP_DMA_MODE_1</b> - This setting is typically used for transfers that span multiple packets and do not require interrupts between packets.</li>
</ul>
<p>Values only used with <b>USB_EP_HOST_OUT</b> or <b>USB_EP_DEV_IN:</b> </p><ul>
<li><b>USB_EP_AUTO_SET</b> - This setting is used to allow transmit DMA transfers to automatically be sent when a full packet is loaded into a FIFO. This is needed with <b>USB_EP_DMA_MODE_1</b> to ensure that packets go out when the FIFO becomes full and the DMA has more data to send.</li>
</ul>
<p>Values only used with <b>USB_EP_HOST_IN</b> or <b>USB_EP_DEV_OUT:</b> </p><ul>
<li><b>USB_EP_AUTO_CLEAR</b> - This setting is used to allow receive DMA transfers to automatically be acknowledged as they are received. This is needed with <b>USB_EP_DMA_MODE_1</b> to ensure that packets continue to be received and acknowledged when the FIFO is emptied by the DMA transfer.</li>
</ul>
<p>Values only used with <b>USB_EP_HOST_IN:</b> </p><ul>
<li><b>USB_EP_AUTO_REQUEST</b> - This setting is used to allow receive DMA transfers to automatically request a new IN transaction when the previous transfer has emptied the FIFO. This is typically used in conjunction with <b>USB_EP_AUTO_CLEAR</b> so that receive DMA transfers can continue without interrupting the main processor.</li>
</ul>
<p><b>Example:</b> Set endpoint 1 receive endpoint to automatically acknowledge request and automatically generate a new IN request in host mode.</p>
<pre class="fragment">//! //
//! // Configure endpoint 1 for receiving multiple packets using DMA.
//! //
//! USBEndpointDMAConfigSet(USB0_BASE, USB_EP_1, USB_EP_HOST_IN |
//!                                              USB_EP_DMA_MODE_1 |
//!                                              USB_EP_AUTO_CLEAR |
//!                                              USB_EP_AUTO_REQUEST);
//! </pre> <pre class="fragment">\b Example: Set endpoint 2 transmit endpoint to automatically send each
packet in host mode when spanning multiple packets.
</pre><pre class="fragment">//! //
//! // Configure endpoint 1 for transmitting multiple packets using DMA.
//! //
//! USBEndpointDMAConfigSet(USB0_BASE, USB_EP_2, USB_EP_HOST_OUT |
//!                                              USB_EP_DMA_MODE_1 |
//!                                              USB_EP_AUTO_SET);
//! </pre> <pre class="fragment">\return None.  </pre> 
<p>Definition at line <a class="el" href="usb_8c_source.html#l02574">2574</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="usb_8c_source.html#l00082">EP_OFFSET</a>, <a class="el" href="hw__types_8h_source.html#l00052">HWREGB</a>, <a class="el" href="usb_8h_source.html#l00228">USB_EP_AUTO_CLEAR</a>, <a class="el" href="usb_8h_source.html#l00227">USB_EP_AUTO_REQUEST</a>, <a class="el" href="usb_8h_source.html#l00226">USB_EP_AUTO_SET</a>, <a class="el" href="usb_8h_source.html#l00230">USB_EP_DMA_MODE_1</a>, <a class="el" href="usb_8h_source.html#l00243">USB_EP_HOST_OUT</a>, <a class="el" href="hw__usb_8h_source.html#l00180">USB_O_RXCSRH1</a>, <a class="el" href="hw__usb_8h_source.html#l00174">USB_O_TXCSRH1</a>, <a class="el" href="hw__usb_8h_source.html#l01319">USB_RXCSRH1_AUTOCL</a>, <a class="el" href="hw__usb_8h_source.html#l01320">USB_RXCSRH1_AUTORQ</a>, <a class="el" href="hw__usb_8h_source.html#l01325">USB_RXCSRH1_DMAMOD</a>, <a class="el" href="hw__usb_8h_source.html#l01280">USB_TXCSRH1_AUTOSET</a>, and <a class="el" href="hw__usb_8h_source.html#l01285">USB_TXCSRH1_DMAMOD</a>.</p>
<div class="fragment"><div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;{</div>
<div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;    uint32_t ui32NewConfig;</div>
<div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;</div>
<div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;    <span class="keywordflow">if</span>(ui32Config &amp; <a class="code" href="usb_8h.html#a16d74e6681181962aff08fac4ff7176b">USB_EP_HOST_OUT</a>)</div>
<div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;    {</div>
<div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;        <span class="comment">// Clear mode and DMA enable.</span></div>
<div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;        ui32NewConfig =</div>
<div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;            (<a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a>(ui32Endpoint) + <a class="code" href="hw__usb_8h.html#aa2d73dc23a25ea5d43b680cedfbf191e">USB_O_TXCSRH1</a>) &amp;</div>
<div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;             ~(<a class="code" href="hw__usb_8h.html#abd420b366edbcda207b59235e060eea6">USB_TXCSRH1_DMAMOD</a> | <a class="code" href="hw__usb_8h.html#a6a74dc0cf7f4010a9562834742a12569">USB_TXCSRH1_AUTOSET</a>));</div>
<div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;</div>
<div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;        <span class="keywordflow">if</span>(ui32Config &amp; <a class="code" href="usb_8h.html#a259f82df7349fa5e07fb80726e5de017">USB_EP_DMA_MODE_1</a>)</div>
<div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;        {</div>
<div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;            ui32NewConfig |= <a class="code" href="hw__usb_8h.html#abd420b366edbcda207b59235e060eea6">USB_TXCSRH1_DMAMOD</a>;</div>
<div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;        }</div>
<div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;</div>
<div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;        <span class="keywordflow">if</span>(ui32Config &amp; <a class="code" href="usb_8h.html#af83d520bf70b794bd74c9e2f8573e7ab">USB_EP_AUTO_SET</a>)</div>
<div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;        {</div>
<div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;            ui32NewConfig |= <a class="code" href="hw__usb_8h.html#a6a74dc0cf7f4010a9562834742a12569">USB_TXCSRH1_AUTOSET</a>;</div>
<div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;        }</div>
<div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;</div>
<div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;        <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a>(ui32Endpoint) + <a class="code" href="hw__usb_8h.html#aa2d73dc23a25ea5d43b680cedfbf191e">USB_O_TXCSRH1</a>) =</div>
<div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;            ui32NewConfig;</div>
<div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;    }</div>
<div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;    {</div>
<div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;        ui32NewConfig =</div>
<div class="line"><a name="l02604"></a><span class="lineno"> 2604</span>&#160;            (<a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a>(ui32Endpoint) + <a class="code" href="hw__usb_8h.html#af953e2449fe4e26a4a805200be97b03c">USB_O_RXCSRH1</a>) &amp;</div>
<div class="line"><a name="l02605"></a><span class="lineno"> 2605</span>&#160;             ~(<a class="code" href="hw__usb_8h.html#ace44928f33d51fdb2ea895982f810c9d">USB_RXCSRH1_AUTORQ</a> | <a class="code" href="hw__usb_8h.html#a3f19fc8cbdc83cd742276b0787c0705f">USB_RXCSRH1_AUTOCL</a> | <a class="code" href="hw__usb_8h.html#a765b6bd345468708035e8c6d4efd8a29">USB_RXCSRH1_DMAMOD</a>));</div>
<div class="line"><a name="l02606"></a><span class="lineno"> 2606</span>&#160;</div>
<div class="line"><a name="l02607"></a><span class="lineno"> 2607</span>&#160;        <span class="keywordflow">if</span>(ui32Config &amp; USB_EP_DMA_MODE_1)</div>
<div class="line"><a name="l02608"></a><span class="lineno"> 2608</span>&#160;        {</div>
<div class="line"><a name="l02609"></a><span class="lineno"> 2609</span>&#160;            ui32NewConfig |= <a class="code" href="hw__usb_8h.html#a765b6bd345468708035e8c6d4efd8a29">USB_RXCSRH1_DMAMOD</a>;</div>
<div class="line"><a name="l02610"></a><span class="lineno"> 2610</span>&#160;        }</div>
<div class="line"><a name="l02611"></a><span class="lineno"> 2611</span>&#160;</div>
<div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;        <span class="keywordflow">if</span>(ui32Config &amp; <a class="code" href="usb_8h.html#ac6ffbe05755a887eff3bee31239d76ee">USB_EP_AUTO_CLEAR</a>)</div>
<div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;        {</div>
<div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;            ui32NewConfig |= <a class="code" href="hw__usb_8h.html#a3f19fc8cbdc83cd742276b0787c0705f">USB_RXCSRH1_AUTOCL</a>;</div>
<div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;        }</div>
<div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;        <span class="keywordflow">if</span>(ui32Config &amp; <a class="code" href="usb_8h.html#a6fdc385936265c4f00b1582e9ea0a230">USB_EP_AUTO_REQUEST</a>)</div>
<div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;        {</div>
<div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;            ui32NewConfig |= <a class="code" href="hw__usb_8h.html#ace44928f33d51fdb2ea895982f810c9d">USB_RXCSRH1_AUTORQ</a>;</div>
<div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;        }</div>
<div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;        <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a>(ui32Endpoint) + <a class="code" href="hw__usb_8h.html#af953e2449fe4e26a4a805200be97b03c">USB_O_RXCSRH1</a>) =</div>
<div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;            ui32NewConfig;</div>
<div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;    }</div>
<div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;}</div>
<div class="ttc" id="hw__usb_8h_html_abd420b366edbcda207b59235e060eea6"><div class="ttname"><a href="hw__usb_8h.html#abd420b366edbcda207b59235e060eea6">USB_TXCSRH1_DMAMOD</a></div><div class="ttdeci">#define USB_TXCSRH1_DMAMOD</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01285">hw_usb.h:1285</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a765b6bd345468708035e8c6d4efd8a29"><div class="ttname"><a href="hw__usb_8h.html#a765b6bd345468708035e8c6d4efd8a29">USB_RXCSRH1_DMAMOD</a></div><div class="ttdeci">#define USB_RXCSRH1_DMAMOD</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01325">hw_usb.h:1325</a></div></div>
<div class="ttc" id="usb_8h_html_a259f82df7349fa5e07fb80726e5de017"><div class="ttname"><a href="usb_8h.html#a259f82df7349fa5e07fb80726e5de017">USB_EP_DMA_MODE_1</a></div><div class="ttdeci">#define USB_EP_DMA_MODE_1</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00230">usb.h:230</a></div></div>
<div class="ttc" id="hw__usb_8h_html_af953e2449fe4e26a4a805200be97b03c"><div class="ttname"><a href="hw__usb_8h.html#af953e2449fe4e26a4a805200be97b03c">USB_O_RXCSRH1</a></div><div class="ttdeci">#define USB_O_RXCSRH1</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00180">hw_usb.h:180</a></div></div>
<div class="ttc" id="hw__usb_8h_html_aa2d73dc23a25ea5d43b680cedfbf191e"><div class="ttname"><a href="hw__usb_8h.html#aa2d73dc23a25ea5d43b680cedfbf191e">USB_O_TXCSRH1</a></div><div class="ttdeci">#define USB_O_TXCSRH1</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00174">hw_usb.h:174</a></div></div>
<div class="ttc" id="usb_8h_html_a6fdc385936265c4f00b1582e9ea0a230"><div class="ttname"><a href="usb_8h.html#a6fdc385936265c4f00b1582e9ea0a230">USB_EP_AUTO_REQUEST</a></div><div class="ttdeci">#define USB_EP_AUTO_REQUEST</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00227">usb.h:227</a></div></div>
<div class="ttc" id="usb_8h_html_a16d74e6681181962aff08fac4ff7176b"><div class="ttname"><a href="usb_8h.html#a16d74e6681181962aff08fac4ff7176b">USB_EP_HOST_OUT</a></div><div class="ttdeci">#define USB_EP_HOST_OUT</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00243">usb.h:243</a></div></div>
<div class="ttc" id="hw__usb_8h_html_ace44928f33d51fdb2ea895982f810c9d"><div class="ttname"><a href="hw__usb_8h.html#ace44928f33d51fdb2ea895982f810c9d">USB_RXCSRH1_AUTORQ</a></div><div class="ttdeci">#define USB_RXCSRH1_AUTORQ</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01320">hw_usb.h:1320</a></div></div>
<div class="ttc" id="usb_8h_html_af83d520bf70b794bd74c9e2f8573e7ab"><div class="ttname"><a href="usb_8h.html#af83d520bf70b794bd74c9e2f8573e7ab">USB_EP_AUTO_SET</a></div><div class="ttdeci">#define USB_EP_AUTO_SET</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00226">usb.h:226</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a3f19fc8cbdc83cd742276b0787c0705f"><div class="ttname"><a href="hw__usb_8h.html#a3f19fc8cbdc83cd742276b0787c0705f">USB_RXCSRH1_AUTOCL</a></div><div class="ttdeci">#define USB_RXCSRH1_AUTOCL</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01319">hw_usb.h:1319</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a6a74dc0cf7f4010a9562834742a12569"><div class="ttname"><a href="hw__usb_8h.html#a6a74dc0cf7f4010a9562834742a12569">USB_TXCSRH1_AUTOSET</a></div><div class="ttdeci">#define USB_TXCSRH1_AUTOSET</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01280">hw_usb.h:1280</a></div></div>
<div class="ttc" id="usb_8h_html_ac6ffbe05755a887eff3bee31239d76ee"><div class="ttname"><a href="usb_8h.html#ac6ffbe05755a887eff3bee31239d76ee">USB_EP_AUTO_CLEAR</a></div><div class="ttdeci">#define USB_EP_AUTO_CLEAR</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00228">usb.h:228</a></div></div>
<div class="ttc" id="hw__types_8h_html_a084083ee12e5262f8e54bb56c15ac8c7"><div class="ttname"><a href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a></div><div class="ttdeci">#define HWREGB(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00052">hw_types.h:52</a></div></div>
<div class="ttc" id="group__usb__api_html_gaadf74b0caf840f0d3222cb1dc563684c"><div class="ttname"><a href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a></div><div class="ttdeci">#define EP_OFFSET(Endpoint)</div><div class="ttdef"><b>Definition:</b> <a href="usb_8c_source.html#l00082">usb.c:82</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gae14b016b39b362515fe7d55abd451566"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USBEndpointDMADisable </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Endpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Disable DMA on a specified endpoint.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address. </td></tr>
    <tr><td class="paramname">ui32Endpoint</td><td>is the endpoint to access. </td></tr>
    <tr><td class="paramname">ui32Flags</td><td>specifies which direction to disable.</td></tr>
  </table>
  </dd>
</dl>
<p>This function disables DMA on a specified endpoint to allow non-DMA USB transactions to generate interrupts normally. The <em>ui32Flags</em> parameter must be <b>USB_EP_DEV_IN</b> or <b>USB_EP_DEV_OUT</b>; all other bits are ignored.</p>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="usb_8c_source.html#l02687">2687</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="usb_8c_source.html#l00082">EP_OFFSET</a>, <a class="el" href="hw__types_8h_source.html#l00052">HWREGB</a>, <a class="el" href="usb_8h_source.html#l00244">USB_EP_DEV_IN</a>, <a class="el" href="hw__usb_8h_source.html#l00180">USB_O_RXCSRH1</a>, <a class="el" href="hw__usb_8h_source.html#l00174">USB_O_TXCSRH1</a>, <a class="el" href="hw__usb_8h_source.html#l01322">USB_RXCSRH1_DMAEN</a>, and <a class="el" href="hw__usb_8h_source.html#l01283">USB_TXCSRH1_DMAEN</a>.</p>
<div class="fragment"><div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;{</div>
<div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;    <span class="comment">// If this was a request to disable DMA on the IN portion of the endpoint</span></div>
<div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;    <span class="comment">// then handle it.</span></div>
<div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;    <span class="keywordflow">if</span>(ui32Flags &amp; <a class="code" href="usb_8h.html#a2881e9200f51ae03c0d643e2d6ffa169">USB_EP_DEV_IN</a>)</div>
<div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;    {</div>
<div class="line"><a name="l02696"></a><span class="lineno"> 2696</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02697"></a><span class="lineno"> 2697</span>&#160;        <span class="comment">// Just disable DMA leave the mode setting.</span></div>
<div class="line"><a name="l02698"></a><span class="lineno"> 2698</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;        <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a>(ui32Endpoint) + <a class="code" href="hw__usb_8h.html#aa2d73dc23a25ea5d43b680cedfbf191e">USB_O_TXCSRH1</a>) &amp;=</div>
<div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;            ~<a class="code" href="hw__usb_8h.html#a70a09d67fe2b11247e013449470a04d0">USB_TXCSRH1_DMAEN</a>;</div>
<div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;    }</div>
<div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;    {</div>
<div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;        <span class="comment">// Just disable DMA leave the mode setting.</span></div>
<div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;        <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a>(ui32Endpoint) + <a class="code" href="hw__usb_8h.html#af953e2449fe4e26a4a805200be97b03c">USB_O_RXCSRH1</a>) &amp;=</div>
<div class="line"><a name="l02708"></a><span class="lineno"> 2708</span>&#160;            ~<a class="code" href="hw__usb_8h.html#a77d6133e3e9658960e4bf88ea5e98219">USB_RXCSRH1_DMAEN</a>;</div>
<div class="line"><a name="l02709"></a><span class="lineno"> 2709</span>&#160;    }</div>
<div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;}</div>
<div class="ttc" id="hw__usb_8h_html_a77d6133e3e9658960e4bf88ea5e98219"><div class="ttname"><a href="hw__usb_8h.html#a77d6133e3e9658960e4bf88ea5e98219">USB_RXCSRH1_DMAEN</a></div><div class="ttdeci">#define USB_RXCSRH1_DMAEN</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01322">hw_usb.h:1322</a></div></div>
<div class="ttc" id="usb_8h_html_a2881e9200f51ae03c0d643e2d6ffa169"><div class="ttname"><a href="usb_8h.html#a2881e9200f51ae03c0d643e2d6ffa169">USB_EP_DEV_IN</a></div><div class="ttdeci">#define USB_EP_DEV_IN</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00244">usb.h:244</a></div></div>
<div class="ttc" id="hw__usb_8h_html_af953e2449fe4e26a4a805200be97b03c"><div class="ttname"><a href="hw__usb_8h.html#af953e2449fe4e26a4a805200be97b03c">USB_O_RXCSRH1</a></div><div class="ttdeci">#define USB_O_RXCSRH1</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00180">hw_usb.h:180</a></div></div>
<div class="ttc" id="hw__usb_8h_html_aa2d73dc23a25ea5d43b680cedfbf191e"><div class="ttname"><a href="hw__usb_8h.html#aa2d73dc23a25ea5d43b680cedfbf191e">USB_O_TXCSRH1</a></div><div class="ttdeci">#define USB_O_TXCSRH1</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00174">hw_usb.h:174</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a70a09d67fe2b11247e013449470a04d0"><div class="ttname"><a href="hw__usb_8h.html#a70a09d67fe2b11247e013449470a04d0">USB_TXCSRH1_DMAEN</a></div><div class="ttdeci">#define USB_TXCSRH1_DMAEN</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01283">hw_usb.h:1283</a></div></div>
<div class="ttc" id="hw__types_8h_html_a084083ee12e5262f8e54bb56c15ac8c7"><div class="ttname"><a href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a></div><div class="ttdeci">#define HWREGB(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00052">hw_types.h:52</a></div></div>
<div class="ttc" id="group__usb__api_html_gaadf74b0caf840f0d3222cb1dc563684c"><div class="ttname"><a href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a></div><div class="ttdeci">#define EP_OFFSET(Endpoint)</div><div class="ttdef"><b>Definition:</b> <a href="usb_8c_source.html#l00082">usb.c:82</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gad067c05a3f666bfb42400c8fef3c755b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USBEndpointDMAEnable </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Endpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enable DMA on a specified endpoint.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address. </td></tr>
    <tr><td class="paramname">ui32Endpoint</td><td>is the endpoint to access. </td></tr>
    <tr><td class="paramname">ui32Flags</td><td>specifies which direction and what mode to use when enabling DMA.</td></tr>
  </table>
  </dd>
</dl>
<p>This function enables DMA on a specified endpoint and configures the mode according to the values in the <em>ui32Flags</em> parameter. The <em>ui32Flags</em> parameter must have <b>USB_EP_DEV_IN</b> or <b>USB_EP_DEV_OUT</b> set. Once this function is called the only DMA or error interrupts are generated by the USB controller.</p>
<dl class="section note"><dt>Note</dt><dd>If this function is called when an endpoint is configured in DMA mode 0 the USB controller does not generate an interrupt.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="usb_8c_source.html#l02647">2647</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="usb_8c_source.html#l00082">EP_OFFSET</a>, <a class="el" href="hw__types_8h_source.html#l00052">HWREGB</a>, <a class="el" href="usb_8h_source.html#l00244">USB_EP_DEV_IN</a>, <a class="el" href="hw__usb_8h_source.html#l00180">USB_O_RXCSRH1</a>, <a class="el" href="hw__usb_8h_source.html#l00174">USB_O_TXCSRH1</a>, <a class="el" href="hw__usb_8h_source.html#l01322">USB_RXCSRH1_DMAEN</a>, and <a class="el" href="hw__usb_8h_source.html#l01283">USB_TXCSRH1_DMAEN</a>.</p>
<div class="fragment"><div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;{</div>
<div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;    <span class="comment">// See if the transmit DMA is being enabled.</span></div>
<div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;    <span class="keywordflow">if</span>(ui32Flags &amp; <a class="code" href="usb_8h.html#a2881e9200f51ae03c0d643e2d6ffa169">USB_EP_DEV_IN</a>)</div>
<div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;    {</div>
<div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;        <span class="comment">// Enable DMA on the transmit endpoint.</span></div>
<div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;        <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a>(ui32Endpoint) + <a class="code" href="hw__usb_8h.html#aa2d73dc23a25ea5d43b680cedfbf191e">USB_O_TXCSRH1</a>) |=</div>
<div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;            <a class="code" href="hw__usb_8h.html#a70a09d67fe2b11247e013449470a04d0">USB_TXCSRH1_DMAEN</a>;</div>
<div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;    }</div>
<div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;    {</div>
<div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;        <span class="comment">// Enable DMA on the receive endpoint.</span></div>
<div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;        <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a>(ui32Endpoint) + <a class="code" href="hw__usb_8h.html#af953e2449fe4e26a4a805200be97b03c">USB_O_RXCSRH1</a>) |=</div>
<div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;            <a class="code" href="hw__usb_8h.html#a77d6133e3e9658960e4bf88ea5e98219">USB_RXCSRH1_DMAEN</a>;</div>
<div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;    }</div>
<div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;}</div>
<div class="ttc" id="hw__usb_8h_html_a77d6133e3e9658960e4bf88ea5e98219"><div class="ttname"><a href="hw__usb_8h.html#a77d6133e3e9658960e4bf88ea5e98219">USB_RXCSRH1_DMAEN</a></div><div class="ttdeci">#define USB_RXCSRH1_DMAEN</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01322">hw_usb.h:1322</a></div></div>
<div class="ttc" id="usb_8h_html_a2881e9200f51ae03c0d643e2d6ffa169"><div class="ttname"><a href="usb_8h.html#a2881e9200f51ae03c0d643e2d6ffa169">USB_EP_DEV_IN</a></div><div class="ttdeci">#define USB_EP_DEV_IN</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00244">usb.h:244</a></div></div>
<div class="ttc" id="hw__usb_8h_html_af953e2449fe4e26a4a805200be97b03c"><div class="ttname"><a href="hw__usb_8h.html#af953e2449fe4e26a4a805200be97b03c">USB_O_RXCSRH1</a></div><div class="ttdeci">#define USB_O_RXCSRH1</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00180">hw_usb.h:180</a></div></div>
<div class="ttc" id="hw__usb_8h_html_aa2d73dc23a25ea5d43b680cedfbf191e"><div class="ttname"><a href="hw__usb_8h.html#aa2d73dc23a25ea5d43b680cedfbf191e">USB_O_TXCSRH1</a></div><div class="ttdeci">#define USB_O_TXCSRH1</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00174">hw_usb.h:174</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a70a09d67fe2b11247e013449470a04d0"><div class="ttname"><a href="hw__usb_8h.html#a70a09d67fe2b11247e013449470a04d0">USB_TXCSRH1_DMAEN</a></div><div class="ttdeci">#define USB_TXCSRH1_DMAEN</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01283">hw_usb.h:1283</a></div></div>
<div class="ttc" id="hw__types_8h_html_a084083ee12e5262f8e54bb56c15ac8c7"><div class="ttname"><a href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a></div><div class="ttdeci">#define HWREGB(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00052">hw_types.h:52</a></div></div>
<div class="ttc" id="group__usb__api_html_gaadf74b0caf840f0d3222cb1dc563684c"><div class="ttname"><a href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a></div><div class="ttdeci">#define EP_OFFSET(Endpoint)</div><div class="ttdef"><b>Definition:</b> <a href="usb_8c_source.html#l00082">usb.c:82</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gaf9b6a832b2d6b92b57b82410067f7c9c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USBEndpointPacketCountSet </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Endpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the number of packets to request when transferring multiple bulk packets.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address. </td></tr>
    <tr><td class="paramname">ui32Endpoint</td><td>is the endpoint index to target for this write. </td></tr>
    <tr><td class="paramname">ui32Count</td><td>is the number of packets to request.</td></tr>
  </table>
  </dd>
</dl>
<p>This function sets the number of consecutive bulk packets to request when transferring multiple bulk packets with DMA.</p>
<dl class="section note"><dt>Note</dt><dd>This feature is not available on all Tiva devices. Please check the data sheet to determine if the USB controller has a DMA controller or if it must use the uDMA controller for DMA transfers.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="usb_8c_source.html#l04192">4192</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="hw__types_8h_source.html#l00048">HWREG</a>, <a class="el" href="hw__usb_8h_source.html#l00349">USB_O_RQPKTCOUNT1</a>, and <a class="el" href="usb_8h_source.html#l00364">USBEPToIndex</a>.</p>
<div class="fragment"><div class="line"><a name="l04194"></a><span class="lineno"> 4194</span>&#160;{</div>
<div class="line"><a name="l04195"></a><span class="lineno"> 4195</span>&#160;    <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a1c68374ef3668fd18095e421b47a7990">USB_O_RQPKTCOUNT1</a> +</div>
<div class="line"><a name="l04196"></a><span class="lineno"> 4196</span>&#160;          (0x4 * (<a class="code" href="usb_8h.html#a0b593946928f1a9c4c75ac78ee6d6f89">USBEPToIndex</a>(ui32Endpoint) - 1))) = ui32Count;</div>
<div class="line"><a name="l04197"></a><span class="lineno"> 4197</span>&#160;}</div>
<div class="ttc" id="hw__types_8h_html_ac9660181819fceac0b5abcd67d76ca6e"><div class="ttname"><a href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a></div><div class="ttdeci">#define HWREG(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00048">hw_types.h:48</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a1c68374ef3668fd18095e421b47a7990"><div class="ttname"><a href="hw__usb_8h.html#a1c68374ef3668fd18095e421b47a7990">USB_O_RQPKTCOUNT1</a></div><div class="ttdeci">#define USB_O_RQPKTCOUNT1</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00349">hw_usb.h:349</a></div></div>
<div class="ttc" id="usb_8h_html_a0b593946928f1a9c4c75ac78ee6d6f89"><div class="ttname"><a href="usb_8h.html#a0b593946928f1a9c4c75ac78ee6d6f89">USBEPToIndex</a></div><div class="ttdeci">#define USBEPToIndex(x)</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00364">usb.h:364</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga2320e3a284b3b809d6dab77def7dfe49"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t USBEndpointStatus </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Endpoint</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the current status of an endpoint.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address. </td></tr>
    <tr><td class="paramname">ui32Endpoint</td><td>is the endpoint to access.</td></tr>
  </table>
  </dd>
</dl>
<p>This function returns the status of a specified endpoint. If any of these status bits must be cleared, then the <a class="el" href="group__usb__api.html#ga86b9ed2def63c841765968898d6e19e8">USBDevEndpointStatusClear()</a> or the <a class="el" href="group__usb__api.html#gaa6c7268ab8985502d6db54c2773614e3">USBHostEndpointStatusClear()</a> functions must be called.</p>
<p>The following are the status flags for host mode:</p>
<ul>
<li><b>USB_HOST_IN_PID_ERROR</b> - PID error on the specified endpoint.</li>
<li><b>USB_HOST_IN_NOT_COMP</b> - The device failed to respond to an IN request.</li>
<li><b>USB_HOST_IN_STALL</b> - A stall was received on an IN endpoint.</li>
<li><b>USB_HOST_IN_DATA_ERROR</b> - There was a CRC or bit-stuff error on an IN endpoint in Isochronous mode.</li>
<li><b>USB_HOST_IN_NAK_TO</b> - NAKs received on this IN endpoint for more than the specified timeout period.</li>
<li><b>USB_HOST_IN_ERROR</b> - Failed to communicate with a device using this IN endpoint.</li>
<li><b>USB_HOST_IN_FIFO_FULL</b> - This IN endpoint's FIFO is full.</li>
<li><b>USB_HOST_IN_PKTRDY</b> - Data packet ready on this IN endpoint.</li>
<li><b>USB_HOST_OUT_NAK_TO</b> - NAKs received on this OUT endpoint for more than the specified timeout period.</li>
<li><b>USB_HOST_OUT_NOT_COMP</b> - The device failed to respond to an OUT request.</li>
<li><b>USB_HOST_OUT_STALL</b> - A stall was received on this OUT endpoint.</li>
<li><b>USB_HOST_OUT_ERROR</b> - Failed to communicate with a device using this OUT endpoint.</li>
<li><b>USB_HOST_OUT_FIFO_NE</b> - This endpoint's OUT FIFO is not empty.</li>
<li><b>USB_HOST_OUT_PKTPEND</b> - The data transfer on this OUT endpoint has not completed.</li>
<li><b>USB_HOST_EP0_NAK_TO</b> - NAKs received on endpoint zero for more than the specified timeout period.</li>
<li><b>USB_HOST_EP0_ERROR</b> - The device failed to respond to a request on endpoint zero.</li>
<li><b>USB_HOST_EP0_IN_STALL</b> - A stall was received on endpoint zero for an IN transaction.</li>
<li><b>USB_HOST_EP0_IN_PKTRDY</b> - Data packet ready on endpoint zero for an IN transaction.</li>
</ul>
<p>The following are the status flags for device mode:</p>
<ul>
<li><b>USB_DEV_OUT_SENT_STALL</b> - A stall was sent on this OUT endpoint.</li>
<li><b>USB_DEV_OUT_DATA_ERROR</b> - There was a CRC or bit-stuff error on an OUT endpoint.</li>
<li><b>USB_DEV_OUT_OVERRUN</b> - An OUT packet was not loaded due to a full FIFO.</li>
<li><b>USB_DEV_OUT_FIFO_FULL</b> - The OUT endpoint's FIFO is full.</li>
<li><b>USB_DEV_OUT_PKTRDY</b> - There is a data packet ready in the OUT endpoint's FIFO.</li>
<li><b>USB_DEV_IN_NOT_COMP</b> - A larger packet was split up, more data to come.</li>
<li><b>USB_DEV_IN_SENT_STALL</b> - A stall was sent on this IN endpoint.</li>
<li><b>USB_DEV_IN_UNDERRUN</b> - Data was requested on the IN endpoint and no data was ready.</li>
<li><b>USB_DEV_IN_FIFO_NE</b> - The IN endpoint's FIFO is not empty.</li>
<li><b>USB_DEV_IN_PKTPEND</b> - The data transfer on this IN endpoint has not completed.</li>
<li><b>USB_DEV_EP0_SETUP_END</b> - A control transaction ended before Data End condition was sent.</li>
<li><b>USB_DEV_EP0_SENT_STALL</b> - A stall was sent on endpoint zero.</li>
<li><b>USB_DEV_EP0_IN_PKTPEND</b> - The data transfer on endpoint zero has not completed.</li>
<li><b>USB_DEV_EP0_OUT_PKTRDY</b> - There is a data packet ready in endpoint zero's OUT FIFO.</li>
</ul>
<dl class="section return"><dt>Returns</dt><dd>The current status flags for the endpoint depending on mode. </dd></dl>

<p>Definition at line <a class="el" href="usb_8c_source.html#l00994">994</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="usb_8c_source.html#l00082">EP_OFFSET</a>, <a class="el" href="hw__types_8h_source.html#l00050">HWREGH</a>, <a class="el" href="hw__memmap_8h_source.html#l00099">USB0_BASE</a>, <a class="el" href="usb_8h_source.html#l00347">USB_EP_0</a>, <a class="el" href="usb_8h_source.html#l00348">USB_EP_1</a>, <a class="el" href="usb_8h_source.html#l00349">USB_EP_2</a>, <a class="el" href="usb_8h_source.html#l00350">USB_EP_3</a>, <a class="el" href="usb_8h_source.html#l00351">USB_EP_4</a>, <a class="el" href="usb_8h_source.html#l00352">USB_EP_5</a>, <a class="el" href="usb_8h_source.html#l00353">USB_EP_6</a>, <a class="el" href="usb_8h_source.html#l00354">USB_EP_7</a>, <a class="el" href="hw__usb_8h_source.html#l00178">USB_O_RXCSRL1</a>, <a class="el" href="hw__usb_8h_source.html#l00172">USB_O_TXCSRL1</a>, and <a class="el" href="usb_8c_source.html#l00074">USB_RX_EPSTATUS_SHIFT</a>.</p>
<div class="fragment"><div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;{</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;    uint32_t ui32Status;</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a>);</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32Endpoint == <a class="code" href="usb_8h.html#a17438a2055fa93adc8baabd84a697246">USB_EP_0</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a4e39f33c6467bddfb7d3e92a2ea5b789">USB_EP_1</a>) ||</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a13cce6caa2ecdaa333ae6a9fe5869e32">USB_EP_2</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#ab0f7986e9b00a278f0d9546e1d646440">USB_EP_3</a>) ||</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a8e177910552fb7eeb3c11ef9e35d7439">USB_EP_4</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a73892b0ca4c30f38c7fef4d7d6fd2caf">USB_EP_5</a>) ||</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a4a0a3d355ece777a24c1fcfc192a7ef7">USB_EP_6</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a78dcce1706922dc17a6baf4e8f37150d">USB_EP_7</a>));</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;    <span class="comment">// Get the TX portion of the endpoint status.</span></div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;    ui32Status = <a class="code" href="hw__types_8h.html#ac664ac49fa3d7c414f67572e522a74fb">HWREGH</a>(ui32Base + <a class="code" href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a>(ui32Endpoint) + <a class="code" href="hw__usb_8h.html#a66b5ac3ba5d076b8fd632c377db5c09e">USB_O_TXCSRL1</a>);</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;    <span class="comment">// Get the RX portion of the endpoint status.</span></div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;    ui32Status |=</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;        ((<a class="code" href="hw__types_8h.html#ac664ac49fa3d7c414f67572e522a74fb">HWREGH</a>(ui32Base + <a class="code" href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a>(ui32Endpoint) + <a class="code" href="hw__usb_8h.html#a57bc94dcb14fdfc3f27d6320c7de3a86">USB_O_RXCSRL1</a>)) &lt;&lt;</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;         <a class="code" href="group__usb__api.html#ga20ceb718c0b5bea3d8b0a8d89919160c">USB_RX_EPSTATUS_SHIFT</a>);</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    <span class="comment">// Return the endpoint status.</span></div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;    <span class="keywordflow">return</span>(ui32Status);</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;}</div>
<div class="ttc" id="group__usb__api_html_ga20ceb718c0b5bea3d8b0a8d89919160c"><div class="ttname"><a href="group__usb__api.html#ga20ceb718c0b5bea3d8b0a8d89919160c">USB_RX_EPSTATUS_SHIFT</a></div><div class="ttdeci">#define USB_RX_EPSTATUS_SHIFT</div><div class="ttdef"><b>Definition:</b> <a href="usb_8c_source.html#l00074">usb.c:74</a></div></div>
<div class="ttc" id="usb_8h_html_a8e177910552fb7eeb3c11ef9e35d7439"><div class="ttname"><a href="usb_8h.html#a8e177910552fb7eeb3c11ef9e35d7439">USB_EP_4</a></div><div class="ttdeci">#define USB_EP_4</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00351">usb.h:351</a></div></div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a57bc94dcb14fdfc3f27d6320c7de3a86"><div class="ttname"><a href="hw__usb_8h.html#a57bc94dcb14fdfc3f27d6320c7de3a86">USB_O_RXCSRL1</a></div><div class="ttdeci">#define USB_O_RXCSRL1</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00178">hw_usb.h:178</a></div></div>
<div class="ttc" id="usb_8h_html_a73892b0ca4c30f38c7fef4d7d6fd2caf"><div class="ttname"><a href="usb_8h.html#a73892b0ca4c30f38c7fef4d7d6fd2caf">USB_EP_5</a></div><div class="ttdeci">#define USB_EP_5</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00352">usb.h:352</a></div></div>
<div class="ttc" id="hw__types_8h_html_ac664ac49fa3d7c414f67572e522a74fb"><div class="ttname"><a href="hw__types_8h.html#ac664ac49fa3d7c414f67572e522a74fb">HWREGH</a></div><div class="ttdeci">#define HWREGH(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00050">hw_types.h:50</a></div></div>
<div class="ttc" id="usb_8h_html_a4a0a3d355ece777a24c1fcfc192a7ef7"><div class="ttname"><a href="usb_8h.html#a4a0a3d355ece777a24c1fcfc192a7ef7">USB_EP_6</a></div><div class="ttdeci">#define USB_EP_6</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00353">usb.h:353</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a66b5ac3ba5d076b8fd632c377db5c09e"><div class="ttname"><a href="hw__usb_8h.html#a66b5ac3ba5d076b8fd632c377db5c09e">USB_O_TXCSRL1</a></div><div class="ttdeci">#define USB_O_TXCSRL1</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00172">hw_usb.h:172</a></div></div>
<div class="ttc" id="usb_8h_html_ab0f7986e9b00a278f0d9546e1d646440"><div class="ttname"><a href="usb_8h.html#ab0f7986e9b00a278f0d9546e1d646440">USB_EP_3</a></div><div class="ttdeci">#define USB_EP_3</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00350">usb.h:350</a></div></div>
<div class="ttc" id="usb_8h_html_a17438a2055fa93adc8baabd84a697246"><div class="ttname"><a href="usb_8h.html#a17438a2055fa93adc8baabd84a697246">USB_EP_0</a></div><div class="ttdeci">#define USB_EP_0</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00347">usb.h:347</a></div></div>
<div class="ttc" id="usb_8h_html_a13cce6caa2ecdaa333ae6a9fe5869e32"><div class="ttname"><a href="usb_8h.html#a13cce6caa2ecdaa333ae6a9fe5869e32">USB_EP_2</a></div><div class="ttdeci">#define USB_EP_2</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00349">usb.h:349</a></div></div>
<div class="ttc" id="usb_8h_html_a4e39f33c6467bddfb7d3e92a2ea5b789"><div class="ttname"><a href="usb_8h.html#a4e39f33c6467bddfb7d3e92a2ea5b789">USB_EP_1</a></div><div class="ttdeci">#define USB_EP_1</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00348">usb.h:348</a></div></div>
<div class="ttc" id="group__usb__api_html_gaadf74b0caf840f0d3222cb1dc563684c"><div class="ttname"><a href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a></div><div class="ttdeci">#define EP_OFFSET(Endpoint)</div><div class="ttdef"><b>Definition:</b> <a href="usb_8c_source.html#l00082">usb.c:82</a></div></div>
<div class="ttc" id="hw__memmap_8h_html_aa47acf4992407a85e79d911ca1055d17"><div class="ttname"><a href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a></div><div class="ttdeci">#define USB0_BASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__memmap_8h_source.html#l00099">hw_memmap.h:99</a></div></div>
<div class="ttc" id="usb_8h_html_a78dcce1706922dc17a6baf4e8f37150d"><div class="ttname"><a href="usb_8h.html#a78dcce1706922dc17a6baf4e8f37150d">USB_EP_7</a></div><div class="ttdeci">#define USB_EP_7</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00354">usb.h:354</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga944d0d00849b464a25e5ebdf567770ba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t USBFIFOAddrGet </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Endpoint</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the absolute FIFO address for a specified endpoint.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address. </td></tr>
    <tr><td class="paramname">ui32Endpoint</td><td>specifies which endpoint's FIFO address to return.</td></tr>
  </table>
  </dd>
</dl>
<p>This function returns the actual physical address of the FIFO. This address is needed when the USB is going to be used with the uDMA controller and the source or destination address must be set to the physical FIFO address for a specified endpoint. This function can also be used to provide the physical address to manually read data from an endpoints FIFO.</p>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="usb_8c_source.html#l03843">3843</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="hw__usb_8h_source.html#l00059">USB_O_FIFO0</a>.</p>
<div class="fragment"><div class="line"><a name="l03844"></a><span class="lineno"> 3844</span>&#160;{</div>
<div class="line"><a name="l03845"></a><span class="lineno"> 3845</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03846"></a><span class="lineno"> 3846</span>&#160;    <span class="comment">// Return the FIFO address for this endpoint.</span></div>
<div class="line"><a name="l03847"></a><span class="lineno"> 3847</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03848"></a><span class="lineno"> 3848</span>&#160;    <span class="keywordflow">return</span>(ui32Base + <a class="code" href="hw__usb_8h.html#a2563224a44d17c5767b29eea6f47414a">USB_O_FIFO0</a> + (ui32Endpoint &gt;&gt; 2));</div>
<div class="line"><a name="l03849"></a><span class="lineno"> 3849</span>&#160;}</div>
<div class="ttc" id="hw__usb_8h_html_a2563224a44d17c5767b29eea6f47414a"><div class="ttname"><a href="hw__usb_8h.html#a2563224a44d17c5767b29eea6f47414a">USB_O_FIFO0</a></div><div class="ttdeci">#define USB_O_FIFO0</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00059">hw_usb.h:59</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gafe99418aac4282546bca96be57580ec1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USBFIFOConfigGet </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Endpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>pui32FIFOAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t *&#160;</td>
          <td class="paramname"><em>pui32FIFOSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the FIFO configuration for an endpoint.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address. </td></tr>
    <tr><td class="paramname">ui32Endpoint</td><td>is the endpoint to access. </td></tr>
    <tr><td class="paramname">pui32FIFOAddress</td><td>is the starting address for the FIFO. </td></tr>
    <tr><td class="paramname">pui32FIFOSize</td><td>is the size of the FIFO as specified by one of the <b>USB_FIFO_SZ_</b> values. </td></tr>
    <tr><td class="paramname">ui32Flags</td><td>specifies what information to retrieve from the FIFO configuration.</td></tr>
  </table>
  </dd>
</dl>
<p>This function returns the starting address and size of the FIFO for a specified endpoint. Endpoint zero does not have a dynamically configurable FIFO, so this function must not be called for endpoint zero. The <em>ui32Flags</em> parameter specifies whether the endpoint's OUT or IN FIFO must be read. If in host mode, the <em>ui32Flags</em> parameter must be <b>USB_EP_HOST_OUT</b> or <b>USB_EP_HOST_IN</b>, and if in device mode, the <em>ui32Flags</em> parameter must be either <b>USB_EP_DEV_OUT</b> or <b>USB_EP_DEV_IN</b>.</p>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="usb_8c_source.html#l02456">2456</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="usb_8c_source.html#l00164">_USBIndexRead()</a>, <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="hw__memmap_8h_source.html#l00099">USB0_BASE</a>, <a class="el" href="usb_8h_source.html#l00348">USB_EP_1</a>, <a class="el" href="usb_8h_source.html#l00349">USB_EP_2</a>, <a class="el" href="usb_8h_source.html#l00350">USB_EP_3</a>, <a class="el" href="usb_8h_source.html#l00351">USB_EP_4</a>, <a class="el" href="usb_8h_source.html#l00352">USB_EP_5</a>, <a class="el" href="usb_8h_source.html#l00353">USB_EP_6</a>, <a class="el" href="usb_8h_source.html#l00354">USB_EP_7</a>, <a class="el" href="usb_8h_source.html#l00244">USB_EP_DEV_IN</a>, <a class="el" href="usb_8h_source.html#l00243">USB_EP_HOST_OUT</a>, <a class="el" href="hw__usb_8h_source.html#l00072">USB_O_RXFIFOADD</a>, <a class="el" href="hw__usb_8h_source.html#l00070">USB_O_RXFIFOSZ</a>, <a class="el" href="hw__usb_8h_source.html#l00071">USB_O_TXFIFOADD</a>, and <a class="el" href="hw__usb_8h_source.html#l00069">USB_O_TXFIFOSZ</a>.</p>
<div class="fragment"><div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;{</div>
<div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a>);</div>
<div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32Endpoint == <a class="code" href="usb_8h.html#a4e39f33c6467bddfb7d3e92a2ea5b789">USB_EP_1</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a13cce6caa2ecdaa333ae6a9fe5869e32">USB_EP_2</a>) ||</div>
<div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#ab0f7986e9b00a278f0d9546e1d646440">USB_EP_3</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a8e177910552fb7eeb3c11ef9e35d7439">USB_EP_4</a>) ||</div>
<div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a73892b0ca4c30f38c7fef4d7d6fd2caf">USB_EP_5</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a4a0a3d355ece777a24c1fcfc192a7ef7">USB_EP_6</a>) ||</div>
<div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a78dcce1706922dc17a6baf4e8f37150d">USB_EP_7</a>));</div>
<div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;</div>
<div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;    <span class="comment">// See if the transmit or receive FIFO is being configured.</span></div>
<div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;    <span class="keywordflow">if</span>(ui32Flags &amp; (<a class="code" href="usb_8h.html#a16d74e6681181962aff08fac4ff7176b">USB_EP_HOST_OUT</a> | <a class="code" href="usb_8h.html#a2881e9200f51ae03c0d643e2d6ffa169">USB_EP_DEV_IN</a>))</div>
<div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;    {</div>
<div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02475"></a><span class="lineno"> 2475</span>&#160;        <span class="comment">// Get the transmit FIFO location and size for this endpoint.</span></div>
<div class="line"><a name="l02476"></a><span class="lineno"> 2476</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;        *pui32FIFOAddress = (<a class="code" href="group__usb__api.html#gac3b3f5b56ebdcc078407fd787afcafae">_USBIndexRead</a>(ui32Base, ui32Endpoint &gt;&gt; 4,</div>
<div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;                                           (uint32_t)<a class="code" href="hw__usb_8h.html#afb2c865cee8b265a40a417574efd6a48">USB_O_TXFIFOADD</a>,</div>
<div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;                                           2)) &lt;&lt; 3;</div>
<div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;        *pui32FIFOSize = <a class="code" href="group__usb__api.html#gac3b3f5b56ebdcc078407fd787afcafae">_USBIndexRead</a>(ui32Base, ui32Endpoint &gt;&gt; 4,</div>
<div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;                                       (uint32_t)<a class="code" href="hw__usb_8h.html#a345060ad67afacef7f55cb55c88fe15d">USB_O_TXFIFOSZ</a>, 1);</div>
<div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;    }</div>
<div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;    {</div>
<div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;        <span class="comment">// Get the receive FIFO location and size for this endpoint.</span></div>
<div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;        *pui32FIFOAddress = (<a class="code" href="group__usb__api.html#gac3b3f5b56ebdcc078407fd787afcafae">_USBIndexRead</a>(ui32Base, ui32Endpoint &gt;&gt; 4,</div>
<div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;                                           (uint32_t)<a class="code" href="hw__usb_8h.html#a5317604651a6b46ad7e1e41ac5395af5">USB_O_RXFIFOADD</a>,</div>
<div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;                                           2)) &lt;&lt; 3;</div>
<div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;        *pui32FIFOSize = <a class="code" href="group__usb__api.html#gac3b3f5b56ebdcc078407fd787afcafae">_USBIndexRead</a>(ui32Base, ui32Endpoint &gt;&gt; 4,</div>
<div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;                                       (uint32_t)<a class="code" href="hw__usb_8h.html#a4bcd804209bea8adc4660e0465e0e1bb">USB_O_RXFIFOSZ</a>, 1);</div>
<div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;    }</div>
<div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;}</div>
<div class="ttc" id="hw__usb_8h_html_a5317604651a6b46ad7e1e41ac5395af5"><div class="ttname"><a href="hw__usb_8h.html#a5317604651a6b46ad7e1e41ac5395af5">USB_O_RXFIFOADD</a></div><div class="ttdeci">#define USB_O_RXFIFOADD</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00072">hw_usb.h:72</a></div></div>
<div class="ttc" id="group__usb__api_html_gac3b3f5b56ebdcc078407fd787afcafae"><div class="ttname"><a href="group__usb__api.html#gac3b3f5b56ebdcc078407fd787afcafae">_USBIndexRead</a></div><div class="ttdeci">static uint32_t _USBIndexRead(uint32_t ui32Base, uint32_t ui32Endpoint, uint32_t ui32IndexedReg, uint32_t ui32Size)</div><div class="ttdef"><b>Definition:</b> <a href="usb_8c_source.html#l00164">usb.c:164</a></div></div>
<div class="ttc" id="usb_8h_html_a2881e9200f51ae03c0d643e2d6ffa169"><div class="ttname"><a href="usb_8h.html#a2881e9200f51ae03c0d643e2d6ffa169">USB_EP_DEV_IN</a></div><div class="ttdeci">#define USB_EP_DEV_IN</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00244">usb.h:244</a></div></div>
<div class="ttc" id="usb_8h_html_a8e177910552fb7eeb3c11ef9e35d7439"><div class="ttname"><a href="usb_8h.html#a8e177910552fb7eeb3c11ef9e35d7439">USB_EP_4</a></div><div class="ttdeci">#define USB_EP_4</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00351">usb.h:351</a></div></div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="hw__usb_8h_html_afb2c865cee8b265a40a417574efd6a48"><div class="ttname"><a href="hw__usb_8h.html#afb2c865cee8b265a40a417574efd6a48">USB_O_TXFIFOADD</a></div><div class="ttdeci">#define USB_O_TXFIFOADD</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00071">hw_usb.h:71</a></div></div>
<div class="ttc" id="usb_8h_html_a73892b0ca4c30f38c7fef4d7d6fd2caf"><div class="ttname"><a href="usb_8h.html#a73892b0ca4c30f38c7fef4d7d6fd2caf">USB_EP_5</a></div><div class="ttdeci">#define USB_EP_5</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00352">usb.h:352</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a4bcd804209bea8adc4660e0465e0e1bb"><div class="ttname"><a href="hw__usb_8h.html#a4bcd804209bea8adc4660e0465e0e1bb">USB_O_RXFIFOSZ</a></div><div class="ttdeci">#define USB_O_RXFIFOSZ</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00070">hw_usb.h:70</a></div></div>
<div class="ttc" id="usb_8h_html_a16d74e6681181962aff08fac4ff7176b"><div class="ttname"><a href="usb_8h.html#a16d74e6681181962aff08fac4ff7176b">USB_EP_HOST_OUT</a></div><div class="ttdeci">#define USB_EP_HOST_OUT</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00243">usb.h:243</a></div></div>
<div class="ttc" id="usb_8h_html_a4a0a3d355ece777a24c1fcfc192a7ef7"><div class="ttname"><a href="usb_8h.html#a4a0a3d355ece777a24c1fcfc192a7ef7">USB_EP_6</a></div><div class="ttdeci">#define USB_EP_6</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00353">usb.h:353</a></div></div>
<div class="ttc" id="usb_8h_html_ab0f7986e9b00a278f0d9546e1d646440"><div class="ttname"><a href="usb_8h.html#ab0f7986e9b00a278f0d9546e1d646440">USB_EP_3</a></div><div class="ttdeci">#define USB_EP_3</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00350">usb.h:350</a></div></div>
<div class="ttc" id="usb_8h_html_a13cce6caa2ecdaa333ae6a9fe5869e32"><div class="ttname"><a href="usb_8h.html#a13cce6caa2ecdaa333ae6a9fe5869e32">USB_EP_2</a></div><div class="ttdeci">#define USB_EP_2</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00349">usb.h:349</a></div></div>
<div class="ttc" id="usb_8h_html_a4e39f33c6467bddfb7d3e92a2ea5b789"><div class="ttname"><a href="usb_8h.html#a4e39f33c6467bddfb7d3e92a2ea5b789">USB_EP_1</a></div><div class="ttdeci">#define USB_EP_1</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00348">usb.h:348</a></div></div>
<div class="ttc" id="hw__memmap_8h_html_aa47acf4992407a85e79d911ca1055d17"><div class="ttname"><a href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a></div><div class="ttdeci">#define USB0_BASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__memmap_8h_source.html#l00099">hw_memmap.h:99</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a345060ad67afacef7f55cb55c88fe15d"><div class="ttname"><a href="hw__usb_8h.html#a345060ad67afacef7f55cb55c88fe15d">USB_O_TXFIFOSZ</a></div><div class="ttdeci">#define USB_O_TXFIFOSZ</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00069">hw_usb.h:69</a></div></div>
<div class="ttc" id="usb_8h_html_a78dcce1706922dc17a6baf4e8f37150d"><div class="ttname"><a href="usb_8h.html#a78dcce1706922dc17a6baf4e8f37150d">USB_EP_7</a></div><div class="ttdeci">#define USB_EP_7</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00354">usb.h:354</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__usb__api_gafe99418aac4282546bca96be57580ec1_cgraph.png" border="0" usemap="#group__usb__api_gafe99418aac4282546bca96be57580ec1_cgraph" alt=""/></div>
<map name="group__usb__api_gafe99418aac4282546bca96be57580ec1_cgraph" id="group__usb__api_gafe99418aac4282546bca96be57580ec1_cgraph">
<area shape="rect" id="node2" href="group__usb__api.html#gac3b3f5b56ebdcc078407fd787afcafae" title="_USBIndexRead" alt="" coords="193,5,316,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga8177751d5f16390d8d6c5f10df790114"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USBFIFOConfigSet </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Endpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32FIFOAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32FIFOSize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the FIFO configuration for an endpoint.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address. </td></tr>
    <tr><td class="paramname">ui32Endpoint</td><td>is the endpoint to access. </td></tr>
    <tr><td class="paramname">ui32FIFOAddress</td><td>is the starting address for the FIFO. </td></tr>
    <tr><td class="paramname">ui32FIFOSize</td><td>is the size of the FIFO specified by one of the <b>USB_FIFO_SZ_</b> values. </td></tr>
    <tr><td class="paramname">ui32Flags</td><td>specifies what information to set in the FIFO configuration.</td></tr>
  </table>
  </dd>
</dl>
<p>This function configures the starting FIFO RAM address and size of the FIFO for a specified endpoint. Endpoint zero does not have a dynamically configurable FIFO, so this function must not be called for endpoint zero. The <em>ui32FIFOSize</em> parameter must be one of the values in the <b>USB_FIFO_SZ_</b> values.</p>
<p>The <em>ui32FIFOAddress</em> value must be a multiple of 8 bytes and directly indicates the starting address in the USB controller's FIFO RAM. For example, a value of 64 indicates that the FIFO starts 64 bytes into the USB controller's FIFO memory. The <em>ui32Flags</em> value specifies whether the endpoint's OUT or IN FIFO must be configured. If in host mode, use <b>USB_EP_HOST_OUT</b> or <b>USB_EP_HOST_IN</b>, and if in device mode, use <b>USB_EP_DEV_OUT</b> or <b>USB_EP_DEV_IN</b>.</p>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="usb_8c_source.html#l02393">2393</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="usb_8c_source.html#l00101">_USBIndexWrite()</a>, <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="hw__memmap_8h_source.html#l00099">USB0_BASE</a>, <a class="el" href="usb_8h_source.html#l00348">USB_EP_1</a>, <a class="el" href="usb_8h_source.html#l00349">USB_EP_2</a>, <a class="el" href="usb_8h_source.html#l00350">USB_EP_3</a>, <a class="el" href="usb_8h_source.html#l00351">USB_EP_4</a>, <a class="el" href="usb_8h_source.html#l00352">USB_EP_5</a>, <a class="el" href="usb_8h_source.html#l00353">USB_EP_6</a>, <a class="el" href="usb_8h_source.html#l00354">USB_EP_7</a>, <a class="el" href="usb_8h_source.html#l00244">USB_EP_DEV_IN</a>, <a class="el" href="usb_8h_source.html#l00243">USB_EP_HOST_OUT</a>, <a class="el" href="hw__usb_8h_source.html#l00072">USB_O_RXFIFOADD</a>, <a class="el" href="hw__usb_8h_source.html#l00070">USB_O_RXFIFOSZ</a>, <a class="el" href="hw__usb_8h_source.html#l00071">USB_O_TXFIFOADD</a>, and <a class="el" href="hw__usb_8h_source.html#l00069">USB_O_TXFIFOSZ</a>.</p>
<div class="fragment"><div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;{</div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a>);</div>
<div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32Endpoint == <a class="code" href="usb_8h.html#a4e39f33c6467bddfb7d3e92a2ea5b789">USB_EP_1</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a13cce6caa2ecdaa333ae6a9fe5869e32">USB_EP_2</a>) ||</div>
<div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#ab0f7986e9b00a278f0d9546e1d646440">USB_EP_3</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a8e177910552fb7eeb3c11ef9e35d7439">USB_EP_4</a>) ||</div>
<div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a73892b0ca4c30f38c7fef4d7d6fd2caf">USB_EP_5</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a4a0a3d355ece777a24c1fcfc192a7ef7">USB_EP_6</a>) ||</div>
<div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a78dcce1706922dc17a6baf4e8f37150d">USB_EP_7</a>));</div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;</div>
<div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;    <span class="comment">// See if the transmit or receive FIFO is being configured.</span></div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;    <span class="keywordflow">if</span>(ui32Flags &amp; (<a class="code" href="usb_8h.html#a16d74e6681181962aff08fac4ff7176b">USB_EP_HOST_OUT</a> | <a class="code" href="usb_8h.html#a2881e9200f51ae03c0d643e2d6ffa169">USB_EP_DEV_IN</a>))</div>
<div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;    {</div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;        <span class="comment">// Set the transmit FIFO location and size for this endpoint.</span></div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;        <a class="code" href="group__usb__api.html#gad79a9385143d09823224d3715f63e412">_USBIndexWrite</a>(ui32Base, ui32Endpoint &gt;&gt; 4, <a class="code" href="hw__usb_8h.html#a345060ad67afacef7f55cb55c88fe15d">USB_O_TXFIFOSZ</a>,</div>
<div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;                       ui32FIFOSize, 1);</div>
<div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;        <a class="code" href="group__usb__api.html#gad79a9385143d09823224d3715f63e412">_USBIndexWrite</a>(ui32Base, ui32Endpoint &gt;&gt; 4, <a class="code" href="hw__usb_8h.html#afb2c865cee8b265a40a417574efd6a48">USB_O_TXFIFOADD</a>,</div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;                       ui32FIFOAddress &gt;&gt; 3, 2);</div>
<div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;    }</div>
<div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;    {</div>
<div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;        <span class="comment">// Set the receive FIFO location and size for this endpoint.</span></div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;        <a class="code" href="group__usb__api.html#gad79a9385143d09823224d3715f63e412">_USBIndexWrite</a>(ui32Base, ui32Endpoint &gt;&gt; 4, <a class="code" href="hw__usb_8h.html#a4bcd804209bea8adc4660e0465e0e1bb">USB_O_RXFIFOSZ</a>,</div>
<div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;                       ui32FIFOSize, 1);</div>
<div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;        <a class="code" href="group__usb__api.html#gad79a9385143d09823224d3715f63e412">_USBIndexWrite</a>(ui32Base, ui32Endpoint &gt;&gt; 4, <a class="code" href="hw__usb_8h.html#a5317604651a6b46ad7e1e41ac5395af5">USB_O_RXFIFOADD</a>,</div>
<div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;                       ui32FIFOAddress &gt;&gt; 3, 2);</div>
<div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;    }</div>
<div class="line"><a name="l02429"></a><span class="lineno"> 2429</span>&#160;}</div>
<div class="ttc" id="hw__usb_8h_html_a5317604651a6b46ad7e1e41ac5395af5"><div class="ttname"><a href="hw__usb_8h.html#a5317604651a6b46ad7e1e41ac5395af5">USB_O_RXFIFOADD</a></div><div class="ttdeci">#define USB_O_RXFIFOADD</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00072">hw_usb.h:72</a></div></div>
<div class="ttc" id="usb_8h_html_a2881e9200f51ae03c0d643e2d6ffa169"><div class="ttname"><a href="usb_8h.html#a2881e9200f51ae03c0d643e2d6ffa169">USB_EP_DEV_IN</a></div><div class="ttdeci">#define USB_EP_DEV_IN</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00244">usb.h:244</a></div></div>
<div class="ttc" id="group__usb__api_html_gad79a9385143d09823224d3715f63e412"><div class="ttname"><a href="group__usb__api.html#gad79a9385143d09823224d3715f63e412">_USBIndexWrite</a></div><div class="ttdeci">static void _USBIndexWrite(uint32_t ui32Base, uint32_t ui32Endpoint, uint32_t ui32IndexedReg, uint32_t ui32Value, uint32_t ui32Size)</div><div class="ttdef"><b>Definition:</b> <a href="usb_8c_source.html#l00101">usb.c:101</a></div></div>
<div class="ttc" id="usb_8h_html_a8e177910552fb7eeb3c11ef9e35d7439"><div class="ttname"><a href="usb_8h.html#a8e177910552fb7eeb3c11ef9e35d7439">USB_EP_4</a></div><div class="ttdeci">#define USB_EP_4</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00351">usb.h:351</a></div></div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="hw__usb_8h_html_afb2c865cee8b265a40a417574efd6a48"><div class="ttname"><a href="hw__usb_8h.html#afb2c865cee8b265a40a417574efd6a48">USB_O_TXFIFOADD</a></div><div class="ttdeci">#define USB_O_TXFIFOADD</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00071">hw_usb.h:71</a></div></div>
<div class="ttc" id="usb_8h_html_a73892b0ca4c30f38c7fef4d7d6fd2caf"><div class="ttname"><a href="usb_8h.html#a73892b0ca4c30f38c7fef4d7d6fd2caf">USB_EP_5</a></div><div class="ttdeci">#define USB_EP_5</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00352">usb.h:352</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a4bcd804209bea8adc4660e0465e0e1bb"><div class="ttname"><a href="hw__usb_8h.html#a4bcd804209bea8adc4660e0465e0e1bb">USB_O_RXFIFOSZ</a></div><div class="ttdeci">#define USB_O_RXFIFOSZ</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00070">hw_usb.h:70</a></div></div>
<div class="ttc" id="usb_8h_html_a16d74e6681181962aff08fac4ff7176b"><div class="ttname"><a href="usb_8h.html#a16d74e6681181962aff08fac4ff7176b">USB_EP_HOST_OUT</a></div><div class="ttdeci">#define USB_EP_HOST_OUT</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00243">usb.h:243</a></div></div>
<div class="ttc" id="usb_8h_html_a4a0a3d355ece777a24c1fcfc192a7ef7"><div class="ttname"><a href="usb_8h.html#a4a0a3d355ece777a24c1fcfc192a7ef7">USB_EP_6</a></div><div class="ttdeci">#define USB_EP_6</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00353">usb.h:353</a></div></div>
<div class="ttc" id="usb_8h_html_ab0f7986e9b00a278f0d9546e1d646440"><div class="ttname"><a href="usb_8h.html#ab0f7986e9b00a278f0d9546e1d646440">USB_EP_3</a></div><div class="ttdeci">#define USB_EP_3</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00350">usb.h:350</a></div></div>
<div class="ttc" id="usb_8h_html_a13cce6caa2ecdaa333ae6a9fe5869e32"><div class="ttname"><a href="usb_8h.html#a13cce6caa2ecdaa333ae6a9fe5869e32">USB_EP_2</a></div><div class="ttdeci">#define USB_EP_2</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00349">usb.h:349</a></div></div>
<div class="ttc" id="usb_8h_html_a4e39f33c6467bddfb7d3e92a2ea5b789"><div class="ttname"><a href="usb_8h.html#a4e39f33c6467bddfb7d3e92a2ea5b789">USB_EP_1</a></div><div class="ttdeci">#define USB_EP_1</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00348">usb.h:348</a></div></div>
<div class="ttc" id="hw__memmap_8h_html_aa47acf4992407a85e79d911ca1055d17"><div class="ttname"><a href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a></div><div class="ttdeci">#define USB0_BASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__memmap_8h_source.html#l00099">hw_memmap.h:99</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a345060ad67afacef7f55cb55c88fe15d"><div class="ttname"><a href="hw__usb_8h.html#a345060ad67afacef7f55cb55c88fe15d">USB_O_TXFIFOSZ</a></div><div class="ttdeci">#define USB_O_TXFIFOSZ</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00069">hw_usb.h:69</a></div></div>
<div class="ttc" id="usb_8h_html_a78dcce1706922dc17a6baf4e8f37150d"><div class="ttname"><a href="usb_8h.html#a78dcce1706922dc17a6baf4e8f37150d">USB_EP_7</a></div><div class="ttdeci">#define USB_EP_7</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00354">usb.h:354</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__usb__api_ga8177751d5f16390d8d6c5f10df790114_cgraph.png" border="0" usemap="#group__usb__api_ga8177751d5f16390d8d6c5f10df790114_cgraph" alt=""/></div>
<map name="group__usb__api_ga8177751d5f16390d8d6c5f10df790114_cgraph" id="group__usb__api_ga8177751d5f16390d8d6c5f10df790114_cgraph">
<area shape="rect" id="node2" href="group__usb__api.html#gad79a9385143d09823224d3715f63e412" title="_USBIndexWrite" alt="" coords="192,5,315,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaf777132a773a420b29d7a2cde975bc2e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USBFIFOFlush </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Endpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Forces a flush of an endpoint's FIFO.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address. </td></tr>
    <tr><td class="paramname">ui32Endpoint</td><td>is the endpoint to access. </td></tr>
    <tr><td class="paramname">ui32Flags</td><td>specifies if the IN or OUT endpoint is accessed.</td></tr>
  </table>
  </dd>
</dl>
<p>This function forces the USB controller to flush out the data in the FIFO. The function can be called with either host or device controllers and requires the <em>ui32Flags</em> parameter be one of <b>USB_EP_HOST_OUT</b>, <b>USB_EP_HOST_IN</b>, <b>USB_EP_DEV_OUT</b>, or <b>USB_EP_DEV_IN</b>.</p>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="usb_8c_source.html#l03144">3144</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="usb_8c_source.html#l00082">EP_OFFSET</a>, <a class="el" href="hw__types_8h_source.html#l00052">HWREGB</a>, <a class="el" href="hw__memmap_8h_source.html#l00099">USB0_BASE</a>, <a class="el" href="hw__usb_8h_source.html#l01223">USB_CSRH0_FLUSH</a>, <a class="el" href="hw__usb_8h_source.html#l01213">USB_CSRL0_RXRDY</a>, <a class="el" href="hw__usb_8h_source.html#l01212">USB_CSRL0_TXRDY</a>, <a class="el" href="usb_8h_source.html#l00347">USB_EP_0</a>, <a class="el" href="usb_8h_source.html#l00348">USB_EP_1</a>, <a class="el" href="usb_8h_source.html#l00349">USB_EP_2</a>, <a class="el" href="usb_8h_source.html#l00350">USB_EP_3</a>, <a class="el" href="usb_8h_source.html#l00351">USB_EP_4</a>, <a class="el" href="usb_8h_source.html#l00352">USB_EP_5</a>, <a class="el" href="usb_8h_source.html#l00353">USB_EP_6</a>, <a class="el" href="usb_8h_source.html#l00354">USB_EP_7</a>, <a class="el" href="usb_8h_source.html#l00244">USB_EP_DEV_IN</a>, <a class="el" href="usb_8h_source.html#l00243">USB_EP_HOST_OUT</a>, <a class="el" href="hw__usb_8h_source.html#l00164">USB_O_CSRH0</a>, <a class="el" href="hw__usb_8h_source.html#l00162">USB_O_CSRL0</a>, <a class="el" href="hw__usb_8h_source.html#l00178">USB_O_RXCSRL1</a>, <a class="el" href="hw__usb_8h_source.html#l00172">USB_O_TXCSRL1</a>, <a class="el" href="hw__usb_8h_source.html#l01306">USB_RXCSRL1_FLUSH</a>, <a class="el" href="hw__usb_8h_source.html#l01312">USB_RXCSRL1_RXRDY</a>, <a class="el" href="hw__usb_8h_source.html#l01269">USB_TXCSRL1_FLUSH</a>, and <a class="el" href="hw__usb_8h_source.html#l01273">USB_TXCSRL1_TXRDY</a>.</p>
<div class="fragment"><div class="line"><a name="l03145"></a><span class="lineno"> 3145</span>&#160;{</div>
<div class="line"><a name="l03146"></a><span class="lineno"> 3146</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03147"></a><span class="lineno"> 3147</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l03148"></a><span class="lineno"> 3148</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03149"></a><span class="lineno"> 3149</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a>);</div>
<div class="line"><a name="l03150"></a><span class="lineno"> 3150</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32Endpoint == <a class="code" href="usb_8h.html#a17438a2055fa93adc8baabd84a697246">USB_EP_0</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a4e39f33c6467bddfb7d3e92a2ea5b789">USB_EP_1</a>) ||</div>
<div class="line"><a name="l03151"></a><span class="lineno"> 3151</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a13cce6caa2ecdaa333ae6a9fe5869e32">USB_EP_2</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#ab0f7986e9b00a278f0d9546e1d646440">USB_EP_3</a>) ||</div>
<div class="line"><a name="l03152"></a><span class="lineno"> 3152</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a8e177910552fb7eeb3c11ef9e35d7439">USB_EP_4</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a73892b0ca4c30f38c7fef4d7d6fd2caf">USB_EP_5</a>) ||</div>
<div class="line"><a name="l03153"></a><span class="lineno"> 3153</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a4a0a3d355ece777a24c1fcfc192a7ef7">USB_EP_6</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a78dcce1706922dc17a6baf4e8f37150d">USB_EP_7</a>));</div>
<div class="line"><a name="l03154"></a><span class="lineno"> 3154</span>&#160;</div>
<div class="line"><a name="l03155"></a><span class="lineno"> 3155</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03156"></a><span class="lineno"> 3156</span>&#160;    <span class="comment">// Endpoint zero has a different register set for FIFO flushing.</span></div>
<div class="line"><a name="l03157"></a><span class="lineno"> 3157</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03158"></a><span class="lineno"> 3158</span>&#160;    <span class="keywordflow">if</span>(ui32Endpoint == <a class="code" href="usb_8h.html#a17438a2055fa93adc8baabd84a697246">USB_EP_0</a>)</div>
<div class="line"><a name="l03159"></a><span class="lineno"> 3159</span>&#160;    {</div>
<div class="line"><a name="l03160"></a><span class="lineno"> 3160</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l03161"></a><span class="lineno"> 3161</span>&#160;        <span class="comment">// Nothing in the FIFO if neither of these bits are set.</span></div>
<div class="line"><a name="l03162"></a><span class="lineno"> 3162</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l03163"></a><span class="lineno"> 3163</span>&#160;        <span class="keywordflow">if</span>((<a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a095977f9007e9e6af6f00eab8e1f64b1">USB_O_CSRL0</a>) &amp;</div>
<div class="line"><a name="l03164"></a><span class="lineno"> 3164</span>&#160;            (<a class="code" href="hw__usb_8h.html#aa46f20c660cc47f9b3d8f9feace51914">USB_CSRL0_RXRDY</a> | <a class="code" href="hw__usb_8h.html#a66cb7a914c02dce1716cb0b6669da104">USB_CSRL0_TXRDY</a>)) != 0)</div>
<div class="line"><a name="l03165"></a><span class="lineno"> 3165</span>&#160;        {</div>
<div class="line"><a name="l03166"></a><span class="lineno"> 3166</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l03167"></a><span class="lineno"> 3167</span>&#160;            <span class="comment">// Hit the Flush FIFO bit.</span></div>
<div class="line"><a name="l03168"></a><span class="lineno"> 3168</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l03169"></a><span class="lineno"> 3169</span>&#160;            <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a49559efd3060e084e68662a070eed5c2">USB_O_CSRH0</a>) = <a class="code" href="hw__usb_8h.html#ae6749e9d7f8d7b2afaa90cd3fa1e50ad">USB_CSRH0_FLUSH</a>;</div>
<div class="line"><a name="l03170"></a><span class="lineno"> 3170</span>&#160;        }</div>
<div class="line"><a name="l03171"></a><span class="lineno"> 3171</span>&#160;    }</div>
<div class="line"><a name="l03172"></a><span class="lineno"> 3172</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l03173"></a><span class="lineno"> 3173</span>&#160;    {</div>
<div class="line"><a name="l03174"></a><span class="lineno"> 3174</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l03175"></a><span class="lineno"> 3175</span>&#160;        <span class="comment">// Only reset the IN or OUT FIFO.</span></div>
<div class="line"><a name="l03176"></a><span class="lineno"> 3176</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l03177"></a><span class="lineno"> 3177</span>&#160;        <span class="keywordflow">if</span>(ui32Flags &amp; (<a class="code" href="usb_8h.html#a16d74e6681181962aff08fac4ff7176b">USB_EP_HOST_OUT</a> | <a class="code" href="usb_8h.html#a2881e9200f51ae03c0d643e2d6ffa169">USB_EP_DEV_IN</a>))</div>
<div class="line"><a name="l03178"></a><span class="lineno"> 3178</span>&#160;        {</div>
<div class="line"><a name="l03179"></a><span class="lineno"> 3179</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l03180"></a><span class="lineno"> 3180</span>&#160;            <span class="comment">// Make sure the FIFO is not empty.</span></div>
<div class="line"><a name="l03181"></a><span class="lineno"> 3181</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l03182"></a><span class="lineno"> 3182</span>&#160;            <span class="keywordflow">if</span>(<a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a66b5ac3ba5d076b8fd632c377db5c09e">USB_O_TXCSRL1</a> + <a class="code" href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a>(ui32Endpoint)) &amp;</div>
<div class="line"><a name="l03183"></a><span class="lineno"> 3183</span>&#160;               <a class="code" href="hw__usb_8h.html#a2dee22637008a182c7e810ea6ad2615c">USB_TXCSRL1_TXRDY</a>)</div>
<div class="line"><a name="l03184"></a><span class="lineno"> 3184</span>&#160;            {</div>
<div class="line"><a name="l03185"></a><span class="lineno"> 3185</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l03186"></a><span class="lineno"> 3186</span>&#160;                <span class="comment">// Hit the Flush FIFO bit.</span></div>
<div class="line"><a name="l03187"></a><span class="lineno"> 3187</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l03188"></a><span class="lineno"> 3188</span>&#160;                <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a66b5ac3ba5d076b8fd632c377db5c09e">USB_O_TXCSRL1</a> + <a class="code" href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a>(ui32Endpoint)) |=</div>
<div class="line"><a name="l03189"></a><span class="lineno"> 3189</span>&#160;                    <a class="code" href="hw__usb_8h.html#a3bfc1bfbaa15f17d9f658de533fd33e3">USB_TXCSRL1_FLUSH</a>;</div>
<div class="line"><a name="l03190"></a><span class="lineno"> 3190</span>&#160;            }</div>
<div class="line"><a name="l03191"></a><span class="lineno"> 3191</span>&#160;        }</div>
<div class="line"><a name="l03192"></a><span class="lineno"> 3192</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l03193"></a><span class="lineno"> 3193</span>&#160;        {</div>
<div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160;            <span class="comment">// Make sure that the FIFO is not empty.</span></div>
<div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160;            <span class="keywordflow">if</span>(<a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a57bc94dcb14fdfc3f27d6320c7de3a86">USB_O_RXCSRL1</a> + <a class="code" href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a>(ui32Endpoint)) &amp;</div>
<div class="line"><a name="l03198"></a><span class="lineno"> 3198</span>&#160;               <a class="code" href="hw__usb_8h.html#aacc88e8db2bd97c22301ac3544a0d3ce">USB_RXCSRL1_RXRDY</a>)</div>
<div class="line"><a name="l03199"></a><span class="lineno"> 3199</span>&#160;            {</div>
<div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160;                <span class="comment">// Hit the Flush FIFO bit.</span></div>
<div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l03203"></a><span class="lineno"> 3203</span>&#160;                <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a57bc94dcb14fdfc3f27d6320c7de3a86">USB_O_RXCSRL1</a> + <a class="code" href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a>(ui32Endpoint)) |=</div>
<div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160;                    <a class="code" href="hw__usb_8h.html#a1c358f9fcfc75cff2eebd913bc0d0400">USB_RXCSRL1_FLUSH</a>;</div>
<div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160;            }</div>
<div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;        }</div>
<div class="line"><a name="l03207"></a><span class="lineno"> 3207</span>&#160;    }</div>
<div class="line"><a name="l03208"></a><span class="lineno"> 3208</span>&#160;}</div>
<div class="ttc" id="usb_8h_html_a2881e9200f51ae03c0d643e2d6ffa169"><div class="ttname"><a href="usb_8h.html#a2881e9200f51ae03c0d643e2d6ffa169">USB_EP_DEV_IN</a></div><div class="ttdeci">#define USB_EP_DEV_IN</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00244">usb.h:244</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a49559efd3060e084e68662a070eed5c2"><div class="ttname"><a href="hw__usb_8h.html#a49559efd3060e084e68662a070eed5c2">USB_O_CSRH0</a></div><div class="ttdeci">#define USB_O_CSRH0</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00164">hw_usb.h:164</a></div></div>
<div class="ttc" id="usb_8h_html_a8e177910552fb7eeb3c11ef9e35d7439"><div class="ttname"><a href="usb_8h.html#a8e177910552fb7eeb3c11ef9e35d7439">USB_EP_4</a></div><div class="ttdeci">#define USB_EP_4</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00351">usb.h:351</a></div></div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="hw__usb_8h_html_aacc88e8db2bd97c22301ac3544a0d3ce"><div class="ttname"><a href="hw__usb_8h.html#aacc88e8db2bd97c22301ac3544a0d3ce">USB_RXCSRL1_RXRDY</a></div><div class="ttdeci">#define USB_RXCSRL1_RXRDY</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01312">hw_usb.h:1312</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a66cb7a914c02dce1716cb0b6669da104"><div class="ttname"><a href="hw__usb_8h.html#a66cb7a914c02dce1716cb0b6669da104">USB_CSRL0_TXRDY</a></div><div class="ttdeci">#define USB_CSRL0_TXRDY</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01212">hw_usb.h:1212</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a57bc94dcb14fdfc3f27d6320c7de3a86"><div class="ttname"><a href="hw__usb_8h.html#a57bc94dcb14fdfc3f27d6320c7de3a86">USB_O_RXCSRL1</a></div><div class="ttdeci">#define USB_O_RXCSRL1</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00178">hw_usb.h:178</a></div></div>
<div class="ttc" id="usb_8h_html_a73892b0ca4c30f38c7fef4d7d6fd2caf"><div class="ttname"><a href="usb_8h.html#a73892b0ca4c30f38c7fef4d7d6fd2caf">USB_EP_5</a></div><div class="ttdeci">#define USB_EP_5</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00352">usb.h:352</a></div></div>
<div class="ttc" id="usb_8h_html_a16d74e6681181962aff08fac4ff7176b"><div class="ttname"><a href="usb_8h.html#a16d74e6681181962aff08fac4ff7176b">USB_EP_HOST_OUT</a></div><div class="ttdeci">#define USB_EP_HOST_OUT</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00243">usb.h:243</a></div></div>
<div class="ttc" id="hw__usb_8h_html_ae6749e9d7f8d7b2afaa90cd3fa1e50ad"><div class="ttname"><a href="hw__usb_8h.html#ae6749e9d7f8d7b2afaa90cd3fa1e50ad">USB_CSRH0_FLUSH</a></div><div class="ttdeci">#define USB_CSRH0_FLUSH</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01223">hw_usb.h:1223</a></div></div>
<div class="ttc" id="usb_8h_html_a4a0a3d355ece777a24c1fcfc192a7ef7"><div class="ttname"><a href="usb_8h.html#a4a0a3d355ece777a24c1fcfc192a7ef7">USB_EP_6</a></div><div class="ttdeci">#define USB_EP_6</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00353">usb.h:353</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a66b5ac3ba5d076b8fd632c377db5c09e"><div class="ttname"><a href="hw__usb_8h.html#a66b5ac3ba5d076b8fd632c377db5c09e">USB_O_TXCSRL1</a></div><div class="ttdeci">#define USB_O_TXCSRL1</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00172">hw_usb.h:172</a></div></div>
<div class="ttc" id="usb_8h_html_ab0f7986e9b00a278f0d9546e1d646440"><div class="ttname"><a href="usb_8h.html#ab0f7986e9b00a278f0d9546e1d646440">USB_EP_3</a></div><div class="ttdeci">#define USB_EP_3</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00350">usb.h:350</a></div></div>
<div class="ttc" id="usb_8h_html_a17438a2055fa93adc8baabd84a697246"><div class="ttname"><a href="usb_8h.html#a17438a2055fa93adc8baabd84a697246">USB_EP_0</a></div><div class="ttdeci">#define USB_EP_0</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00347">usb.h:347</a></div></div>
<div class="ttc" id="usb_8h_html_a13cce6caa2ecdaa333ae6a9fe5869e32"><div class="ttname"><a href="usb_8h.html#a13cce6caa2ecdaa333ae6a9fe5869e32">USB_EP_2</a></div><div class="ttdeci">#define USB_EP_2</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00349">usb.h:349</a></div></div>
<div class="ttc" id="usb_8h_html_a4e39f33c6467bddfb7d3e92a2ea5b789"><div class="ttname"><a href="usb_8h.html#a4e39f33c6467bddfb7d3e92a2ea5b789">USB_EP_1</a></div><div class="ttdeci">#define USB_EP_1</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00348">usb.h:348</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a1c358f9fcfc75cff2eebd913bc0d0400"><div class="ttname"><a href="hw__usb_8h.html#a1c358f9fcfc75cff2eebd913bc0d0400">USB_RXCSRL1_FLUSH</a></div><div class="ttdeci">#define USB_RXCSRL1_FLUSH</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01306">hw_usb.h:1306</a></div></div>
<div class="ttc" id="hw__usb_8h_html_aa46f20c660cc47f9b3d8f9feace51914"><div class="ttname"><a href="hw__usb_8h.html#aa46f20c660cc47f9b3d8f9feace51914">USB_CSRL0_RXRDY</a></div><div class="ttdeci">#define USB_CSRL0_RXRDY</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01213">hw_usb.h:1213</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a3bfc1bfbaa15f17d9f658de533fd33e3"><div class="ttname"><a href="hw__usb_8h.html#a3bfc1bfbaa15f17d9f658de533fd33e3">USB_TXCSRL1_FLUSH</a></div><div class="ttdeci">#define USB_TXCSRL1_FLUSH</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01269">hw_usb.h:1269</a></div></div>
<div class="ttc" id="hw__types_8h_html_a084083ee12e5262f8e54bb56c15ac8c7"><div class="ttname"><a href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a></div><div class="ttdeci">#define HWREGB(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00052">hw_types.h:52</a></div></div>
<div class="ttc" id="group__usb__api_html_gaadf74b0caf840f0d3222cb1dc563684c"><div class="ttname"><a href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a></div><div class="ttdeci">#define EP_OFFSET(Endpoint)</div><div class="ttdef"><b>Definition:</b> <a href="usb_8c_source.html#l00082">usb.c:82</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a2dee22637008a182c7e810ea6ad2615c"><div class="ttname"><a href="hw__usb_8h.html#a2dee22637008a182c7e810ea6ad2615c">USB_TXCSRL1_TXRDY</a></div><div class="ttdeci">#define USB_TXCSRL1_TXRDY</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01273">hw_usb.h:1273</a></div></div>
<div class="ttc" id="hw__memmap_8h_html_aa47acf4992407a85e79d911ca1055d17"><div class="ttname"><a href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a></div><div class="ttdeci">#define USB0_BASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__memmap_8h_source.html#l00099">hw_memmap.h:99</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a095977f9007e9e6af6f00eab8e1f64b1"><div class="ttname"><a href="hw__usb_8h.html#a095977f9007e9e6af6f00eab8e1f64b1">USB_O_CSRL0</a></div><div class="ttdeci">#define USB_O_CSRL0</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00162">hw_usb.h:162</a></div></div>
<div class="ttc" id="usb_8h_html_a78dcce1706922dc17a6baf4e8f37150d"><div class="ttname"><a href="usb_8h.html#a78dcce1706922dc17a6baf4e8f37150d">USB_EP_7</a></div><div class="ttdeci">#define USB_EP_7</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00354">usb.h:354</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga30c2dc9dcfaac025b60fcaf00c57097f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t USBFrameNumberGet </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets the current frame number.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address.</td></tr>
  </table>
  </dd>
</dl>
<p>This function returns the last frame number received.</p>
<dl class="section return"><dt>Returns</dt><dd>The last frame number received. </dd></dl>

<p>Definition at line <a class="el" href="usb_8c_source.html#l03777">3777</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="hw__types_8h_source.html#l00050">HWREGH</a>, <a class="el" href="hw__memmap_8h_source.html#l00099">USB0_BASE</a>, and <a class="el" href="hw__usb_8h_source.html#l00056">USB_O_FRAME</a>.</p>
<div class="fragment"><div class="line"><a name="l03778"></a><span class="lineno"> 3778</span>&#160;{</div>
<div class="line"><a name="l03779"></a><span class="lineno"> 3779</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03780"></a><span class="lineno"> 3780</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l03781"></a><span class="lineno"> 3781</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03782"></a><span class="lineno"> 3782</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a>);</div>
<div class="line"><a name="l03783"></a><span class="lineno"> 3783</span>&#160;</div>
<div class="line"><a name="l03784"></a><span class="lineno"> 3784</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03785"></a><span class="lineno"> 3785</span>&#160;    <span class="comment">// Return the most recent frame number.</span></div>
<div class="line"><a name="l03786"></a><span class="lineno"> 3786</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03787"></a><span class="lineno"> 3787</span>&#160;    <span class="keywordflow">return</span>(<a class="code" href="hw__types_8h.html#ac664ac49fa3d7c414f67572e522a74fb">HWREGH</a>(ui32Base + <a class="code" href="hw__usb_8h.html#aa81ad3c7c37834be12f59f25eaf24207">USB_O_FRAME</a>));</div>
<div class="line"><a name="l03788"></a><span class="lineno"> 3788</span>&#160;}</div>
<div class="ttc" id="hw__usb_8h_html_aa81ad3c7c37834be12f59f25eaf24207"><div class="ttname"><a href="hw__usb_8h.html#aa81ad3c7c37834be12f59f25eaf24207">USB_O_FRAME</a></div><div class="ttdeci">#define USB_O_FRAME</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00056">hw_usb.h:56</a></div></div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="hw__types_8h_html_ac664ac49fa3d7c414f67572e522a74fb"><div class="ttname"><a href="hw__types_8h.html#ac664ac49fa3d7c414f67572e522a74fb">HWREGH</a></div><div class="ttdeci">#define HWREGH(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00050">hw_types.h:50</a></div></div>
<div class="ttc" id="hw__memmap_8h_html_aa47acf4992407a85e79d911ca1055d17"><div class="ttname"><a href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a></div><div class="ttdeci">#define USB0_BASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__memmap_8h_source.html#l00099">hw_memmap.h:99</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gaaa314fd6805d04b88687890d35de2706"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USBHighSpeed </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bEnable</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enables or disables USB high-speed negotiation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address. </td></tr>
    <tr><td class="paramname">bEnable</td><td>specifies whether to enable or disable high-speed negotiation.</td></tr>
  </table>
  </dd>
</dl>
<p>High-speed negotiations for both host and device mode are enabled when this function is called with the <em>bEnable</em> parameter set to <b>true</b>. In device mode this causes the device to negotiate for high speed when the USB controller receives a reset from the host. In host mode, the USB host enables high-speed negotiations when resetting the connected device. If <em>bEnable</em> is set to <b>false</b> the controller only operates only in full-speed or low-speed.</p>
<p><b>Example:</b> Enable USB high-speed mode.</p>
<pre class="fragment">//! //
//! // Enable USB high-speed mode.
//! //
//! USBHighSpeed(USB0_BASE, true);
//! </pre> <pre class="fragment">\note This feature is not available on all Tiva devices and should only be
called when the USB is connected to an external ULPI PHY.  Please
check the data sheet to determine if the USB controller can interface with
a ULPI PHY.

\return None.  </pre> 
<p>Definition at line <a class="el" href="usb_8c_source.html#l00318">318</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="hw__types_8h_source.html#l00052">HWREGB</a>, <a class="el" href="hw__memmap_8h_source.html#l00099">USB0_BASE</a>, <a class="el" href="hw__usb_8h_source.html#l00049">USB_O_POWER</a>, and <a class="el" href="hw__usb_8h_source.html#l00423">USB_POWER_HSENAB</a>.</p>
<div class="fragment"><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;{</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a>);</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <span class="keywordflow">if</span>(bEnable)</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;    {</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        <span class="comment">// Enable high speed mode negotiations in hosts or device mode.</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;        <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#ad3a1c8e8c4a2a78d507c6590aa4d2019">USB_O_POWER</a>) |= <a class="code" href="hw__usb_8h.html#a759aaef010059777ab66ec7ba4e11eb0">USB_POWER_HSENAB</a>;</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    }</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    {</div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        <span class="comment">// Enable high speed mode negotiations in hosts or device mode.</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;        <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#ad3a1c8e8c4a2a78d507c6590aa4d2019">USB_O_POWER</a>) &amp;= ~<a class="code" href="hw__usb_8h.html#a759aaef010059777ab66ec7ba4e11eb0">USB_POWER_HSENAB</a>;</div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    }</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;}</div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a759aaef010059777ab66ec7ba4e11eb0"><div class="ttname"><a href="hw__usb_8h.html#a759aaef010059777ab66ec7ba4e11eb0">USB_POWER_HSENAB</a></div><div class="ttdeci">#define USB_POWER_HSENAB</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00423">hw_usb.h:423</a></div></div>
<div class="ttc" id="hw__usb_8h_html_ad3a1c8e8c4a2a78d507c6590aa4d2019"><div class="ttname"><a href="hw__usb_8h.html#ad3a1c8e8c4a2a78d507c6590aa4d2019">USB_O_POWER</a></div><div class="ttdeci">#define USB_O_POWER</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00049">hw_usb.h:49</a></div></div>
<div class="ttc" id="hw__types_8h_html_a084083ee12e5262f8e54bb56c15ac8c7"><div class="ttname"><a href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a></div><div class="ttdeci">#define HWREGB(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00052">hw_types.h:52</a></div></div>
<div class="ttc" id="hw__memmap_8h_html_aa47acf4992407a85e79d911ca1055d17"><div class="ttname"><a href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a></div><div class="ttdeci">#define USB0_BASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__memmap_8h_source.html#l00099">hw_memmap.h:99</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga34627542f5b991a0e0e21f4bb414756a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t USBHostAddrGet </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Endpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets the current functional device address for an endpoint.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address. </td></tr>
    <tr><td class="paramname">ui32Endpoint</td><td>is the endpoint to access. </td></tr>
    <tr><td class="paramname">ui32Flags</td><td>determines if this is an IN or an OUT endpoint.</td></tr>
  </table>
  </dd>
</dl>
<p>This function returns the current functional address that an endpoint is using to communicate with a device. The <em>ui32Flags</em> parameter determines if the IN or OUT endpoint's device address is returned.</p>
<dl class="section note"><dt>Note</dt><dd>This function must only be called in host mode.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the current function address being used by an endpoint. </dd></dl>

<p>Definition at line <a class="el" href="usb_8c_source.html#l03413">3413</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="hw__types_8h_source.html#l00052">HWREGB</a>, <a class="el" href="hw__memmap_8h_source.html#l00099">USB0_BASE</a>, <a class="el" href="usb_8h_source.html#l00347">USB_EP_0</a>, <a class="el" href="usb_8h_source.html#l00348">USB_EP_1</a>, <a class="el" href="usb_8h_source.html#l00349">USB_EP_2</a>, <a class="el" href="usb_8h_source.html#l00350">USB_EP_3</a>, <a class="el" href="usb_8h_source.html#l00351">USB_EP_4</a>, <a class="el" href="usb_8h_source.html#l00352">USB_EP_5</a>, <a class="el" href="usb_8h_source.html#l00353">USB_EP_6</a>, <a class="el" href="usb_8h_source.html#l00354">USB_EP_7</a>, <a class="el" href="usb_8h_source.html#l00243">USB_EP_HOST_OUT</a>, and <a class="el" href="hw__usb_8h_source.html#l00087">USB_O_TXFUNCADDR0</a>.</p>
<div class="fragment"><div class="line"><a name="l03414"></a><span class="lineno"> 3414</span>&#160;{</div>
<div class="line"><a name="l03415"></a><span class="lineno"> 3415</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03416"></a><span class="lineno"> 3416</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l03417"></a><span class="lineno"> 3417</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03418"></a><span class="lineno"> 3418</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a>);</div>
<div class="line"><a name="l03419"></a><span class="lineno"> 3419</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32Endpoint == <a class="code" href="usb_8h.html#a17438a2055fa93adc8baabd84a697246">USB_EP_0</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a4e39f33c6467bddfb7d3e92a2ea5b789">USB_EP_1</a>) ||</div>
<div class="line"><a name="l03420"></a><span class="lineno"> 3420</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a13cce6caa2ecdaa333ae6a9fe5869e32">USB_EP_2</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#ab0f7986e9b00a278f0d9546e1d646440">USB_EP_3</a>) ||</div>
<div class="line"><a name="l03421"></a><span class="lineno"> 3421</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a8e177910552fb7eeb3c11ef9e35d7439">USB_EP_4</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a73892b0ca4c30f38c7fef4d7d6fd2caf">USB_EP_5</a>) ||</div>
<div class="line"><a name="l03422"></a><span class="lineno"> 3422</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a4a0a3d355ece777a24c1fcfc192a7ef7">USB_EP_6</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a78dcce1706922dc17a6baf4e8f37150d">USB_EP_7</a>));</div>
<div class="line"><a name="l03423"></a><span class="lineno"> 3423</span>&#160;</div>
<div class="line"><a name="l03424"></a><span class="lineno"> 3424</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03425"></a><span class="lineno"> 3425</span>&#160;    <span class="comment">// See if the transmit or receive address is returned.</span></div>
<div class="line"><a name="l03426"></a><span class="lineno"> 3426</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03427"></a><span class="lineno"> 3427</span>&#160;    <span class="keywordflow">if</span>(ui32Flags &amp; <a class="code" href="usb_8h.html#a16d74e6681181962aff08fac4ff7176b">USB_EP_HOST_OUT</a>)</div>
<div class="line"><a name="l03428"></a><span class="lineno"> 3428</span>&#160;    {</div>
<div class="line"><a name="l03429"></a><span class="lineno"> 3429</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l03430"></a><span class="lineno"> 3430</span>&#160;        <span class="comment">// Return this endpoint&#39;s transmit address.</span></div>
<div class="line"><a name="l03431"></a><span class="lineno"> 3431</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l03432"></a><span class="lineno"> 3432</span>&#160;        <span class="keywordflow">return</span>(<a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#aee4fedfc6a50c965d0cb18a536b0382d">USB_O_TXFUNCADDR0</a> + (ui32Endpoint &gt;&gt; 1)));</div>
<div class="line"><a name="l03433"></a><span class="lineno"> 3433</span>&#160;    }</div>
<div class="line"><a name="l03434"></a><span class="lineno"> 3434</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l03435"></a><span class="lineno"> 3435</span>&#160;    {</div>
<div class="line"><a name="l03436"></a><span class="lineno"> 3436</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l03437"></a><span class="lineno"> 3437</span>&#160;        <span class="comment">// Return this endpoint&#39;s receive address.</span></div>
<div class="line"><a name="l03438"></a><span class="lineno"> 3438</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l03439"></a><span class="lineno"> 3439</span>&#160;        <span class="keywordflow">return</span>(<a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#aee4fedfc6a50c965d0cb18a536b0382d">USB_O_TXFUNCADDR0</a> + 4 + (ui32Endpoint &gt;&gt; 1)));</div>
<div class="line"><a name="l03440"></a><span class="lineno"> 3440</span>&#160;    }</div>
<div class="line"><a name="l03441"></a><span class="lineno"> 3441</span>&#160;}</div>
<div class="ttc" id="usb_8h_html_a8e177910552fb7eeb3c11ef9e35d7439"><div class="ttname"><a href="usb_8h.html#a8e177910552fb7eeb3c11ef9e35d7439">USB_EP_4</a></div><div class="ttdeci">#define USB_EP_4</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00351">usb.h:351</a></div></div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="usb_8h_html_a73892b0ca4c30f38c7fef4d7d6fd2caf"><div class="ttname"><a href="usb_8h.html#a73892b0ca4c30f38c7fef4d7d6fd2caf">USB_EP_5</a></div><div class="ttdeci">#define USB_EP_5</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00352">usb.h:352</a></div></div>
<div class="ttc" id="usb_8h_html_a16d74e6681181962aff08fac4ff7176b"><div class="ttname"><a href="usb_8h.html#a16d74e6681181962aff08fac4ff7176b">USB_EP_HOST_OUT</a></div><div class="ttdeci">#define USB_EP_HOST_OUT</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00243">usb.h:243</a></div></div>
<div class="ttc" id="hw__usb_8h_html_aee4fedfc6a50c965d0cb18a536b0382d"><div class="ttname"><a href="hw__usb_8h.html#aee4fedfc6a50c965d0cb18a536b0382d">USB_O_TXFUNCADDR0</a></div><div class="ttdeci">#define USB_O_TXFUNCADDR0</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00087">hw_usb.h:87</a></div></div>
<div class="ttc" id="usb_8h_html_a4a0a3d355ece777a24c1fcfc192a7ef7"><div class="ttname"><a href="usb_8h.html#a4a0a3d355ece777a24c1fcfc192a7ef7">USB_EP_6</a></div><div class="ttdeci">#define USB_EP_6</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00353">usb.h:353</a></div></div>
<div class="ttc" id="usb_8h_html_ab0f7986e9b00a278f0d9546e1d646440"><div class="ttname"><a href="usb_8h.html#ab0f7986e9b00a278f0d9546e1d646440">USB_EP_3</a></div><div class="ttdeci">#define USB_EP_3</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00350">usb.h:350</a></div></div>
<div class="ttc" id="usb_8h_html_a17438a2055fa93adc8baabd84a697246"><div class="ttname"><a href="usb_8h.html#a17438a2055fa93adc8baabd84a697246">USB_EP_0</a></div><div class="ttdeci">#define USB_EP_0</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00347">usb.h:347</a></div></div>
<div class="ttc" id="usb_8h_html_a13cce6caa2ecdaa333ae6a9fe5869e32"><div class="ttname"><a href="usb_8h.html#a13cce6caa2ecdaa333ae6a9fe5869e32">USB_EP_2</a></div><div class="ttdeci">#define USB_EP_2</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00349">usb.h:349</a></div></div>
<div class="ttc" id="usb_8h_html_a4e39f33c6467bddfb7d3e92a2ea5b789"><div class="ttname"><a href="usb_8h.html#a4e39f33c6467bddfb7d3e92a2ea5b789">USB_EP_1</a></div><div class="ttdeci">#define USB_EP_1</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00348">usb.h:348</a></div></div>
<div class="ttc" id="hw__types_8h_html_a084083ee12e5262f8e54bb56c15ac8c7"><div class="ttname"><a href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a></div><div class="ttdeci">#define HWREGB(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00052">hw_types.h:52</a></div></div>
<div class="ttc" id="hw__memmap_8h_html_aa47acf4992407a85e79d911ca1055d17"><div class="ttname"><a href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a></div><div class="ttdeci">#define USB0_BASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__memmap_8h_source.html#l00099">hw_memmap.h:99</a></div></div>
<div class="ttc" id="usb_8h_html_a78dcce1706922dc17a6baf4e8f37150d"><div class="ttname"><a href="usb_8h.html#a78dcce1706922dc17a6baf4e8f37150d">USB_EP_7</a></div><div class="ttdeci">#define USB_EP_7</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00354">usb.h:354</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gab9773f7e195858151afba772a7380cbc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USBHostAddrSet </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Endpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the functional address for the device that is connected to an endpoint in host mode.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address. </td></tr>
    <tr><td class="paramname">ui32Endpoint</td><td>is the endpoint to access. </td></tr>
    <tr><td class="paramname">ui32Addr</td><td>is the functional address for the controller to use for this endpoint. </td></tr>
    <tr><td class="paramname">ui32Flags</td><td>determines if this is an IN or an OUT endpoint.</td></tr>
  </table>
  </dd>
</dl>
<p>This function configures the functional address for a device that is using this endpoint for communication. This <em>ui32Addr</em> parameter is the address of the target device that this endpoint is communicating with. The <em>ui32Flags</em> parameter indicates if the IN or OUT endpoint is set.</p>
<dl class="section note"><dt>Note</dt><dd>This function must only be called in host mode.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="usb_8c_source.html#l03363">3363</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="hw__types_8h_source.html#l00052">HWREGB</a>, <a class="el" href="hw__memmap_8h_source.html#l00099">USB0_BASE</a>, <a class="el" href="usb_8h_source.html#l00347">USB_EP_0</a>, <a class="el" href="usb_8h_source.html#l00348">USB_EP_1</a>, <a class="el" href="usb_8h_source.html#l00349">USB_EP_2</a>, <a class="el" href="usb_8h_source.html#l00350">USB_EP_3</a>, <a class="el" href="usb_8h_source.html#l00351">USB_EP_4</a>, <a class="el" href="usb_8h_source.html#l00352">USB_EP_5</a>, <a class="el" href="usb_8h_source.html#l00353">USB_EP_6</a>, <a class="el" href="usb_8h_source.html#l00354">USB_EP_7</a>, <a class="el" href="usb_8h_source.html#l00243">USB_EP_HOST_OUT</a>, and <a class="el" href="hw__usb_8h_source.html#l00087">USB_O_TXFUNCADDR0</a>.</p>
<div class="fragment"><div class="line"><a name="l03365"></a><span class="lineno"> 3365</span>&#160;{</div>
<div class="line"><a name="l03366"></a><span class="lineno"> 3366</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03367"></a><span class="lineno"> 3367</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l03368"></a><span class="lineno"> 3368</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03369"></a><span class="lineno"> 3369</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a>);</div>
<div class="line"><a name="l03370"></a><span class="lineno"> 3370</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32Endpoint == <a class="code" href="usb_8h.html#a17438a2055fa93adc8baabd84a697246">USB_EP_0</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a4e39f33c6467bddfb7d3e92a2ea5b789">USB_EP_1</a>) ||</div>
<div class="line"><a name="l03371"></a><span class="lineno"> 3371</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a13cce6caa2ecdaa333ae6a9fe5869e32">USB_EP_2</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#ab0f7986e9b00a278f0d9546e1d646440">USB_EP_3</a>) ||</div>
<div class="line"><a name="l03372"></a><span class="lineno"> 3372</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a8e177910552fb7eeb3c11ef9e35d7439">USB_EP_4</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a73892b0ca4c30f38c7fef4d7d6fd2caf">USB_EP_5</a>) ||</div>
<div class="line"><a name="l03373"></a><span class="lineno"> 3373</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a4a0a3d355ece777a24c1fcfc192a7ef7">USB_EP_6</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a78dcce1706922dc17a6baf4e8f37150d">USB_EP_7</a>));</div>
<div class="line"><a name="l03374"></a><span class="lineno"> 3374</span>&#160;</div>
<div class="line"><a name="l03375"></a><span class="lineno"> 3375</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03376"></a><span class="lineno"> 3376</span>&#160;    <span class="comment">// See if the transmit or receive address is set.</span></div>
<div class="line"><a name="l03377"></a><span class="lineno"> 3377</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03378"></a><span class="lineno"> 3378</span>&#160;    <span class="keywordflow">if</span>(ui32Flags &amp; <a class="code" href="usb_8h.html#a16d74e6681181962aff08fac4ff7176b">USB_EP_HOST_OUT</a>)</div>
<div class="line"><a name="l03379"></a><span class="lineno"> 3379</span>&#160;    {</div>
<div class="line"><a name="l03380"></a><span class="lineno"> 3380</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l03381"></a><span class="lineno"> 3381</span>&#160;        <span class="comment">// Set the transmit address.</span></div>
<div class="line"><a name="l03382"></a><span class="lineno"> 3382</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l03383"></a><span class="lineno"> 3383</span>&#160;        <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#aee4fedfc6a50c965d0cb18a536b0382d">USB_O_TXFUNCADDR0</a> + (ui32Endpoint &gt;&gt; 1)) = ui32Addr;</div>
<div class="line"><a name="l03384"></a><span class="lineno"> 3384</span>&#160;    }</div>
<div class="line"><a name="l03385"></a><span class="lineno"> 3385</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l03386"></a><span class="lineno"> 3386</span>&#160;    {</div>
<div class="line"><a name="l03387"></a><span class="lineno"> 3387</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l03388"></a><span class="lineno"> 3388</span>&#160;        <span class="comment">// Set the receive address.</span></div>
<div class="line"><a name="l03389"></a><span class="lineno"> 3389</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l03390"></a><span class="lineno"> 3390</span>&#160;        <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#aee4fedfc6a50c965d0cb18a536b0382d">USB_O_TXFUNCADDR0</a> + 4 + (ui32Endpoint &gt;&gt; 1)) =</div>
<div class="line"><a name="l03391"></a><span class="lineno"> 3391</span>&#160;            ui32Addr;</div>
<div class="line"><a name="l03392"></a><span class="lineno"> 3392</span>&#160;    }</div>
<div class="line"><a name="l03393"></a><span class="lineno"> 3393</span>&#160;}</div>
<div class="ttc" id="usb_8h_html_a8e177910552fb7eeb3c11ef9e35d7439"><div class="ttname"><a href="usb_8h.html#a8e177910552fb7eeb3c11ef9e35d7439">USB_EP_4</a></div><div class="ttdeci">#define USB_EP_4</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00351">usb.h:351</a></div></div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="usb_8h_html_a73892b0ca4c30f38c7fef4d7d6fd2caf"><div class="ttname"><a href="usb_8h.html#a73892b0ca4c30f38c7fef4d7d6fd2caf">USB_EP_5</a></div><div class="ttdeci">#define USB_EP_5</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00352">usb.h:352</a></div></div>
<div class="ttc" id="usb_8h_html_a16d74e6681181962aff08fac4ff7176b"><div class="ttname"><a href="usb_8h.html#a16d74e6681181962aff08fac4ff7176b">USB_EP_HOST_OUT</a></div><div class="ttdeci">#define USB_EP_HOST_OUT</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00243">usb.h:243</a></div></div>
<div class="ttc" id="hw__usb_8h_html_aee4fedfc6a50c965d0cb18a536b0382d"><div class="ttname"><a href="hw__usb_8h.html#aee4fedfc6a50c965d0cb18a536b0382d">USB_O_TXFUNCADDR0</a></div><div class="ttdeci">#define USB_O_TXFUNCADDR0</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00087">hw_usb.h:87</a></div></div>
<div class="ttc" id="usb_8h_html_a4a0a3d355ece777a24c1fcfc192a7ef7"><div class="ttname"><a href="usb_8h.html#a4a0a3d355ece777a24c1fcfc192a7ef7">USB_EP_6</a></div><div class="ttdeci">#define USB_EP_6</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00353">usb.h:353</a></div></div>
<div class="ttc" id="usb_8h_html_ab0f7986e9b00a278f0d9546e1d646440"><div class="ttname"><a href="usb_8h.html#ab0f7986e9b00a278f0d9546e1d646440">USB_EP_3</a></div><div class="ttdeci">#define USB_EP_3</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00350">usb.h:350</a></div></div>
<div class="ttc" id="usb_8h_html_a17438a2055fa93adc8baabd84a697246"><div class="ttname"><a href="usb_8h.html#a17438a2055fa93adc8baabd84a697246">USB_EP_0</a></div><div class="ttdeci">#define USB_EP_0</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00347">usb.h:347</a></div></div>
<div class="ttc" id="usb_8h_html_a13cce6caa2ecdaa333ae6a9fe5869e32"><div class="ttname"><a href="usb_8h.html#a13cce6caa2ecdaa333ae6a9fe5869e32">USB_EP_2</a></div><div class="ttdeci">#define USB_EP_2</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00349">usb.h:349</a></div></div>
<div class="ttc" id="usb_8h_html_a4e39f33c6467bddfb7d3e92a2ea5b789"><div class="ttname"><a href="usb_8h.html#a4e39f33c6467bddfb7d3e92a2ea5b789">USB_EP_1</a></div><div class="ttdeci">#define USB_EP_1</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00348">usb.h:348</a></div></div>
<div class="ttc" id="hw__types_8h_html_a084083ee12e5262f8e54bb56c15ac8c7"><div class="ttname"><a href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a></div><div class="ttdeci">#define HWREGB(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00052">hw_types.h:52</a></div></div>
<div class="ttc" id="hw__memmap_8h_html_aa47acf4992407a85e79d911ca1055d17"><div class="ttname"><a href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a></div><div class="ttdeci">#define USB0_BASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__memmap_8h_source.html#l00099">hw_memmap.h:99</a></div></div>
<div class="ttc" id="usb_8h_html_a78dcce1706922dc17a6baf4e8f37150d"><div class="ttname"><a href="usb_8h.html#a78dcce1706922dc17a6baf4e8f37150d">USB_EP_7</a></div><div class="ttdeci">#define USB_EP_7</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00354">usb.h:354</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga27c1e1dc9de6db51b766d39694cb7ffb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USBHostEndpointConfig </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Endpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32MaxPayload</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32NAKPollInterval</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32TargetEndpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the base configuration for a host endpoint.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address. </td></tr>
    <tr><td class="paramname">ui32Endpoint</td><td>is the endpoint to access. </td></tr>
    <tr><td class="paramname">ui32MaxPayload</td><td>is the maximum payload for this endpoint. </td></tr>
    <tr><td class="paramname">ui32NAKPollInterval</td><td>is the either the NAK timeout limit or the polling interval, depending on the type of endpoint. </td></tr>
    <tr><td class="paramname">ui32TargetEndpoint</td><td>is the endpoint that the host endpoint is targeting. </td></tr>
    <tr><td class="paramname">ui32Flags</td><td>are used to configure other endpoint settings.</td></tr>
  </table>
  </dd>
</dl>
<p>This function sets the basic configuration for the transmit or receive portion of an endpoint in host mode. The <em>ui32Flags</em> parameter determines some of the configuration while the other parameters provide the rest. The <em>ui32Flags</em> parameter determines whether this is an IN endpoint (<b>USB_EP_HOST_IN</b> or <b>USB_EP_DEV_IN</b>) or an OUT endpoint (<b>USB_EP_HOST_OUT</b> or <b>USB_EP_DEV_OUT</b>), whether this is a Full speed endpoint (<b>USB_EP_SPEED_FULL</b>) or a Low speed endpoint (<b>USB_EP_SPEED_LOW</b>).</p>
<p>The <b>USB_EP_MODE_</b> flags control the type of the endpoint.</p><ul>
<li><b>USB_EP_MODE_CTRL</b> is a control endpoint.</li>
<li><b>USB_EP_MODE_ISOC</b> is an isochronous endpoint.</li>
<li><b>USB_EP_MODE_BULK</b> is a bulk endpoint.</li>
<li><b>USB_EP_MODE_INT</b> is an interrupt endpoint.</li>
</ul>
<p>The <em>ui32NAKPollInterval</em> parameter has different meanings based on the <b>USB_EP_MODE</b> value and whether or not this call is being made for endpoint zero or another endpoint. For endpoint zero or any Bulk endpoints, this value always indicates the number of frames to allow a device to NAK before considering it a timeout. If this endpoint is an isochronous or interrupt endpoint, this value is the polling interval for this endpoint.</p>
<p>For interrupt endpoints, the polling interval is the number of frames between interrupt IN requests to an endpoint and has a range of 1 to 255. For isochronous endpoints this value represents a polling interval of 2 ^ (<em>ui32NAKPollInterval</em> - 1) frames. When used as a NAK timeout, the <em>ui32NAKPollInterval</em> value specifies 2 ^ (<em>ui32NAKPollInterval</em> - 1) frames before issuing a time out.</p>
<p>There are two special time out values that can be specified when setting the <em>ui32NAKPollInterval</em> value. The first is <b>MAX_NAK_LIMIT</b>, which is the maximum value that can be passed in this variable. The other is <b>DISABLE_NAK_LIMIT</b>, which indicates that there is no limit on the number of NAKs.</p>
<p>The <b>USB_EP_DMA_MODE_</b> flags determine the type of DMA access to the endpoint data FIFOs. The choice of the DMA mode depends on how the DMA controller is configured and how it is being used. See the ``Using USB with the uDMA Controller'' or the ''Using the integrated USB DMA Controller'' section for more information on DMA configuration depending on the type of DMA that is supported by the USB controller.</p>
<p>When configuring the OUT portion of an endpoint, the <b>USB_EP_AUTO_SET</b> bit is specified to cause the transmission of data on the USB bus to start as soon as the number of bytes specified by <em>ui32MaxPayload</em> has been written into the OUT FIFO for this endpoint.</p>
<p>When configuring the IN portion of an endpoint, the <b>USB_EP_AUTO_REQUEST</b> bit can be specified to trigger the request for more data once the FIFO has been drained enough to fit <em>ui32MaxPayload</em> bytes. The <b>USB_EP_AUTO_CLEAR</b> bit can be used to clear the data packet ready flag automatically once the data has been read from the FIFO. If this option is not used, this flag must be manually cleared via a call to <a class="el" href="group__usb__api.html#ga86b9ed2def63c841765968898d6e19e8">USBDevEndpointStatusClear()</a> or <a class="el" href="group__usb__api.html#gaa6c7268ab8985502d6db54c2773614e3">USBHostEndpointStatusClear()</a>.</p>
<p>For interrupt endpoints in low or full speed mode, the polling interval (<em>ui32NAKPollInterval</em>) is the number of frames between interrupt IN requests to an endpoint and has a range of 1 to 255. For interrupt endpoints in high speed mode the polling interval is 2 ^ (<em>ui32NAKPollInterval</em> - 1) microframes between interrupt IN requests to an endpoint and has a range of 1 to 16.</p>
<dl class="section note"><dt>Note</dt><dd>This function must only be called in host mode.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="usb_8c_source.html#l01680">1680</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="usb_8c_source.html#l00082">EP_OFFSET</a>, <a class="el" href="hw__types_8h_source.html#l00052">HWREGB</a>, <a class="el" href="hw__types_8h_source.html#l00050">HWREGH</a>, <a class="el" href="usb_8h_source.html#l00331">MAX_NAK_LIMIT</a>, <a class="el" href="hw__memmap_8h_source.html#l00099">USB0_BASE</a>, <a class="el" href="usb_8h_source.html#l00347">USB_EP_0</a>, <a class="el" href="usb_8h_source.html#l00348">USB_EP_1</a>, <a class="el" href="usb_8h_source.html#l00349">USB_EP_2</a>, <a class="el" href="usb_8h_source.html#l00350">USB_EP_3</a>, <a class="el" href="usb_8h_source.html#l00351">USB_EP_4</a>, <a class="el" href="usb_8h_source.html#l00352">USB_EP_5</a>, <a class="el" href="usb_8h_source.html#l00353">USB_EP_6</a>, <a class="el" href="usb_8h_source.html#l00354">USB_EP_7</a>, <a class="el" href="usb_8h_source.html#l00228">USB_EP_AUTO_CLEAR</a>, <a class="el" href="usb_8h_source.html#l00227">USB_EP_AUTO_REQUEST</a>, <a class="el" href="usb_8h_source.html#l00226">USB_EP_AUTO_SET</a>, <a class="el" href="usb_8h_source.html#l00229">USB_EP_DMA_MODE_0</a>, <a class="el" href="usb_8h_source.html#l00230">USB_EP_DMA_MODE_1</a>, <a class="el" href="usb_8h_source.html#l00243">USB_EP_HOST_OUT</a>, <a class="el" href="usb_8h_source.html#l00235">USB_EP_MODE_BULK</a>, <a class="el" href="usb_8h_source.html#l00237">USB_EP_MODE_CTRL</a>, <a class="el" href="usb_8h_source.html#l00236">USB_EP_MODE_INT</a>, <a class="el" href="usb_8h_source.html#l00234">USB_EP_MODE_ISOC</a>, <a class="el" href="usb_8h_source.html#l00238">USB_EP_MODE_MASK</a>, <a class="el" href="usb_8h_source.html#l00240">USB_EP_SPEED_FULL</a>, <a class="el" href="usb_8h_source.html#l00241">USB_EP_SPEED_HIGH</a>, <a class="el" href="hw__usb_8h_source.html#l00169">USB_O_NAKLMT</a>, <a class="el" href="hw__usb_8h_source.html#l00180">USB_O_RXCSRH1</a>, <a class="el" href="hw__usb_8h_source.html#l00190">USB_O_RXINTERVAL1</a>, <a class="el" href="hw__usb_8h_source.html#l00176">USB_O_RXMAXP1</a>, <a class="el" href="hw__usb_8h_source.html#l00188">USB_O_RXTYPE1</a>, <a class="el" href="hw__usb_8h_source.html#l00174">USB_O_TXCSRH1</a>, <a class="el" href="hw__usb_8h_source.html#l00186">USB_O_TXINTERVAL1</a>, <a class="el" href="hw__usb_8h_source.html#l00170">USB_O_TXMAXP1</a>, <a class="el" href="hw__usb_8h_source.html#l00184">USB_O_TXTYPE1</a>, <a class="el" href="hw__usb_8h_source.html#l00168">USB_O_TYPE0</a>, <a class="el" href="hw__usb_8h_source.html#l01319">USB_RXCSRH1_AUTOCL</a>, <a class="el" href="hw__usb_8h_source.html#l01320">USB_RXCSRH1_AUTORQ</a>, <a class="el" href="hw__usb_8h_source.html#l01322">USB_RXCSRH1_DMAEN</a>, <a class="el" href="hw__usb_8h_source.html#l01325">USB_RXCSRH1_DMAMOD</a>, <a class="el" href="hw__usb_8h_source.html#l01280">USB_TXCSRH1_AUTOSET</a>, <a class="el" href="hw__usb_8h_source.html#l01283">USB_TXCSRH1_DMAEN</a>, <a class="el" href="hw__usb_8h_source.html#l01285">USB_TXCSRH1_DMAMOD</a>, <a class="el" href="hw__usb_8h_source.html#l01352">USB_TXTYPE1_PROTO_BULK</a>, <a class="el" href="hw__usb_8h_source.html#l01350">USB_TXTYPE1_PROTO_CTRL</a>, <a class="el" href="hw__usb_8h_source.html#l01353">USB_TXTYPE1_PROTO_INT</a>, <a class="el" href="hw__usb_8h_source.html#l01351">USB_TXTYPE1_PROTO_ISOC</a>, <a class="el" href="hw__usb_8h_source.html#l01347">USB_TXTYPE1_SPEED_FULL</a>, <a class="el" href="hw__usb_8h_source.html#l01346">USB_TXTYPE1_SPEED_HIGH</a>, <a class="el" href="hw__usb_8h_source.html#l01348">USB_TXTYPE1_SPEED_LOW</a>, <a class="el" href="hw__usb_8h_source.html#l01240">USB_TYPE0_SPEED_FULL</a>, <a class="el" href="hw__usb_8h_source.html#l01239">USB_TYPE0_SPEED_HIGH</a>, and <a class="el" href="hw__usb_8h_source.html#l01241">USB_TYPE0_SPEED_LOW</a>.</p>
<div class="fragment"><div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;{</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;    uint32_t ui32Register;</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a>);</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32Endpoint == <a class="code" href="usb_8h.html#a17438a2055fa93adc8baabd84a697246">USB_EP_0</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a4e39f33c6467bddfb7d3e92a2ea5b789">USB_EP_1</a>) ||</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a13cce6caa2ecdaa333ae6a9fe5869e32">USB_EP_2</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#ab0f7986e9b00a278f0d9546e1d646440">USB_EP_3</a>) ||</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a8e177910552fb7eeb3c11ef9e35d7439">USB_EP_4</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a73892b0ca4c30f38c7fef4d7d6fd2caf">USB_EP_5</a>) ||</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a4a0a3d355ece777a24c1fcfc192a7ef7">USB_EP_6</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a78dcce1706922dc17a6baf4e8f37150d">USB_EP_7</a>));</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32NAKPollInterval &lt;= <a class="code" href="usb_8h.html#a0156f796460a70cd6732d1ba5ffe1f2f">MAX_NAK_LIMIT</a>);</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;    <span class="comment">// Endpoint zero is configured differently than the other endpoints, so see</span></div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;    <span class="comment">// if this is endpoint zero.</span></div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;    <span class="keywordflow">if</span>(ui32Endpoint == <a class="code" href="usb_8h.html#a17438a2055fa93adc8baabd84a697246">USB_EP_0</a>)</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;    {</div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;        <span class="comment">// Set the NAK timeout.</span></div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;        <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a4b642ce24b7f03b357b737f8e0b8d9f6">USB_O_NAKLMT</a>) = ui32NAKPollInterval;</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;        <span class="comment">// Set the transfer type information.</span></div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;        <span class="comment">// Set the speed of this endpoint.</span></div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;        <span class="keywordflow">if</span>(ui32Flags &amp; <a class="code" href="usb_8h.html#a83597dac986079e006ae113acce82ccb">USB_EP_SPEED_HIGH</a>)</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;        {</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;            <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#ae968897d93669d85a774c00bdc5553fb">USB_O_TYPE0</a>) = <a class="code" href="hw__usb_8h.html#a4c332d0768cf2ec5bf7c64ecfa3d72c9">USB_TYPE0_SPEED_HIGH</a>;</div>
<div class="line"><a name="l01716"></a><span class="lineno"> 1716</span>&#160;        }</div>
<div class="line"><a name="l01717"></a><span class="lineno"> 1717</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(ui32Flags &amp; <a class="code" href="usb_8h.html#a45b104ecc0673dc778e652ca88ec45a1">USB_EP_SPEED_FULL</a>)</div>
<div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;        {</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;            <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#ae968897d93669d85a774c00bdc5553fb">USB_O_TYPE0</a>) = <a class="code" href="hw__usb_8h.html#ad75009234bcb791c90f83a6eba56558e">USB_TYPE0_SPEED_FULL</a>;</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;        }</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;        {</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;            <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#ae968897d93669d85a774c00bdc5553fb">USB_O_TYPE0</a>) = <a class="code" href="hw__usb_8h.html#a2c11924120fbb14d0f29521e30c31264">USB_TYPE0_SPEED_LOW</a>;</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;        }</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;    }</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;    {</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;        <span class="comment">// Start with the target endpoint.</span></div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;        ui32Register = ui32TargetEndpoint;</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;        <span class="comment">// Set the speed for the device using this endpoint.</span></div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;        <span class="keywordflow">if</span>(ui32Flags &amp; USB_EP_SPEED_HIGH)</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;        {</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;            ui32Register |= <a class="code" href="hw__usb_8h.html#a1c9620c5171f279a788a4788d3073b90">USB_TXTYPE1_SPEED_HIGH</a>;</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;        }</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(ui32Flags &amp; <a class="code" href="usb_8h.html#a45b104ecc0673dc778e652ca88ec45a1">USB_EP_SPEED_FULL</a>)</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;        {</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;            ui32Register |= <a class="code" href="hw__usb_8h.html#a25e094c993b8e4befbe82517aff7e0c4">USB_TXTYPE1_SPEED_FULL</a>;</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;        }</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01745"></a><span class="lineno"> 1745</span>&#160;        {</div>
<div class="line"><a name="l01746"></a><span class="lineno"> 1746</span>&#160;            ui32Register |= <a class="code" href="hw__usb_8h.html#ac2e80f243222c9910924df86682a3862">USB_TXTYPE1_SPEED_LOW</a>;</div>
<div class="line"><a name="l01747"></a><span class="lineno"> 1747</span>&#160;        }</div>
<div class="line"><a name="l01748"></a><span class="lineno"> 1748</span>&#160;</div>
<div class="line"><a name="l01749"></a><span class="lineno"> 1749</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01750"></a><span class="lineno"> 1750</span>&#160;        <span class="comment">// Set the protocol for the device using this endpoint.</span></div>
<div class="line"><a name="l01751"></a><span class="lineno"> 1751</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;        <span class="keywordflow">switch</span>(ui32Flags &amp; <a class="code" href="usb_8h.html#ac4867149a95bf62b061dc3149c6eb596">USB_EP_MODE_MASK</a>)</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;        {</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;            <span class="comment">// The bulk protocol is being used.</span></div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="usb_8h.html#aa6159888b439bfb438c8e5d898214922">USB_EP_MODE_BULK</a>:</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;            {</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;                ui32Register |= <a class="code" href="hw__usb_8h.html#a28d9e128ba6150fa5285efb9e56c36bc">USB_TXTYPE1_PROTO_BULK</a>;</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;            }</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;            <span class="comment">// The isochronous protocol is being used.</span></div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="usb_8h.html#a12885dc6ed4485c48d871c639cc6f952">USB_EP_MODE_ISOC</a>:</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;            {</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;                ui32Register |= <a class="code" href="hw__usb_8h.html#a69bcc8c2b04150394222d31e20a332b4">USB_TXTYPE1_PROTO_ISOC</a>;</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;            }</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;            <span class="comment">// The interrupt protocol is being used.</span></div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="usb_8h.html#a245bdb5fbcaa58e65d6b55106decd25e">USB_EP_MODE_INT</a>:</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;            {</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;                ui32Register |= <a class="code" href="hw__usb_8h.html#a29c6b2764df8d6c668f65159ffb4fb31">USB_TXTYPE1_PROTO_INT</a>;</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;            }</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;            <span class="comment">// The control protocol is being used.</span></div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;            <span class="keywordflow">case</span> <a class="code" href="usb_8h.html#a8fec31410bb407e42d93601ceaa7abe3">USB_EP_MODE_CTRL</a>:</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;            {</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;                ui32Register |= <a class="code" href="hw__usb_8h.html#ae9f06160100f5ea8021367a7998c421d">USB_TXTYPE1_PROTO_CTRL</a>;</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;            }</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;        }</div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;        <span class="comment">// See if the transmit or receive endpoint is being configured.</span></div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;        <span class="keywordflow">if</span>(ui32Flags &amp; <a class="code" href="usb_8h.html#a16d74e6681181962aff08fac4ff7176b">USB_EP_HOST_OUT</a>)</div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;        {</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;            <span class="comment">// Set the transfer type information.</span></div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;            <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a>(ui32Endpoint) + <a class="code" href="hw__usb_8h.html#a855cd09323bbba69032b89d2160d3490">USB_O_TXTYPE1</a>) =</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;                ui32Register;</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;            <span class="comment">// Set the NAK timeout or polling interval.</span></div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;            <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a>(ui32Endpoint) + <a class="code" href="hw__usb_8h.html#a43f0ae79a371a84ca972532226fc135d">USB_O_TXINTERVAL1</a>) =</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;                ui32NAKPollInterval;</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l01809"></a><span class="lineno"> 1809</span>&#160;            <span class="comment">// Set the Maximum Payload per transaction.</span></div>
<div class="line"><a name="l01810"></a><span class="lineno"> 1810</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l01811"></a><span class="lineno"> 1811</span>&#160;            <a class="code" href="hw__types_8h.html#ac664ac49fa3d7c414f67572e522a74fb">HWREGH</a>(ui32Base + <a class="code" href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a>(ui32Endpoint) + <a class="code" href="hw__usb_8h.html#a10a3276cbd2ee4806cbe3e0f4840b578">USB_O_TXMAXP1</a>) =</div>
<div class="line"><a name="l01812"></a><span class="lineno"> 1812</span>&#160;                ui32MaxPayload;</div>
<div class="line"><a name="l01813"></a><span class="lineno"> 1813</span>&#160;</div>
<div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;            <span class="comment">// Set the transmit control value to zero.</span></div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;            ui32Register = 0;</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;            <span class="comment">// Allow auto setting of TxPktRdy when max packet size has been</span></div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;            <span class="comment">// loaded into the FIFO.</span></div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;            <span class="keywordflow">if</span>(ui32Flags &amp; <a class="code" href="usb_8h.html#af83d520bf70b794bd74c9e2f8573e7ab">USB_EP_AUTO_SET</a>)</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;            {</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;                ui32Register |= <a class="code" href="hw__usb_8h.html#a6a74dc0cf7f4010a9562834742a12569">USB_TXCSRH1_AUTOSET</a>;</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;            }</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;            <span class="comment">// Configure the DMA Mode.</span></div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;            <span class="keywordflow">if</span>(ui32Flags &amp; <a class="code" href="usb_8h.html#a259f82df7349fa5e07fb80726e5de017">USB_EP_DMA_MODE_1</a>)</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;            {</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;                ui32Register |= <a class="code" href="hw__usb_8h.html#a70a09d67fe2b11247e013449470a04d0">USB_TXCSRH1_DMAEN</a> | <a class="code" href="hw__usb_8h.html#abd420b366edbcda207b59235e060eea6">USB_TXCSRH1_DMAMOD</a>;</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;            }</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(ui32Flags &amp; <a class="code" href="usb_8h.html#ab35e7f9177cbd7f7c6af3319d936c1d3">USB_EP_DMA_MODE_0</a>)</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;            {</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;                ui32Register |= <a class="code" href="hw__usb_8h.html#a70a09d67fe2b11247e013449470a04d0">USB_TXCSRH1_DMAEN</a>;</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;            }</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;</div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;            <span class="comment">// Write out the transmit control value.</span></div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;            <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a>(ui32Endpoint) + <a class="code" href="hw__usb_8h.html#aa2d73dc23a25ea5d43b680cedfbf191e">USB_O_TXCSRH1</a>) =</div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;                (uint8_t)ui32Register;</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;        }</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;        {</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;            <span class="comment">// Set the transfer type information.</span></div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;            <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a>(ui32Endpoint) + <a class="code" href="hw__usb_8h.html#a916127bf93c85870b97f19d8d5d7d4f0">USB_O_RXTYPE1</a>) =</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;                ui32Register;</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;</div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;            <span class="comment">// Set the NAK timeout or polling interval.</span></div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;            <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a>(ui32Endpoint) + <a class="code" href="hw__usb_8h.html#a4c9b261e7f741a2c361a5a69282a6d70">USB_O_RXINTERVAL1</a>) =</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;                ui32NAKPollInterval;</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;</div>
<div class="line"><a name="l01860"></a><span class="lineno"> 1860</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l01861"></a><span class="lineno"> 1861</span>&#160;            <span class="comment">// Set the Maximum Payload per transaction.</span></div>
<div class="line"><a name="l01862"></a><span class="lineno"> 1862</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l01863"></a><span class="lineno"> 1863</span>&#160;            <a class="code" href="hw__types_8h.html#ac664ac49fa3d7c414f67572e522a74fb">HWREGH</a>(ui32Base + <a class="code" href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a>(ui32Endpoint) + <a class="code" href="hw__usb_8h.html#a74c921b3840ba9d08eabd9de16401bd2">USB_O_RXMAXP1</a>) =</div>
<div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;                ui32MaxPayload;</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;</div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;            <span class="comment">// Set the receive control value to zero.</span></div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;            ui32Register = 0;</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;            <span class="comment">// Allow auto clearing of RxPktRdy when packet of size max packet</span></div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;            <span class="comment">// has been unloaded from the FIFO.</span></div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;            <span class="keywordflow">if</span>(ui32Flags &amp; <a class="code" href="usb_8h.html#ac6ffbe05755a887eff3bee31239d76ee">USB_EP_AUTO_CLEAR</a>)</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;            {</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;                ui32Register |= <a class="code" href="hw__usb_8h.html#a3f19fc8cbdc83cd742276b0787c0705f">USB_RXCSRH1_AUTOCL</a>;</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;            }</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;            <span class="comment">// Allow auto generation of DMA requests.</span></div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;            <span class="keywordflow">if</span>(ui32Flags &amp; <a class="code" href="usb_8h.html#a6fdc385936265c4f00b1582e9ea0a230">USB_EP_AUTO_REQUEST</a>)</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;            {</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;                ui32Register |= <a class="code" href="hw__usb_8h.html#ace44928f33d51fdb2ea895982f810c9d">USB_RXCSRH1_AUTORQ</a>;</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;            }</div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;            <span class="comment">// Configure the DMA Mode.</span></div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;            <span class="keywordflow">if</span>(ui32Flags &amp; USB_EP_DMA_MODE_1)</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;            {</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;                ui32Register |= <a class="code" href="hw__usb_8h.html#a77d6133e3e9658960e4bf88ea5e98219">USB_RXCSRH1_DMAEN</a> | <a class="code" href="hw__usb_8h.html#a765b6bd345468708035e8c6d4efd8a29">USB_RXCSRH1_DMAMOD</a>;</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;            }</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span>(ui32Flags &amp; USB_EP_DMA_MODE_0)</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;            {</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;                ui32Register |= <a class="code" href="hw__usb_8h.html#a77d6133e3e9658960e4bf88ea5e98219">USB_RXCSRH1_DMAEN</a>;</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;            }</div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;            <span class="comment">// Write out the receive control value.</span></div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;            <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a>(ui32Endpoint) + <a class="code" href="hw__usb_8h.html#af953e2449fe4e26a4a805200be97b03c">USB_O_RXCSRH1</a>) =</div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;                (uint8_t)ui32Register;</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;        }</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;    }</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;}</div>
<div class="ttc" id="hw__usb_8h_html_ae9f06160100f5ea8021367a7998c421d"><div class="ttname"><a href="hw__usb_8h.html#ae9f06160100f5ea8021367a7998c421d">USB_TXTYPE1_PROTO_CTRL</a></div><div class="ttdeci">#define USB_TXTYPE1_PROTO_CTRL</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01350">hw_usb.h:1350</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a77d6133e3e9658960e4bf88ea5e98219"><div class="ttname"><a href="hw__usb_8h.html#a77d6133e3e9658960e4bf88ea5e98219">USB_RXCSRH1_DMAEN</a></div><div class="ttdeci">#define USB_RXCSRH1_DMAEN</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01322">hw_usb.h:1322</a></div></div>
<div class="ttc" id="usb_8h_html_a12885dc6ed4485c48d871c639cc6f952"><div class="ttname"><a href="usb_8h.html#a12885dc6ed4485c48d871c639cc6f952">USB_EP_MODE_ISOC</a></div><div class="ttdeci">#define USB_EP_MODE_ISOC</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00234">usb.h:234</a></div></div>
<div class="ttc" id="hw__usb_8h_html_abd420b366edbcda207b59235e060eea6"><div class="ttname"><a href="hw__usb_8h.html#abd420b366edbcda207b59235e060eea6">USB_TXCSRH1_DMAMOD</a></div><div class="ttdeci">#define USB_TXCSRH1_DMAMOD</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01285">hw_usb.h:1285</a></div></div>
<div class="ttc" id="hw__usb_8h_html_ae968897d93669d85a774c00bdc5553fb"><div class="ttname"><a href="hw__usb_8h.html#ae968897d93669d85a774c00bdc5553fb">USB_O_TYPE0</a></div><div class="ttdeci">#define USB_O_TYPE0</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00168">hw_usb.h:168</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a916127bf93c85870b97f19d8d5d7d4f0"><div class="ttname"><a href="hw__usb_8h.html#a916127bf93c85870b97f19d8d5d7d4f0">USB_O_RXTYPE1</a></div><div class="ttdeci">#define USB_O_RXTYPE1</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00188">hw_usb.h:188</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a4c332d0768cf2ec5bf7c64ecfa3d72c9"><div class="ttname"><a href="hw__usb_8h.html#a4c332d0768cf2ec5bf7c64ecfa3d72c9">USB_TYPE0_SPEED_HIGH</a></div><div class="ttdeci">#define USB_TYPE0_SPEED_HIGH</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01239">hw_usb.h:1239</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a765b6bd345468708035e8c6d4efd8a29"><div class="ttname"><a href="hw__usb_8h.html#a765b6bd345468708035e8c6d4efd8a29">USB_RXCSRH1_DMAMOD</a></div><div class="ttdeci">#define USB_RXCSRH1_DMAMOD</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01325">hw_usb.h:1325</a></div></div>
<div class="ttc" id="usb_8h_html_a259f82df7349fa5e07fb80726e5de017"><div class="ttname"><a href="usb_8h.html#a259f82df7349fa5e07fb80726e5de017">USB_EP_DMA_MODE_1</a></div><div class="ttdeci">#define USB_EP_DMA_MODE_1</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00230">usb.h:230</a></div></div>
<div class="ttc" id="usb_8h_html_ac4867149a95bf62b061dc3149c6eb596"><div class="ttname"><a href="usb_8h.html#ac4867149a95bf62b061dc3149c6eb596">USB_EP_MODE_MASK</a></div><div class="ttdeci">#define USB_EP_MODE_MASK</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00238">usb.h:238</a></div></div>
<div class="ttc" id="usb_8h_html_a8e177910552fb7eeb3c11ef9e35d7439"><div class="ttname"><a href="usb_8h.html#a8e177910552fb7eeb3c11ef9e35d7439">USB_EP_4</a></div><div class="ttdeci">#define USB_EP_4</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00351">usb.h:351</a></div></div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="hw__usb_8h_html_af953e2449fe4e26a4a805200be97b03c"><div class="ttname"><a href="hw__usb_8h.html#af953e2449fe4e26a4a805200be97b03c">USB_O_RXCSRH1</a></div><div class="ttdeci">#define USB_O_RXCSRH1</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00180">hw_usb.h:180</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a4c9b261e7f741a2c361a5a69282a6d70"><div class="ttname"><a href="hw__usb_8h.html#a4c9b261e7f741a2c361a5a69282a6d70">USB_O_RXINTERVAL1</a></div><div class="ttdeci">#define USB_O_RXINTERVAL1</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00190">hw_usb.h:190</a></div></div>
<div class="ttc" id="hw__usb_8h_html_aa2d73dc23a25ea5d43b680cedfbf191e"><div class="ttname"><a href="hw__usb_8h.html#aa2d73dc23a25ea5d43b680cedfbf191e">USB_O_TXCSRH1</a></div><div class="ttdeci">#define USB_O_TXCSRH1</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00174">hw_usb.h:174</a></div></div>
<div class="ttc" id="usb_8h_html_a245bdb5fbcaa58e65d6b55106decd25e"><div class="ttname"><a href="usb_8h.html#a245bdb5fbcaa58e65d6b55106decd25e">USB_EP_MODE_INT</a></div><div class="ttdeci">#define USB_EP_MODE_INT</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00236">usb.h:236</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a25e094c993b8e4befbe82517aff7e0c4"><div class="ttname"><a href="hw__usb_8h.html#a25e094c993b8e4befbe82517aff7e0c4">USB_TXTYPE1_SPEED_FULL</a></div><div class="ttdeci">#define USB_TXTYPE1_SPEED_FULL</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01347">hw_usb.h:1347</a></div></div>
<div class="ttc" id="usb_8h_html_a45b104ecc0673dc778e652ca88ec45a1"><div class="ttname"><a href="usb_8h.html#a45b104ecc0673dc778e652ca88ec45a1">USB_EP_SPEED_FULL</a></div><div class="ttdeci">#define USB_EP_SPEED_FULL</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00240">usb.h:240</a></div></div>
<div class="ttc" id="usb_8h_html_a73892b0ca4c30f38c7fef4d7d6fd2caf"><div class="ttname"><a href="usb_8h.html#a73892b0ca4c30f38c7fef4d7d6fd2caf">USB_EP_5</a></div><div class="ttdeci">#define USB_EP_5</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00352">usb.h:352</a></div></div>
<div class="ttc" id="usb_8h_html_a6fdc385936265c4f00b1582e9ea0a230"><div class="ttname"><a href="usb_8h.html#a6fdc385936265c4f00b1582e9ea0a230">USB_EP_AUTO_REQUEST</a></div><div class="ttdeci">#define USB_EP_AUTO_REQUEST</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00227">usb.h:227</a></div></div>
<div class="ttc" id="hw__types_8h_html_ac664ac49fa3d7c414f67572e522a74fb"><div class="ttname"><a href="hw__types_8h.html#ac664ac49fa3d7c414f67572e522a74fb">HWREGH</a></div><div class="ttdeci">#define HWREGH(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00050">hw_types.h:50</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a69bcc8c2b04150394222d31e20a332b4"><div class="ttname"><a href="hw__usb_8h.html#a69bcc8c2b04150394222d31e20a332b4">USB_TXTYPE1_PROTO_ISOC</a></div><div class="ttdeci">#define USB_TXTYPE1_PROTO_ISOC</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01351">hw_usb.h:1351</a></div></div>
<div class="ttc" id="usb_8h_html_a16d74e6681181962aff08fac4ff7176b"><div class="ttname"><a href="usb_8h.html#a16d74e6681181962aff08fac4ff7176b">USB_EP_HOST_OUT</a></div><div class="ttdeci">#define USB_EP_HOST_OUT</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00243">usb.h:243</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a855cd09323bbba69032b89d2160d3490"><div class="ttname"><a href="hw__usb_8h.html#a855cd09323bbba69032b89d2160d3490">USB_O_TXTYPE1</a></div><div class="ttdeci">#define USB_O_TXTYPE1</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00184">hw_usb.h:184</a></div></div>
<div class="ttc" id="hw__usb_8h_html_ace44928f33d51fdb2ea895982f810c9d"><div class="ttname"><a href="hw__usb_8h.html#ace44928f33d51fdb2ea895982f810c9d">USB_RXCSRH1_AUTORQ</a></div><div class="ttdeci">#define USB_RXCSRH1_AUTORQ</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01320">hw_usb.h:1320</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a4b642ce24b7f03b357b737f8e0b8d9f6"><div class="ttname"><a href="hw__usb_8h.html#a4b642ce24b7f03b357b737f8e0b8d9f6">USB_O_NAKLMT</a></div><div class="ttdeci">#define USB_O_NAKLMT</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00169">hw_usb.h:169</a></div></div>
<div class="ttc" id="usb_8h_html_a8fec31410bb407e42d93601ceaa7abe3"><div class="ttname"><a href="usb_8h.html#a8fec31410bb407e42d93601ceaa7abe3">USB_EP_MODE_CTRL</a></div><div class="ttdeci">#define USB_EP_MODE_CTRL</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00237">usb.h:237</a></div></div>
<div class="ttc" id="usb_8h_html_af83d520bf70b794bd74c9e2f8573e7ab"><div class="ttname"><a href="usb_8h.html#af83d520bf70b794bd74c9e2f8573e7ab">USB_EP_AUTO_SET</a></div><div class="ttdeci">#define USB_EP_AUTO_SET</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00226">usb.h:226</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a3f19fc8cbdc83cd742276b0787c0705f"><div class="ttname"><a href="hw__usb_8h.html#a3f19fc8cbdc83cd742276b0787c0705f">USB_RXCSRH1_AUTOCL</a></div><div class="ttdeci">#define USB_RXCSRH1_AUTOCL</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01319">hw_usb.h:1319</a></div></div>
<div class="ttc" id="usb_8h_html_a0156f796460a70cd6732d1ba5ffe1f2f"><div class="ttname"><a href="usb_8h.html#a0156f796460a70cd6732d1ba5ffe1f2f">MAX_NAK_LIMIT</a></div><div class="ttdeci">#define MAX_NAK_LIMIT</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00331">usb.h:331</a></div></div>
<div class="ttc" id="hw__usb_8h_html_ad75009234bcb791c90f83a6eba56558e"><div class="ttname"><a href="hw__usb_8h.html#ad75009234bcb791c90f83a6eba56558e">USB_TYPE0_SPEED_FULL</a></div><div class="ttdeci">#define USB_TYPE0_SPEED_FULL</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01240">hw_usb.h:1240</a></div></div>
<div class="ttc" id="usb_8h_html_ab35e7f9177cbd7f7c6af3319d936c1d3"><div class="ttname"><a href="usb_8h.html#ab35e7f9177cbd7f7c6af3319d936c1d3">USB_EP_DMA_MODE_0</a></div><div class="ttdeci">#define USB_EP_DMA_MODE_0</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00229">usb.h:229</a></div></div>
<div class="ttc" id="usb_8h_html_a4a0a3d355ece777a24c1fcfc192a7ef7"><div class="ttname"><a href="usb_8h.html#a4a0a3d355ece777a24c1fcfc192a7ef7">USB_EP_6</a></div><div class="ttdeci">#define USB_EP_6</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00353">usb.h:353</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a29c6b2764df8d6c668f65159ffb4fb31"><div class="ttname"><a href="hw__usb_8h.html#a29c6b2764df8d6c668f65159ffb4fb31">USB_TXTYPE1_PROTO_INT</a></div><div class="ttdeci">#define USB_TXTYPE1_PROTO_INT</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01353">hw_usb.h:1353</a></div></div>
<div class="ttc" id="usb_8h_html_aa6159888b439bfb438c8e5d898214922"><div class="ttname"><a href="usb_8h.html#aa6159888b439bfb438c8e5d898214922">USB_EP_MODE_BULK</a></div><div class="ttdeci">#define USB_EP_MODE_BULK</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00235">usb.h:235</a></div></div>
<div class="ttc" id="hw__usb_8h_html_ac2e80f243222c9910924df86682a3862"><div class="ttname"><a href="hw__usb_8h.html#ac2e80f243222c9910924df86682a3862">USB_TXTYPE1_SPEED_LOW</a></div><div class="ttdeci">#define USB_TXTYPE1_SPEED_LOW</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01348">hw_usb.h:1348</a></div></div>
<div class="ttc" id="usb_8h_html_ab0f7986e9b00a278f0d9546e1d646440"><div class="ttname"><a href="usb_8h.html#ab0f7986e9b00a278f0d9546e1d646440">USB_EP_3</a></div><div class="ttdeci">#define USB_EP_3</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00350">usb.h:350</a></div></div>
<div class="ttc" id="usb_8h_html_a17438a2055fa93adc8baabd84a697246"><div class="ttname"><a href="usb_8h.html#a17438a2055fa93adc8baabd84a697246">USB_EP_0</a></div><div class="ttdeci">#define USB_EP_0</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00347">usb.h:347</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a6a74dc0cf7f4010a9562834742a12569"><div class="ttname"><a href="hw__usb_8h.html#a6a74dc0cf7f4010a9562834742a12569">USB_TXCSRH1_AUTOSET</a></div><div class="ttdeci">#define USB_TXCSRH1_AUTOSET</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01280">hw_usb.h:1280</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a28d9e128ba6150fa5285efb9e56c36bc"><div class="ttname"><a href="hw__usb_8h.html#a28d9e128ba6150fa5285efb9e56c36bc">USB_TXTYPE1_PROTO_BULK</a></div><div class="ttdeci">#define USB_TXTYPE1_PROTO_BULK</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01352">hw_usb.h:1352</a></div></div>
<div class="ttc" id="usb_8h_html_a13cce6caa2ecdaa333ae6a9fe5869e32"><div class="ttname"><a href="usb_8h.html#a13cce6caa2ecdaa333ae6a9fe5869e32">USB_EP_2</a></div><div class="ttdeci">#define USB_EP_2</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00349">usb.h:349</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a2c11924120fbb14d0f29521e30c31264"><div class="ttname"><a href="hw__usb_8h.html#a2c11924120fbb14d0f29521e30c31264">USB_TYPE0_SPEED_LOW</a></div><div class="ttdeci">#define USB_TYPE0_SPEED_LOW</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01241">hw_usb.h:1241</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a10a3276cbd2ee4806cbe3e0f4840b578"><div class="ttname"><a href="hw__usb_8h.html#a10a3276cbd2ee4806cbe3e0f4840b578">USB_O_TXMAXP1</a></div><div class="ttdeci">#define USB_O_TXMAXP1</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00170">hw_usb.h:170</a></div></div>
<div class="ttc" id="usb_8h_html_a4e39f33c6467bddfb7d3e92a2ea5b789"><div class="ttname"><a href="usb_8h.html#a4e39f33c6467bddfb7d3e92a2ea5b789">USB_EP_1</a></div><div class="ttdeci">#define USB_EP_1</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00348">usb.h:348</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a70a09d67fe2b11247e013449470a04d0"><div class="ttname"><a href="hw__usb_8h.html#a70a09d67fe2b11247e013449470a04d0">USB_TXCSRH1_DMAEN</a></div><div class="ttdeci">#define USB_TXCSRH1_DMAEN</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01283">hw_usb.h:1283</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a43f0ae79a371a84ca972532226fc135d"><div class="ttname"><a href="hw__usb_8h.html#a43f0ae79a371a84ca972532226fc135d">USB_O_TXINTERVAL1</a></div><div class="ttdeci">#define USB_O_TXINTERVAL1</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00186">hw_usb.h:186</a></div></div>
<div class="ttc" id="usb_8h_html_ac6ffbe05755a887eff3bee31239d76ee"><div class="ttname"><a href="usb_8h.html#ac6ffbe05755a887eff3bee31239d76ee">USB_EP_AUTO_CLEAR</a></div><div class="ttdeci">#define USB_EP_AUTO_CLEAR</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00228">usb.h:228</a></div></div>
<div class="ttc" id="hw__types_8h_html_a084083ee12e5262f8e54bb56c15ac8c7"><div class="ttname"><a href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a></div><div class="ttdeci">#define HWREGB(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00052">hw_types.h:52</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a1c9620c5171f279a788a4788d3073b90"><div class="ttname"><a href="hw__usb_8h.html#a1c9620c5171f279a788a4788d3073b90">USB_TXTYPE1_SPEED_HIGH</a></div><div class="ttdeci">#define USB_TXTYPE1_SPEED_HIGH</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01346">hw_usb.h:1346</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a74c921b3840ba9d08eabd9de16401bd2"><div class="ttname"><a href="hw__usb_8h.html#a74c921b3840ba9d08eabd9de16401bd2">USB_O_RXMAXP1</a></div><div class="ttdeci">#define USB_O_RXMAXP1</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00176">hw_usb.h:176</a></div></div>
<div class="ttc" id="usb_8h_html_a83597dac986079e006ae113acce82ccb"><div class="ttname"><a href="usb_8h.html#a83597dac986079e006ae113acce82ccb">USB_EP_SPEED_HIGH</a></div><div class="ttdeci">#define USB_EP_SPEED_HIGH</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00241">usb.h:241</a></div></div>
<div class="ttc" id="group__usb__api_html_gaadf74b0caf840f0d3222cb1dc563684c"><div class="ttname"><a href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a></div><div class="ttdeci">#define EP_OFFSET(Endpoint)</div><div class="ttdef"><b>Definition:</b> <a href="usb_8c_source.html#l00082">usb.c:82</a></div></div>
<div class="ttc" id="hw__memmap_8h_html_aa47acf4992407a85e79d911ca1055d17"><div class="ttname"><a href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a></div><div class="ttdeci">#define USB0_BASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__memmap_8h_source.html#l00099">hw_memmap.h:99</a></div></div>
<div class="ttc" id="usb_8h_html_a78dcce1706922dc17a6baf4e8f37150d"><div class="ttname"><a href="usb_8h.html#a78dcce1706922dc17a6baf4e8f37150d">USB_EP_7</a></div><div class="ttdeci">#define USB_EP_7</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00354">usb.h:354</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga74649d54e3b6af8aee335bc3ee13dacb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USBHostEndpointDataAck </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Endpoint</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Acknowledge that data was read from the specified endpoint's FIFO in host mode.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address. </td></tr>
    <tr><td class="paramname">ui32Endpoint</td><td>is the endpoint to access.</td></tr>
  </table>
  </dd>
</dl>
<p>This function acknowledges that the data was read from the endpoint's FIFO. This call is used if processing is required between reading the data and acknowledging that the data has been read.</p>
<dl class="section note"><dt>Note</dt><dd>This function must only be called in host mode.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="usb_8c_source.html#l02947">2947</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="usb_8c_source.html#l00082">EP_OFFSET</a>, <a class="el" href="hw__types_8h_source.html#l00052">HWREGB</a>, <a class="el" href="hw__memmap_8h_source.html#l00099">USB0_BASE</a>, <a class="el" href="hw__usb_8h_source.html#l01213">USB_CSRL0_RXRDY</a>, <a class="el" href="usb_8h_source.html#l00347">USB_EP_0</a>, <a class="el" href="usb_8h_source.html#l00348">USB_EP_1</a>, <a class="el" href="usb_8h_source.html#l00349">USB_EP_2</a>, <a class="el" href="usb_8h_source.html#l00350">USB_EP_3</a>, <a class="el" href="usb_8h_source.html#l00351">USB_EP_4</a>, <a class="el" href="usb_8h_source.html#l00352">USB_EP_5</a>, <a class="el" href="usb_8h_source.html#l00353">USB_EP_6</a>, <a class="el" href="usb_8h_source.html#l00354">USB_EP_7</a>, <a class="el" href="hw__usb_8h_source.html#l00162">USB_O_CSRL0</a>, <a class="el" href="hw__usb_8h_source.html#l00178">USB_O_RXCSRL1</a>, and <a class="el" href="hw__usb_8h_source.html#l01312">USB_RXCSRL1_RXRDY</a>.</p>
<div class="fragment"><div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;{</div>
<div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a>);</div>
<div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32Endpoint == <a class="code" href="usb_8h.html#a17438a2055fa93adc8baabd84a697246">USB_EP_0</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a4e39f33c6467bddfb7d3e92a2ea5b789">USB_EP_1</a>) ||</div>
<div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a13cce6caa2ecdaa333ae6a9fe5869e32">USB_EP_2</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#ab0f7986e9b00a278f0d9546e1d646440">USB_EP_3</a>) ||</div>
<div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a8e177910552fb7eeb3c11ef9e35d7439">USB_EP_4</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a73892b0ca4c30f38c7fef4d7d6fd2caf">USB_EP_5</a>) ||</div>
<div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a4a0a3d355ece777a24c1fcfc192a7ef7">USB_EP_6</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a78dcce1706922dc17a6baf4e8f37150d">USB_EP_7</a>));</div>
<div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;</div>
<div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;    <span class="comment">// Clear RxPktRdy.</span></div>
<div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;    <span class="keywordflow">if</span>(ui32Endpoint == <a class="code" href="usb_8h.html#a17438a2055fa93adc8baabd84a697246">USB_EP_0</a>)</div>
<div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;    {</div>
<div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;        <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a095977f9007e9e6af6f00eab8e1f64b1">USB_O_CSRL0</a>) &amp;= ~<a class="code" href="hw__usb_8h.html#aa46f20c660cc47f9b3d8f9feace51914">USB_CSRL0_RXRDY</a>;</div>
<div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;    }</div>
<div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;    {</div>
<div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;        <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a57bc94dcb14fdfc3f27d6320c7de3a86">USB_O_RXCSRL1</a> + <a class="code" href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a>(ui32Endpoint)) &amp;=</div>
<div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;            ~(<a class="code" href="hw__usb_8h.html#aacc88e8db2bd97c22301ac3544a0d3ce">USB_RXCSRL1_RXRDY</a>);</div>
<div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;    }</div>
<div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;}</div>
<div class="ttc" id="usb_8h_html_a8e177910552fb7eeb3c11ef9e35d7439"><div class="ttname"><a href="usb_8h.html#a8e177910552fb7eeb3c11ef9e35d7439">USB_EP_4</a></div><div class="ttdeci">#define USB_EP_4</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00351">usb.h:351</a></div></div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="hw__usb_8h_html_aacc88e8db2bd97c22301ac3544a0d3ce"><div class="ttname"><a href="hw__usb_8h.html#aacc88e8db2bd97c22301ac3544a0d3ce">USB_RXCSRL1_RXRDY</a></div><div class="ttdeci">#define USB_RXCSRL1_RXRDY</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01312">hw_usb.h:1312</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a57bc94dcb14fdfc3f27d6320c7de3a86"><div class="ttname"><a href="hw__usb_8h.html#a57bc94dcb14fdfc3f27d6320c7de3a86">USB_O_RXCSRL1</a></div><div class="ttdeci">#define USB_O_RXCSRL1</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00178">hw_usb.h:178</a></div></div>
<div class="ttc" id="usb_8h_html_a73892b0ca4c30f38c7fef4d7d6fd2caf"><div class="ttname"><a href="usb_8h.html#a73892b0ca4c30f38c7fef4d7d6fd2caf">USB_EP_5</a></div><div class="ttdeci">#define USB_EP_5</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00352">usb.h:352</a></div></div>
<div class="ttc" id="usb_8h_html_a4a0a3d355ece777a24c1fcfc192a7ef7"><div class="ttname"><a href="usb_8h.html#a4a0a3d355ece777a24c1fcfc192a7ef7">USB_EP_6</a></div><div class="ttdeci">#define USB_EP_6</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00353">usb.h:353</a></div></div>
<div class="ttc" id="usb_8h_html_ab0f7986e9b00a278f0d9546e1d646440"><div class="ttname"><a href="usb_8h.html#ab0f7986e9b00a278f0d9546e1d646440">USB_EP_3</a></div><div class="ttdeci">#define USB_EP_3</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00350">usb.h:350</a></div></div>
<div class="ttc" id="usb_8h_html_a17438a2055fa93adc8baabd84a697246"><div class="ttname"><a href="usb_8h.html#a17438a2055fa93adc8baabd84a697246">USB_EP_0</a></div><div class="ttdeci">#define USB_EP_0</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00347">usb.h:347</a></div></div>
<div class="ttc" id="usb_8h_html_a13cce6caa2ecdaa333ae6a9fe5869e32"><div class="ttname"><a href="usb_8h.html#a13cce6caa2ecdaa333ae6a9fe5869e32">USB_EP_2</a></div><div class="ttdeci">#define USB_EP_2</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00349">usb.h:349</a></div></div>
<div class="ttc" id="usb_8h_html_a4e39f33c6467bddfb7d3e92a2ea5b789"><div class="ttname"><a href="usb_8h.html#a4e39f33c6467bddfb7d3e92a2ea5b789">USB_EP_1</a></div><div class="ttdeci">#define USB_EP_1</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00348">usb.h:348</a></div></div>
<div class="ttc" id="hw__usb_8h_html_aa46f20c660cc47f9b3d8f9feace51914"><div class="ttname"><a href="hw__usb_8h.html#aa46f20c660cc47f9b3d8f9feace51914">USB_CSRL0_RXRDY</a></div><div class="ttdeci">#define USB_CSRL0_RXRDY</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01213">hw_usb.h:1213</a></div></div>
<div class="ttc" id="hw__types_8h_html_a084083ee12e5262f8e54bb56c15ac8c7"><div class="ttname"><a href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a></div><div class="ttdeci">#define HWREGB(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00052">hw_types.h:52</a></div></div>
<div class="ttc" id="group__usb__api_html_gaadf74b0caf840f0d3222cb1dc563684c"><div class="ttname"><a href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a></div><div class="ttdeci">#define EP_OFFSET(Endpoint)</div><div class="ttdef"><b>Definition:</b> <a href="usb_8c_source.html#l00082">usb.c:82</a></div></div>
<div class="ttc" id="hw__memmap_8h_html_aa47acf4992407a85e79d911ca1055d17"><div class="ttname"><a href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a></div><div class="ttdeci">#define USB0_BASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__memmap_8h_source.html#l00099">hw_memmap.h:99</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a095977f9007e9e6af6f00eab8e1f64b1"><div class="ttname"><a href="hw__usb_8h.html#a095977f9007e9e6af6f00eab8e1f64b1">USB_O_CSRL0</a></div><div class="ttdeci">#define USB_O_CSRL0</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00162">hw_usb.h:162</a></div></div>
<div class="ttc" id="usb_8h_html_a78dcce1706922dc17a6baf4e8f37150d"><div class="ttname"><a href="usb_8h.html#a78dcce1706922dc17a6baf4e8f37150d">USB_EP_7</a></div><div class="ttdeci">#define USB_EP_7</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00354">usb.h:354</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gae8dcd09dc4a8d5485ca668a10ae206bf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USBHostEndpointDataToggle </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Endpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bDataToggle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the value data toggle on an endpoint in host mode.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address. </td></tr>
    <tr><td class="paramname">ui32Endpoint</td><td>specifies the endpoint to reset the data toggle. </td></tr>
    <tr><td class="paramname">bDataToggle</td><td>specifies whether to set the state to DATA0 or DATA1. </td></tr>
    <tr><td class="paramname">ui32Flags</td><td>specifies whether to set the IN or OUT endpoint.</td></tr>
  </table>
  </dd>
</dl>
<p>This function is used to force the state of the data toggle in host mode. If the value passed in the <em>bDataToggle</em> parameter is <b>false</b>, then the data toggle is set to the DATA0 state, and if it is <b>true</b> it is set to the DATA1 state. The <em>ui32Flags</em> parameter can be <b>USB_EP_HOST_IN</b> or <b>USB_EP_HOST_OUT</b> to access the desired portion of this endpoint. The <em>ui32Flags</em> parameter is ignored for endpoint zero.</p>
<dl class="section note"><dt>Note</dt><dd>This function must only be called in host mode.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="usb_8c_source.html#l01173">1173</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="usb_8c_source.html#l00082">EP_OFFSET</a>, <a class="el" href="hw__types_8h_source.html#l00052">HWREGB</a>, <a class="el" href="hw__memmap_8h_source.html#l00099">USB0_BASE</a>, <a class="el" href="hw__usb_8h_source.html#l01222">USB_CSRH0_DT</a>, <a class="el" href="hw__usb_8h_source.html#l01221">USB_CSRH0_DTWE</a>, <a class="el" href="usb_8h_source.html#l00347">USB_EP_0</a>, <a class="el" href="usb_8h_source.html#l00348">USB_EP_1</a>, <a class="el" href="usb_8h_source.html#l00349">USB_EP_2</a>, <a class="el" href="usb_8h_source.html#l00350">USB_EP_3</a>, <a class="el" href="usb_8h_source.html#l00351">USB_EP_4</a>, <a class="el" href="usb_8h_source.html#l00352">USB_EP_5</a>, <a class="el" href="usb_8h_source.html#l00353">USB_EP_6</a>, <a class="el" href="usb_8h_source.html#l00354">USB_EP_7</a>, <a class="el" href="usb_8h_source.html#l00242">USB_EP_HOST_IN</a>, <a class="el" href="hw__usb_8h_source.html#l00164">USB_O_CSRH0</a>, <a class="el" href="hw__usb_8h_source.html#l00180">USB_O_RXCSRH1</a>, <a class="el" href="hw__usb_8h_source.html#l00174">USB_O_TXCSRH1</a>, <a class="el" href="hw__usb_8h_source.html#l01327">USB_RXCSRH1_DT</a>, <a class="el" href="hw__usb_8h_source.html#l01326">USB_RXCSRH1_DTWE</a>, <a class="el" href="hw__usb_8h_source.html#l01287">USB_TXCSRH1_DT</a>, and <a class="el" href="hw__usb_8h_source.html#l01286">USB_TXCSRH1_DTWE</a>.</p>
<div class="fragment"><div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;{</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;    uint32_t ui32DataToggle;</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a>);</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32Endpoint == <a class="code" href="usb_8h.html#a17438a2055fa93adc8baabd84a697246">USB_EP_0</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a4e39f33c6467bddfb7d3e92a2ea5b789">USB_EP_1</a>) ||</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a13cce6caa2ecdaa333ae6a9fe5869e32">USB_EP_2</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#ab0f7986e9b00a278f0d9546e1d646440">USB_EP_3</a>) ||</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a8e177910552fb7eeb3c11ef9e35d7439">USB_EP_4</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a73892b0ca4c30f38c7fef4d7d6fd2caf">USB_EP_5</a>) ||</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a4a0a3d355ece777a24c1fcfc192a7ef7">USB_EP_6</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a78dcce1706922dc17a6baf4e8f37150d">USB_EP_7</a>));</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;    <span class="comment">// The data toggle defaults to DATA0.</span></div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;    ui32DataToggle = 0;</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;    <span class="comment">// See if the data toggle must be set to DATA1.</span></div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;    <span class="keywordflow">if</span>(bDataToggle)</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;    {</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;        <span class="comment">// Select the data toggle bit based on the endpoint.</span></div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;        <span class="keywordflow">if</span>(ui32Endpoint == <a class="code" href="usb_8h.html#a17438a2055fa93adc8baabd84a697246">USB_EP_0</a>)</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;        {</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;            ui32DataToggle = <a class="code" href="hw__usb_8h.html#a53d350895f5d8cf5e6010bdf8c105bb4">USB_CSRH0_DT</a>;</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;        }</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(ui32Flags == <a class="code" href="usb_8h.html#a7043469050377562ecd8e46924e150a0">USB_EP_HOST_IN</a>)</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;        {</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;            ui32DataToggle = <a class="code" href="hw__usb_8h.html#a5955eb93ff853fd246ec9eabd08ec50e">USB_RXCSRH1_DT</a>;</div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;        }</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;        {</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;            ui32DataToggle = <a class="code" href="hw__usb_8h.html#a1fd2de9ccb64b357ad1827970dc32779">USB_TXCSRH1_DT</a>;</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;        }</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;    }</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;    <span class="comment">// Set the data toggle based on the endpoint.</span></div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;    <span class="keywordflow">if</span>(ui32Endpoint == <a class="code" href="usb_8h.html#a17438a2055fa93adc8baabd84a697246">USB_EP_0</a>)</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;    {</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;        <span class="comment">// Set the write enable and the bit value for endpoint zero.</span></div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;        <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a49559efd3060e084e68662a070eed5c2">USB_O_CSRH0</a>) =</div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;            ((<a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a49559efd3060e084e68662a070eed5c2">USB_O_CSRH0</a>) &amp;</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;              ~(<a class="code" href="hw__usb_8h.html#a3dfeb869eb77d4235fa81f14e16dcb4f">USB_CSRH0_DTWE</a> | <a class="code" href="hw__usb_8h.html#a53d350895f5d8cf5e6010bdf8c105bb4">USB_CSRH0_DT</a>)) |</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;             (ui32DataToggle | <a class="code" href="hw__usb_8h.html#a3dfeb869eb77d4235fa81f14e16dcb4f">USB_CSRH0_DTWE</a>));</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;    }</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(ui32Flags == <a class="code" href="usb_8h.html#a7043469050377562ecd8e46924e150a0">USB_EP_HOST_IN</a>)</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;    {</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;        <span class="comment">// Set the Write enable and the bit value for an IN endpoint.</span></div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;        <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#af953e2449fe4e26a4a805200be97b03c">USB_O_RXCSRH1</a> + <a class="code" href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a>(ui32Endpoint)) =</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;            ((<a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#af953e2449fe4e26a4a805200be97b03c">USB_O_RXCSRH1</a> + <a class="code" href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a>(ui32Endpoint)) &amp;</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;              ~(<a class="code" href="hw__usb_8h.html#a49a0a2b8744213d777d676496c862838">USB_RXCSRH1_DTWE</a> | <a class="code" href="hw__usb_8h.html#a5955eb93ff853fd246ec9eabd08ec50e">USB_RXCSRH1_DT</a>)) |</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;             (ui32DataToggle | <a class="code" href="hw__usb_8h.html#a49a0a2b8744213d777d676496c862838">USB_RXCSRH1_DTWE</a>));</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;    }</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;    {</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;        <span class="comment">// Set the Write enable and the bit value for an OUT endpoint.</span></div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;        <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#aa2d73dc23a25ea5d43b680cedfbf191e">USB_O_TXCSRH1</a> + <a class="code" href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a>(ui32Endpoint)) =</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;            ((<a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#aa2d73dc23a25ea5d43b680cedfbf191e">USB_O_TXCSRH1</a> + <a class="code" href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a>(ui32Endpoint)) &amp;</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;              ~(<a class="code" href="hw__usb_8h.html#a11b3d8939e767c6f6a67facfae442c13">USB_TXCSRH1_DTWE</a> | <a class="code" href="hw__usb_8h.html#a1fd2de9ccb64b357ad1827970dc32779">USB_TXCSRH1_DT</a>)) |</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;             (ui32DataToggle | <a class="code" href="hw__usb_8h.html#a11b3d8939e767c6f6a67facfae442c13">USB_TXCSRH1_DTWE</a>));</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;    }</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;}</div>
<div class="ttc" id="hw__usb_8h_html_a49559efd3060e084e68662a070eed5c2"><div class="ttname"><a href="hw__usb_8h.html#a49559efd3060e084e68662a070eed5c2">USB_O_CSRH0</a></div><div class="ttdeci">#define USB_O_CSRH0</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00164">hw_usb.h:164</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a5955eb93ff853fd246ec9eabd08ec50e"><div class="ttname"><a href="hw__usb_8h.html#a5955eb93ff853fd246ec9eabd08ec50e">USB_RXCSRH1_DT</a></div><div class="ttdeci">#define USB_RXCSRH1_DT</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01327">hw_usb.h:1327</a></div></div>
<div class="ttc" id="usb_8h_html_a7043469050377562ecd8e46924e150a0"><div class="ttname"><a href="usb_8h.html#a7043469050377562ecd8e46924e150a0">USB_EP_HOST_IN</a></div><div class="ttdeci">#define USB_EP_HOST_IN</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00242">usb.h:242</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a1fd2de9ccb64b357ad1827970dc32779"><div class="ttname"><a href="hw__usb_8h.html#a1fd2de9ccb64b357ad1827970dc32779">USB_TXCSRH1_DT</a></div><div class="ttdeci">#define USB_TXCSRH1_DT</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01287">hw_usb.h:1287</a></div></div>
<div class="ttc" id="usb_8h_html_a8e177910552fb7eeb3c11ef9e35d7439"><div class="ttname"><a href="usb_8h.html#a8e177910552fb7eeb3c11ef9e35d7439">USB_EP_4</a></div><div class="ttdeci">#define USB_EP_4</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00351">usb.h:351</a></div></div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a3dfeb869eb77d4235fa81f14e16dcb4f"><div class="ttname"><a href="hw__usb_8h.html#a3dfeb869eb77d4235fa81f14e16dcb4f">USB_CSRH0_DTWE</a></div><div class="ttdeci">#define USB_CSRH0_DTWE</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01221">hw_usb.h:1221</a></div></div>
<div class="ttc" id="hw__usb_8h_html_af953e2449fe4e26a4a805200be97b03c"><div class="ttname"><a href="hw__usb_8h.html#af953e2449fe4e26a4a805200be97b03c">USB_O_RXCSRH1</a></div><div class="ttdeci">#define USB_O_RXCSRH1</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00180">hw_usb.h:180</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a49a0a2b8744213d777d676496c862838"><div class="ttname"><a href="hw__usb_8h.html#a49a0a2b8744213d777d676496c862838">USB_RXCSRH1_DTWE</a></div><div class="ttdeci">#define USB_RXCSRH1_DTWE</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01326">hw_usb.h:1326</a></div></div>
<div class="ttc" id="hw__usb_8h_html_aa2d73dc23a25ea5d43b680cedfbf191e"><div class="ttname"><a href="hw__usb_8h.html#aa2d73dc23a25ea5d43b680cedfbf191e">USB_O_TXCSRH1</a></div><div class="ttdeci">#define USB_O_TXCSRH1</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00174">hw_usb.h:174</a></div></div>
<div class="ttc" id="usb_8h_html_a73892b0ca4c30f38c7fef4d7d6fd2caf"><div class="ttname"><a href="usb_8h.html#a73892b0ca4c30f38c7fef4d7d6fd2caf">USB_EP_5</a></div><div class="ttdeci">#define USB_EP_5</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00352">usb.h:352</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a11b3d8939e767c6f6a67facfae442c13"><div class="ttname"><a href="hw__usb_8h.html#a11b3d8939e767c6f6a67facfae442c13">USB_TXCSRH1_DTWE</a></div><div class="ttdeci">#define USB_TXCSRH1_DTWE</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01286">hw_usb.h:1286</a></div></div>
<div class="ttc" id="usb_8h_html_a4a0a3d355ece777a24c1fcfc192a7ef7"><div class="ttname"><a href="usb_8h.html#a4a0a3d355ece777a24c1fcfc192a7ef7">USB_EP_6</a></div><div class="ttdeci">#define USB_EP_6</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00353">usb.h:353</a></div></div>
<div class="ttc" id="usb_8h_html_ab0f7986e9b00a278f0d9546e1d646440"><div class="ttname"><a href="usb_8h.html#ab0f7986e9b00a278f0d9546e1d646440">USB_EP_3</a></div><div class="ttdeci">#define USB_EP_3</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00350">usb.h:350</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a53d350895f5d8cf5e6010bdf8c105bb4"><div class="ttname"><a href="hw__usb_8h.html#a53d350895f5d8cf5e6010bdf8c105bb4">USB_CSRH0_DT</a></div><div class="ttdeci">#define USB_CSRH0_DT</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01222">hw_usb.h:1222</a></div></div>
<div class="ttc" id="usb_8h_html_a17438a2055fa93adc8baabd84a697246"><div class="ttname"><a href="usb_8h.html#a17438a2055fa93adc8baabd84a697246">USB_EP_0</a></div><div class="ttdeci">#define USB_EP_0</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00347">usb.h:347</a></div></div>
<div class="ttc" id="usb_8h_html_a13cce6caa2ecdaa333ae6a9fe5869e32"><div class="ttname"><a href="usb_8h.html#a13cce6caa2ecdaa333ae6a9fe5869e32">USB_EP_2</a></div><div class="ttdeci">#define USB_EP_2</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00349">usb.h:349</a></div></div>
<div class="ttc" id="usb_8h_html_a4e39f33c6467bddfb7d3e92a2ea5b789"><div class="ttname"><a href="usb_8h.html#a4e39f33c6467bddfb7d3e92a2ea5b789">USB_EP_1</a></div><div class="ttdeci">#define USB_EP_1</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00348">usb.h:348</a></div></div>
<div class="ttc" id="hw__types_8h_html_a084083ee12e5262f8e54bb56c15ac8c7"><div class="ttname"><a href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a></div><div class="ttdeci">#define HWREGB(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00052">hw_types.h:52</a></div></div>
<div class="ttc" id="group__usb__api_html_gaadf74b0caf840f0d3222cb1dc563684c"><div class="ttname"><a href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a></div><div class="ttdeci">#define EP_OFFSET(Endpoint)</div><div class="ttdef"><b>Definition:</b> <a href="usb_8c_source.html#l00082">usb.c:82</a></div></div>
<div class="ttc" id="hw__memmap_8h_html_aa47acf4992407a85e79d911ca1055d17"><div class="ttname"><a href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a></div><div class="ttdeci">#define USB0_BASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__memmap_8h_source.html#l00099">hw_memmap.h:99</a></div></div>
<div class="ttc" id="usb_8h_html_a78dcce1706922dc17a6baf4e8f37150d"><div class="ttname"><a href="usb_8h.html#a78dcce1706922dc17a6baf4e8f37150d">USB_EP_7</a></div><div class="ttdeci">#define USB_EP_7</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00354">usb.h:354</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga03847418c00f8609f406a753bbc10f12"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USBHostEndpointPing </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Endpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bEnable</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enables or disables ping tokens for an endpoint using high-speed control transfers in host mode.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address. </td></tr>
    <tr><td class="paramname">ui32Endpoint</td><td>specifies the endpoint to enable/disable ping tokens. </td></tr>
    <tr><td class="paramname">bEnable</td><td>specifies whether enable or disable ping tokens.</td></tr>
  </table>
  </dd>
</dl>
<p>This function configures the USB controller to either send or not send ping tokens during the data and status phase of high speed control transfers. The only supported value for <em>ui32Endpoint</em> is <b>USB_EP_0</b> because all control transfers are handled using this endpoint. If the <em>bEnable</em> is <b>true</b> then ping tokens are enabled, if <b>false</b> then ping tokens are disabled. This must be used if the controller must support communications with devices that do not support ping tokens in high speed mode.</p>
<p><b>Example:</b> Disable ping transactions in host mode on endpoint 0.</p>
<pre class="fragment">//! //
//! // Disable ping transaction on endpoint 0.
//! //
//! USBHostEndpointPing(USB0_BASE, USB_EP_0, false);
//! </pre> <pre class="fragment">\note This function must only be called in host mode.

\return None.  </pre> 
<p>Definition at line <a class="el" href="usb_8c_source.html#l01328">1328</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="hw__types_8h_source.html#l00052">HWREGB</a>, <a class="el" href="hw__memmap_8h_source.html#l00099">USB0_BASE</a>, <a class="el" href="hw__usb_8h_source.html#l01220">USB_CSRH0_DISPING</a>, <a class="el" href="usb_8h_source.html#l00347">USB_EP_0</a>, and <a class="el" href="hw__usb_8h_source.html#l00164">USB_O_CSRH0</a>.</p>
<div class="fragment"><div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;{</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a>);</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32Endpoint == <a class="code" href="usb_8h.html#a17438a2055fa93adc8baabd84a697246">USB_EP_0</a>));</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;    <span class="comment">// Handle the endpoint 0 case separately.</span></div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;    <span class="keywordflow">if</span>(bEnable)</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;    {</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;        <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(<a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a> + <a class="code" href="hw__usb_8h.html#a49559efd3060e084e68662a070eed5c2">USB_O_CSRH0</a>) &amp;= ~<a class="code" href="hw__usb_8h.html#aedeb8cce253a583a48d0e59283d2767b">USB_CSRH0_DISPING</a>;</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;    }</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;    {</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;        <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(<a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a> + <a class="code" href="hw__usb_8h.html#a49559efd3060e084e68662a070eed5c2">USB_O_CSRH0</a>) |= <a class="code" href="hw__usb_8h.html#aedeb8cce253a583a48d0e59283d2767b">USB_CSRH0_DISPING</a>;</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;    }</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;}</div>
<div class="ttc" id="hw__usb_8h_html_a49559efd3060e084e68662a070eed5c2"><div class="ttname"><a href="hw__usb_8h.html#a49559efd3060e084e68662a070eed5c2">USB_O_CSRH0</a></div><div class="ttdeci">#define USB_O_CSRH0</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00164">hw_usb.h:164</a></div></div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="hw__usb_8h_html_aedeb8cce253a583a48d0e59283d2767b"><div class="ttname"><a href="hw__usb_8h.html#aedeb8cce253a583a48d0e59283d2767b">USB_CSRH0_DISPING</a></div><div class="ttdeci">#define USB_CSRH0_DISPING</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01220">hw_usb.h:1220</a></div></div>
<div class="ttc" id="usb_8h_html_a17438a2055fa93adc8baabd84a697246"><div class="ttname"><a href="usb_8h.html#a17438a2055fa93adc8baabd84a697246">USB_EP_0</a></div><div class="ttdeci">#define USB_EP_0</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00347">usb.h:347</a></div></div>
<div class="ttc" id="hw__types_8h_html_a084083ee12e5262f8e54bb56c15ac8c7"><div class="ttname"><a href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a></div><div class="ttdeci">#define HWREGB(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00052">hw_types.h:52</a></div></div>
<div class="ttc" id="hw__memmap_8h_html_aa47acf4992407a85e79d911ca1055d17"><div class="ttname"><a href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a></div><div class="ttdeci">#define USB0_BASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__memmap_8h_source.html#l00099">hw_memmap.h:99</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga3dd3bac2941ff16170cc162ac5dc56e7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USBHostEndpointSpeed </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Endpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Changes the speed of the connection for a host endpoint.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address. </td></tr>
    <tr><td class="paramname">ui32Endpoint</td><td>is the endpoint to access. </td></tr>
    <tr><td class="paramname">ui32Flags</td><td>are used to configure other endpoint settings.</td></tr>
  </table>
  </dd>
</dl>
<p>This function sets the USB speed for an IN or OUT endpoint in host mode. The <em>ui32Flags</em> parameter specifies the speed using one of the following values: <b>USB_EP_SPEED_LOW</b>, <b>USB_EP_SPEED_FULL</b>, or <b>USB_EP_SPEED_HIGH</b>. The <em>ui32Flags</em> parameter also specifies which direction is set by adding the logical OR in either <b>USB_EP_HOST_IN</b> or <b>USB_EP_HOST_OUT</b>. All other flags are ignored. This function is typically only used for endpoint 0, but could be used with other endpoints as well.</p>
<p><b>Example:</b> Set host transactions on endpoint 0 to full speed..</p>
<pre class="fragment">//! //
//! // Set host endpoint 0 transactions to full speed.
//! //
//! USBHostEndpointSpeed(USB0_BASE, USB_EP_0, USB_EP_SPEED_FULL);
//! </pre> <pre class="fragment">\note This function must only be called in host mode.

\return None.  </pre> 
<p>Definition at line <a class="el" href="usb_8c_source.html#l01940">1940</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="usb_8c_source.html#l00082">EP_OFFSET</a>, <a class="el" href="hw__types_8h_source.html#l00052">HWREGB</a>, <a class="el" href="hw__types_8h_source.html#l00050">HWREGH</a>, <a class="el" href="hw__memmap_8h_source.html#l00099">USB0_BASE</a>, <a class="el" href="usb_8h_source.html#l00347">USB_EP_0</a>, <a class="el" href="usb_8h_source.html#l00348">USB_EP_1</a>, <a class="el" href="usb_8h_source.html#l00349">USB_EP_2</a>, <a class="el" href="usb_8h_source.html#l00350">USB_EP_3</a>, <a class="el" href="usb_8h_source.html#l00351">USB_EP_4</a>, <a class="el" href="usb_8h_source.html#l00352">USB_EP_5</a>, <a class="el" href="usb_8h_source.html#l00353">USB_EP_6</a>, <a class="el" href="usb_8h_source.html#l00354">USB_EP_7</a>, <a class="el" href="usb_8h_source.html#l00243">USB_EP_HOST_OUT</a>, <a class="el" href="usb_8h_source.html#l00240">USB_EP_SPEED_FULL</a>, <a class="el" href="usb_8h_source.html#l00241">USB_EP_SPEED_HIGH</a>, <a class="el" href="hw__usb_8h_source.html#l00188">USB_O_RXTYPE1</a>, <a class="el" href="hw__usb_8h_source.html#l00184">USB_O_TXTYPE1</a>, <a class="el" href="hw__usb_8h_source.html#l00168">USB_O_TYPE0</a>, <a class="el" href="hw__usb_8h_source.html#l01377">USB_RXTYPE1_SPEED_M</a>, <a class="el" href="hw__usb_8h_source.html#l01344">USB_TXTYPE1_SPEED_M</a>, <a class="el" href="hw__usb_8h_source.html#l01240">USB_TYPE0_SPEED_FULL</a>, <a class="el" href="hw__usb_8h_source.html#l01239">USB_TYPE0_SPEED_HIGH</a>, and <a class="el" href="hw__usb_8h_source.html#l01241">USB_TYPE0_SPEED_LOW</a>.</p>
<div class="fragment"><div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;{</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;    uint32_t ui32Reg;</div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;    uint32_t ui32Speed;</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a>);</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32Endpoint == <a class="code" href="usb_8h.html#a17438a2055fa93adc8baabd84a697246">USB_EP_0</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a4e39f33c6467bddfb7d3e92a2ea5b789">USB_EP_1</a>) ||</div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a13cce6caa2ecdaa333ae6a9fe5869e32">USB_EP_2</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#ab0f7986e9b00a278f0d9546e1d646440">USB_EP_3</a>) ||</div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a8e177910552fb7eeb3c11ef9e35d7439">USB_EP_4</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a73892b0ca4c30f38c7fef4d7d6fd2caf">USB_EP_5</a>) ||</div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a4a0a3d355ece777a24c1fcfc192a7ef7">USB_EP_6</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a78dcce1706922dc17a6baf4e8f37150d">USB_EP_7</a>));</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;</div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;    <span class="comment">// Create the register speed value.</span></div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;    <span class="keywordflow">if</span>(ui32Flags &amp; <a class="code" href="usb_8h.html#a83597dac986079e006ae113acce82ccb">USB_EP_SPEED_HIGH</a>)</div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;    {</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;        ui32Speed = <a class="code" href="hw__usb_8h.html#a4c332d0768cf2ec5bf7c64ecfa3d72c9">USB_TYPE0_SPEED_HIGH</a>;</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;    }</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(ui32Flags &amp; <a class="code" href="usb_8h.html#a45b104ecc0673dc778e652ca88ec45a1">USB_EP_SPEED_FULL</a>)</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;    {</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;        ui32Speed = <a class="code" href="hw__usb_8h.html#ad75009234bcb791c90f83a6eba56558e">USB_TYPE0_SPEED_FULL</a>;</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;    }</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;    {</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;        ui32Speed = <a class="code" href="hw__usb_8h.html#a2c11924120fbb14d0f29521e30c31264">USB_TYPE0_SPEED_LOW</a>;</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;    }</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;    <span class="comment">// Endpoint 0 is handled differently as it is bi-directional.</span></div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;    <span class="keywordflow">if</span>(ui32Endpoint == <a class="code" href="usb_8h.html#a17438a2055fa93adc8baabd84a697246">USB_EP_0</a>)</div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;    {</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;        <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#ae968897d93669d85a774c00bdc5553fb">USB_O_TYPE0</a>) = ui32Speed;</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;    }</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span>(ui32Flags &amp; <a class="code" href="usb_8h.html#a16d74e6681181962aff08fac4ff7176b">USB_EP_HOST_OUT</a>)</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;    {</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;        <span class="comment">// Clear the current speed and set the new speed.</span></div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;        ui32Reg = (<a class="code" href="hw__types_8h.html#ac664ac49fa3d7c414f67572e522a74fb">HWREGH</a>(ui32Base + <a class="code" href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a>(ui32Endpoint) + <a class="code" href="hw__usb_8h.html#a855cd09323bbba69032b89d2160d3490">USB_O_TXTYPE1</a>) &amp;</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;                   ~(<a class="code" href="hw__usb_8h.html#a9122ae4476961b89262804328282d1ab">USB_TXTYPE1_SPEED_M</a>));</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;        ui32Reg |= ui32Speed;</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;        <a class="code" href="hw__types_8h.html#ac664ac49fa3d7c414f67572e522a74fb">HWREGH</a>(ui32Base + <a class="code" href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a>(ui32Endpoint) + <a class="code" href="hw__usb_8h.html#a855cd09323bbba69032b89d2160d3490">USB_O_TXTYPE1</a>) |= ui32Reg;</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;    }</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;    {</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;        <span class="comment">// Clear the current speed and set the new speed.</span></div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;        ui32Reg = (<a class="code" href="hw__types_8h.html#ac664ac49fa3d7c414f67572e522a74fb">HWREGH</a>(ui32Base + <a class="code" href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a>(ui32Endpoint) + <a class="code" href="hw__usb_8h.html#a916127bf93c85870b97f19d8d5d7d4f0">USB_O_RXTYPE1</a>) &amp;</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;                   ~(<a class="code" href="hw__usb_8h.html#a3668954cf466d7d006d588fe6d106b4e">USB_RXTYPE1_SPEED_M</a>));</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;        ui32Reg |= ui32Speed;</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;        <a class="code" href="hw__types_8h.html#ac664ac49fa3d7c414f67572e522a74fb">HWREGH</a>(ui32Base + <a class="code" href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a>(ui32Endpoint) + <a class="code" href="hw__usb_8h.html#a916127bf93c85870b97f19d8d5d7d4f0">USB_O_RXTYPE1</a>) |= ui32Reg;</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;    }</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;}</div>
<div class="ttc" id="hw__usb_8h_html_ae968897d93669d85a774c00bdc5553fb"><div class="ttname"><a href="hw__usb_8h.html#ae968897d93669d85a774c00bdc5553fb">USB_O_TYPE0</a></div><div class="ttdeci">#define USB_O_TYPE0</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00168">hw_usb.h:168</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a916127bf93c85870b97f19d8d5d7d4f0"><div class="ttname"><a href="hw__usb_8h.html#a916127bf93c85870b97f19d8d5d7d4f0">USB_O_RXTYPE1</a></div><div class="ttdeci">#define USB_O_RXTYPE1</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00188">hw_usb.h:188</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a4c332d0768cf2ec5bf7c64ecfa3d72c9"><div class="ttname"><a href="hw__usb_8h.html#a4c332d0768cf2ec5bf7c64ecfa3d72c9">USB_TYPE0_SPEED_HIGH</a></div><div class="ttdeci">#define USB_TYPE0_SPEED_HIGH</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01239">hw_usb.h:1239</a></div></div>
<div class="ttc" id="usb_8h_html_a8e177910552fb7eeb3c11ef9e35d7439"><div class="ttname"><a href="usb_8h.html#a8e177910552fb7eeb3c11ef9e35d7439">USB_EP_4</a></div><div class="ttdeci">#define USB_EP_4</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00351">usb.h:351</a></div></div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="usb_8h_html_a45b104ecc0673dc778e652ca88ec45a1"><div class="ttname"><a href="usb_8h.html#a45b104ecc0673dc778e652ca88ec45a1">USB_EP_SPEED_FULL</a></div><div class="ttdeci">#define USB_EP_SPEED_FULL</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00240">usb.h:240</a></div></div>
<div class="ttc" id="usb_8h_html_a73892b0ca4c30f38c7fef4d7d6fd2caf"><div class="ttname"><a href="usb_8h.html#a73892b0ca4c30f38c7fef4d7d6fd2caf">USB_EP_5</a></div><div class="ttdeci">#define USB_EP_5</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00352">usb.h:352</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a3668954cf466d7d006d588fe6d106b4e"><div class="ttname"><a href="hw__usb_8h.html#a3668954cf466d7d006d588fe6d106b4e">USB_RXTYPE1_SPEED_M</a></div><div class="ttdeci">#define USB_RXTYPE1_SPEED_M</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01377">hw_usb.h:1377</a></div></div>
<div class="ttc" id="hw__types_8h_html_ac664ac49fa3d7c414f67572e522a74fb"><div class="ttname"><a href="hw__types_8h.html#ac664ac49fa3d7c414f67572e522a74fb">HWREGH</a></div><div class="ttdeci">#define HWREGH(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00050">hw_types.h:50</a></div></div>
<div class="ttc" id="usb_8h_html_a16d74e6681181962aff08fac4ff7176b"><div class="ttname"><a href="usb_8h.html#a16d74e6681181962aff08fac4ff7176b">USB_EP_HOST_OUT</a></div><div class="ttdeci">#define USB_EP_HOST_OUT</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00243">usb.h:243</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a855cd09323bbba69032b89d2160d3490"><div class="ttname"><a href="hw__usb_8h.html#a855cd09323bbba69032b89d2160d3490">USB_O_TXTYPE1</a></div><div class="ttdeci">#define USB_O_TXTYPE1</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00184">hw_usb.h:184</a></div></div>
<div class="ttc" id="hw__usb_8h_html_ad75009234bcb791c90f83a6eba56558e"><div class="ttname"><a href="hw__usb_8h.html#ad75009234bcb791c90f83a6eba56558e">USB_TYPE0_SPEED_FULL</a></div><div class="ttdeci">#define USB_TYPE0_SPEED_FULL</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01240">hw_usb.h:1240</a></div></div>
<div class="ttc" id="usb_8h_html_a4a0a3d355ece777a24c1fcfc192a7ef7"><div class="ttname"><a href="usb_8h.html#a4a0a3d355ece777a24c1fcfc192a7ef7">USB_EP_6</a></div><div class="ttdeci">#define USB_EP_6</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00353">usb.h:353</a></div></div>
<div class="ttc" id="usb_8h_html_ab0f7986e9b00a278f0d9546e1d646440"><div class="ttname"><a href="usb_8h.html#ab0f7986e9b00a278f0d9546e1d646440">USB_EP_3</a></div><div class="ttdeci">#define USB_EP_3</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00350">usb.h:350</a></div></div>
<div class="ttc" id="usb_8h_html_a17438a2055fa93adc8baabd84a697246"><div class="ttname"><a href="usb_8h.html#a17438a2055fa93adc8baabd84a697246">USB_EP_0</a></div><div class="ttdeci">#define USB_EP_0</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00347">usb.h:347</a></div></div>
<div class="ttc" id="usb_8h_html_a13cce6caa2ecdaa333ae6a9fe5869e32"><div class="ttname"><a href="usb_8h.html#a13cce6caa2ecdaa333ae6a9fe5869e32">USB_EP_2</a></div><div class="ttdeci">#define USB_EP_2</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00349">usb.h:349</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a2c11924120fbb14d0f29521e30c31264"><div class="ttname"><a href="hw__usb_8h.html#a2c11924120fbb14d0f29521e30c31264">USB_TYPE0_SPEED_LOW</a></div><div class="ttdeci">#define USB_TYPE0_SPEED_LOW</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01241">hw_usb.h:1241</a></div></div>
<div class="ttc" id="usb_8h_html_a4e39f33c6467bddfb7d3e92a2ea5b789"><div class="ttname"><a href="usb_8h.html#a4e39f33c6467bddfb7d3e92a2ea5b789">USB_EP_1</a></div><div class="ttdeci">#define USB_EP_1</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00348">usb.h:348</a></div></div>
<div class="ttc" id="hw__types_8h_html_a084083ee12e5262f8e54bb56c15ac8c7"><div class="ttname"><a href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a></div><div class="ttdeci">#define HWREGB(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00052">hw_types.h:52</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a9122ae4476961b89262804328282d1ab"><div class="ttname"><a href="hw__usb_8h.html#a9122ae4476961b89262804328282d1ab">USB_TXTYPE1_SPEED_M</a></div><div class="ttdeci">#define USB_TXTYPE1_SPEED_M</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01344">hw_usb.h:1344</a></div></div>
<div class="ttc" id="usb_8h_html_a83597dac986079e006ae113acce82ccb"><div class="ttname"><a href="usb_8h.html#a83597dac986079e006ae113acce82ccb">USB_EP_SPEED_HIGH</a></div><div class="ttdeci">#define USB_EP_SPEED_HIGH</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00241">usb.h:241</a></div></div>
<div class="ttc" id="group__usb__api_html_gaadf74b0caf840f0d3222cb1dc563684c"><div class="ttname"><a href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a></div><div class="ttdeci">#define EP_OFFSET(Endpoint)</div><div class="ttdef"><b>Definition:</b> <a href="usb_8c_source.html#l00082">usb.c:82</a></div></div>
<div class="ttc" id="hw__memmap_8h_html_aa47acf4992407a85e79d911ca1055d17"><div class="ttname"><a href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a></div><div class="ttdeci">#define USB0_BASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__memmap_8h_source.html#l00099">hw_memmap.h:99</a></div></div>
<div class="ttc" id="usb_8h_html_a78dcce1706922dc17a6baf4e8f37150d"><div class="ttname"><a href="usb_8h.html#a78dcce1706922dc17a6baf4e8f37150d">USB_EP_7</a></div><div class="ttdeci">#define USB_EP_7</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00354">usb.h:354</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gaa6c7268ab8985502d6db54c2773614e3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USBHostEndpointStatusClear </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Endpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Clears the status bits in this endpoint in host mode.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address. </td></tr>
    <tr><td class="paramname">ui32Endpoint</td><td>is the endpoint to access. </td></tr>
    <tr><td class="paramname">ui32Flags</td><td>are the status bits that are cleared.</td></tr>
  </table>
  </dd>
</dl>
<p>This function clears the status of any bits that are passed in the <em>ui32Flags</em> parameter. The <em>ui32Flags</em> parameter can take the value returned from the <a class="el" href="group__usb__api.html#ga2320e3a284b3b809d6dab77def7dfe49">USBEndpointStatus()</a> call.</p>
<dl class="section note"><dt>Note</dt><dd>This function must only be called in host mode.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="usb_8c_source.html#l01043">1043</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="usb_8c_source.html#l00082">EP_OFFSET</a>, <a class="el" href="hw__types_8h_source.html#l00052">HWREGB</a>, <a class="el" href="hw__memmap_8h_source.html#l00099">USB0_BASE</a>, <a class="el" href="usb_8h_source.html#l00347">USB_EP_0</a>, <a class="el" href="usb_8h_source.html#l00348">USB_EP_1</a>, <a class="el" href="usb_8h_source.html#l00349">USB_EP_2</a>, <a class="el" href="usb_8h_source.html#l00350">USB_EP_3</a>, <a class="el" href="usb_8h_source.html#l00351">USB_EP_4</a>, <a class="el" href="usb_8h_source.html#l00352">USB_EP_5</a>, <a class="el" href="usb_8h_source.html#l00353">USB_EP_6</a>, <a class="el" href="usb_8h_source.html#l00354">USB_EP_7</a>, <a class="el" href="hw__usb_8h_source.html#l00162">USB_O_CSRL0</a>, <a class="el" href="hw__usb_8h_source.html#l00178">USB_O_RXCSRL1</a>, <a class="el" href="hw__usb_8h_source.html#l00172">USB_O_TXCSRL1</a>, and <a class="el" href="usb_8c_source.html#l00074">USB_RX_EPSTATUS_SHIFT</a>.</p>
<div class="fragment"><div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;{</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a>);</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32Endpoint == <a class="code" href="usb_8h.html#a17438a2055fa93adc8baabd84a697246">USB_EP_0</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a4e39f33c6467bddfb7d3e92a2ea5b789">USB_EP_1</a>) ||</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a13cce6caa2ecdaa333ae6a9fe5869e32">USB_EP_2</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#ab0f7986e9b00a278f0d9546e1d646440">USB_EP_3</a>) ||</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a8e177910552fb7eeb3c11ef9e35d7439">USB_EP_4</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a73892b0ca4c30f38c7fef4d7d6fd2caf">USB_EP_5</a>) ||</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a4a0a3d355ece777a24c1fcfc192a7ef7">USB_EP_6</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a78dcce1706922dc17a6baf4e8f37150d">USB_EP_7</a>));</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;    <span class="comment">// Clear the specified flags for the endpoint.</span></div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;    <span class="keywordflow">if</span>(ui32Endpoint == <a class="code" href="usb_8h.html#a17438a2055fa93adc8baabd84a697246">USB_EP_0</a>)</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;    {</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;        <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a095977f9007e9e6af6f00eab8e1f64b1">USB_O_CSRL0</a>) &amp;= ~ui32Flags;</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;    }</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;    {</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;        <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a66b5ac3ba5d076b8fd632c377db5c09e">USB_O_TXCSRL1</a> + <a class="code" href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a>(ui32Endpoint)) &amp;=</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;            ~ui32Flags;</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;        <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a57bc94dcb14fdfc3f27d6320c7de3a86">USB_O_RXCSRL1</a> + <a class="code" href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a>(ui32Endpoint)) &amp;=</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;            ~(ui32Flags &gt;&gt; <a class="code" href="group__usb__api.html#ga20ceb718c0b5bea3d8b0a8d89919160c">USB_RX_EPSTATUS_SHIFT</a>);</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;    }</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;}</div>
<div class="ttc" id="group__usb__api_html_ga20ceb718c0b5bea3d8b0a8d89919160c"><div class="ttname"><a href="group__usb__api.html#ga20ceb718c0b5bea3d8b0a8d89919160c">USB_RX_EPSTATUS_SHIFT</a></div><div class="ttdeci">#define USB_RX_EPSTATUS_SHIFT</div><div class="ttdef"><b>Definition:</b> <a href="usb_8c_source.html#l00074">usb.c:74</a></div></div>
<div class="ttc" id="usb_8h_html_a8e177910552fb7eeb3c11ef9e35d7439"><div class="ttname"><a href="usb_8h.html#a8e177910552fb7eeb3c11ef9e35d7439">USB_EP_4</a></div><div class="ttdeci">#define USB_EP_4</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00351">usb.h:351</a></div></div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a57bc94dcb14fdfc3f27d6320c7de3a86"><div class="ttname"><a href="hw__usb_8h.html#a57bc94dcb14fdfc3f27d6320c7de3a86">USB_O_RXCSRL1</a></div><div class="ttdeci">#define USB_O_RXCSRL1</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00178">hw_usb.h:178</a></div></div>
<div class="ttc" id="usb_8h_html_a73892b0ca4c30f38c7fef4d7d6fd2caf"><div class="ttname"><a href="usb_8h.html#a73892b0ca4c30f38c7fef4d7d6fd2caf">USB_EP_5</a></div><div class="ttdeci">#define USB_EP_5</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00352">usb.h:352</a></div></div>
<div class="ttc" id="usb_8h_html_a4a0a3d355ece777a24c1fcfc192a7ef7"><div class="ttname"><a href="usb_8h.html#a4a0a3d355ece777a24c1fcfc192a7ef7">USB_EP_6</a></div><div class="ttdeci">#define USB_EP_6</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00353">usb.h:353</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a66b5ac3ba5d076b8fd632c377db5c09e"><div class="ttname"><a href="hw__usb_8h.html#a66b5ac3ba5d076b8fd632c377db5c09e">USB_O_TXCSRL1</a></div><div class="ttdeci">#define USB_O_TXCSRL1</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00172">hw_usb.h:172</a></div></div>
<div class="ttc" id="usb_8h_html_ab0f7986e9b00a278f0d9546e1d646440"><div class="ttname"><a href="usb_8h.html#ab0f7986e9b00a278f0d9546e1d646440">USB_EP_3</a></div><div class="ttdeci">#define USB_EP_3</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00350">usb.h:350</a></div></div>
<div class="ttc" id="usb_8h_html_a17438a2055fa93adc8baabd84a697246"><div class="ttname"><a href="usb_8h.html#a17438a2055fa93adc8baabd84a697246">USB_EP_0</a></div><div class="ttdeci">#define USB_EP_0</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00347">usb.h:347</a></div></div>
<div class="ttc" id="usb_8h_html_a13cce6caa2ecdaa333ae6a9fe5869e32"><div class="ttname"><a href="usb_8h.html#a13cce6caa2ecdaa333ae6a9fe5869e32">USB_EP_2</a></div><div class="ttdeci">#define USB_EP_2</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00349">usb.h:349</a></div></div>
<div class="ttc" id="usb_8h_html_a4e39f33c6467bddfb7d3e92a2ea5b789"><div class="ttname"><a href="usb_8h.html#a4e39f33c6467bddfb7d3e92a2ea5b789">USB_EP_1</a></div><div class="ttdeci">#define USB_EP_1</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00348">usb.h:348</a></div></div>
<div class="ttc" id="hw__types_8h_html_a084083ee12e5262f8e54bb56c15ac8c7"><div class="ttname"><a href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a></div><div class="ttdeci">#define HWREGB(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00052">hw_types.h:52</a></div></div>
<div class="ttc" id="group__usb__api_html_gaadf74b0caf840f0d3222cb1dc563684c"><div class="ttname"><a href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a></div><div class="ttdeci">#define EP_OFFSET(Endpoint)</div><div class="ttdef"><b>Definition:</b> <a href="usb_8c_source.html#l00082">usb.c:82</a></div></div>
<div class="ttc" id="hw__memmap_8h_html_aa47acf4992407a85e79d911ca1055d17"><div class="ttname"><a href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a></div><div class="ttdeci">#define USB0_BASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__memmap_8h_source.html#l00099">hw_memmap.h:99</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a095977f9007e9e6af6f00eab8e1f64b1"><div class="ttname"><a href="hw__usb_8h.html#a095977f9007e9e6af6f00eab8e1f64b1">USB_O_CSRL0</a></div><div class="ttdeci">#define USB_O_CSRL0</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00162">hw_usb.h:162</a></div></div>
<div class="ttc" id="usb_8h_html_a78dcce1706922dc17a6baf4e8f37150d"><div class="ttname"><a href="usb_8h.html#a78dcce1706922dc17a6baf4e8f37150d">USB_EP_7</a></div><div class="ttdeci">#define USB_EP_7</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00354">usb.h:354</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga60b492df8f7282997281a43aaaef8ede"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t USBHostHubAddrGet </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Endpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets the current device hub address for this endpoint.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address. </td></tr>
    <tr><td class="paramname">ui32Endpoint</td><td>is the endpoint to access. </td></tr>
    <tr><td class="paramname">ui32Flags</td><td>determines if this is an IN or an OUT endpoint.</td></tr>
  </table>
  </dd>
</dl>
<p>This function returns the current hub address that an endpoint is using to communicate with a device. The <em>ui32Flags</em> parameter determines if the device address for the IN or OUT endpoint is returned.</p>
<dl class="section note"><dt>Note</dt><dd>This function must only be called in host mode.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>This function returns the current hub address being used by an endpoint. </dd></dl>

<p>Definition at line <a class="el" href="usb_8c_source.html#l03539">3539</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="hw__types_8h_source.html#l00052">HWREGB</a>, <a class="el" href="hw__memmap_8h_source.html#l00099">USB0_BASE</a>, <a class="el" href="usb_8h_source.html#l00347">USB_EP_0</a>, <a class="el" href="usb_8h_source.html#l00348">USB_EP_1</a>, <a class="el" href="usb_8h_source.html#l00349">USB_EP_2</a>, <a class="el" href="usb_8h_source.html#l00350">USB_EP_3</a>, <a class="el" href="usb_8h_source.html#l00351">USB_EP_4</a>, <a class="el" href="usb_8h_source.html#l00352">USB_EP_5</a>, <a class="el" href="usb_8h_source.html#l00353">USB_EP_6</a>, <a class="el" href="usb_8h_source.html#l00354">USB_EP_7</a>, <a class="el" href="usb_8h_source.html#l00243">USB_EP_HOST_OUT</a>, and <a class="el" href="hw__usb_8h_source.html#l00089">USB_O_TXHUBADDR0</a>.</p>
<div class="fragment"><div class="line"><a name="l03540"></a><span class="lineno"> 3540</span>&#160;{</div>
<div class="line"><a name="l03541"></a><span class="lineno"> 3541</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03542"></a><span class="lineno"> 3542</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l03543"></a><span class="lineno"> 3543</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03544"></a><span class="lineno"> 3544</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a>);</div>
<div class="line"><a name="l03545"></a><span class="lineno"> 3545</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32Endpoint == <a class="code" href="usb_8h.html#a17438a2055fa93adc8baabd84a697246">USB_EP_0</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a4e39f33c6467bddfb7d3e92a2ea5b789">USB_EP_1</a>) ||</div>
<div class="line"><a name="l03546"></a><span class="lineno"> 3546</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a13cce6caa2ecdaa333ae6a9fe5869e32">USB_EP_2</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#ab0f7986e9b00a278f0d9546e1d646440">USB_EP_3</a>) ||</div>
<div class="line"><a name="l03547"></a><span class="lineno"> 3547</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a8e177910552fb7eeb3c11ef9e35d7439">USB_EP_4</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a73892b0ca4c30f38c7fef4d7d6fd2caf">USB_EP_5</a>) ||</div>
<div class="line"><a name="l03548"></a><span class="lineno"> 3548</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a4a0a3d355ece777a24c1fcfc192a7ef7">USB_EP_6</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a78dcce1706922dc17a6baf4e8f37150d">USB_EP_7</a>));</div>
<div class="line"><a name="l03549"></a><span class="lineno"> 3549</span>&#160;</div>
<div class="line"><a name="l03550"></a><span class="lineno"> 3550</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03551"></a><span class="lineno"> 3551</span>&#160;    <span class="comment">// See if the hub transmit or receive address is returned.</span></div>
<div class="line"><a name="l03552"></a><span class="lineno"> 3552</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03553"></a><span class="lineno"> 3553</span>&#160;    <span class="keywordflow">if</span>(ui32Flags &amp; <a class="code" href="usb_8h.html#a16d74e6681181962aff08fac4ff7176b">USB_EP_HOST_OUT</a>)</div>
<div class="line"><a name="l03554"></a><span class="lineno"> 3554</span>&#160;    {</div>
<div class="line"><a name="l03555"></a><span class="lineno"> 3555</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l03556"></a><span class="lineno"> 3556</span>&#160;        <span class="comment">// Return the hub transmit address for this endpoint.</span></div>
<div class="line"><a name="l03557"></a><span class="lineno"> 3557</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l03558"></a><span class="lineno"> 3558</span>&#160;        <span class="keywordflow">return</span>(<a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a78c890fa962c4d6c74d1b518ab55c099">USB_O_TXHUBADDR0</a> + (ui32Endpoint &gt;&gt; 1)));</div>
<div class="line"><a name="l03559"></a><span class="lineno"> 3559</span>&#160;    }</div>
<div class="line"><a name="l03560"></a><span class="lineno"> 3560</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l03561"></a><span class="lineno"> 3561</span>&#160;    {</div>
<div class="line"><a name="l03562"></a><span class="lineno"> 3562</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l03563"></a><span class="lineno"> 3563</span>&#160;        <span class="comment">// Return the hub receive address for this endpoint.</span></div>
<div class="line"><a name="l03564"></a><span class="lineno"> 3564</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l03565"></a><span class="lineno"> 3565</span>&#160;        <span class="keywordflow">return</span>(<a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a78c890fa962c4d6c74d1b518ab55c099">USB_O_TXHUBADDR0</a> + 4 + (ui32Endpoint &gt;&gt; 1)));</div>
<div class="line"><a name="l03566"></a><span class="lineno"> 3566</span>&#160;    }</div>
<div class="line"><a name="l03567"></a><span class="lineno"> 3567</span>&#160;}</div>
<div class="ttc" id="usb_8h_html_a8e177910552fb7eeb3c11ef9e35d7439"><div class="ttname"><a href="usb_8h.html#a8e177910552fb7eeb3c11ef9e35d7439">USB_EP_4</a></div><div class="ttdeci">#define USB_EP_4</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00351">usb.h:351</a></div></div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="usb_8h_html_a73892b0ca4c30f38c7fef4d7d6fd2caf"><div class="ttname"><a href="usb_8h.html#a73892b0ca4c30f38c7fef4d7d6fd2caf">USB_EP_5</a></div><div class="ttdeci">#define USB_EP_5</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00352">usb.h:352</a></div></div>
<div class="ttc" id="usb_8h_html_a16d74e6681181962aff08fac4ff7176b"><div class="ttname"><a href="usb_8h.html#a16d74e6681181962aff08fac4ff7176b">USB_EP_HOST_OUT</a></div><div class="ttdeci">#define USB_EP_HOST_OUT</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00243">usb.h:243</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a78c890fa962c4d6c74d1b518ab55c099"><div class="ttname"><a href="hw__usb_8h.html#a78c890fa962c4d6c74d1b518ab55c099">USB_O_TXHUBADDR0</a></div><div class="ttdeci">#define USB_O_TXHUBADDR0</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00089">hw_usb.h:89</a></div></div>
<div class="ttc" id="usb_8h_html_a4a0a3d355ece777a24c1fcfc192a7ef7"><div class="ttname"><a href="usb_8h.html#a4a0a3d355ece777a24c1fcfc192a7ef7">USB_EP_6</a></div><div class="ttdeci">#define USB_EP_6</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00353">usb.h:353</a></div></div>
<div class="ttc" id="usb_8h_html_ab0f7986e9b00a278f0d9546e1d646440"><div class="ttname"><a href="usb_8h.html#ab0f7986e9b00a278f0d9546e1d646440">USB_EP_3</a></div><div class="ttdeci">#define USB_EP_3</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00350">usb.h:350</a></div></div>
<div class="ttc" id="usb_8h_html_a17438a2055fa93adc8baabd84a697246"><div class="ttname"><a href="usb_8h.html#a17438a2055fa93adc8baabd84a697246">USB_EP_0</a></div><div class="ttdeci">#define USB_EP_0</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00347">usb.h:347</a></div></div>
<div class="ttc" id="usb_8h_html_a13cce6caa2ecdaa333ae6a9fe5869e32"><div class="ttname"><a href="usb_8h.html#a13cce6caa2ecdaa333ae6a9fe5869e32">USB_EP_2</a></div><div class="ttdeci">#define USB_EP_2</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00349">usb.h:349</a></div></div>
<div class="ttc" id="usb_8h_html_a4e39f33c6467bddfb7d3e92a2ea5b789"><div class="ttname"><a href="usb_8h.html#a4e39f33c6467bddfb7d3e92a2ea5b789">USB_EP_1</a></div><div class="ttdeci">#define USB_EP_1</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00348">usb.h:348</a></div></div>
<div class="ttc" id="hw__types_8h_html_a084083ee12e5262f8e54bb56c15ac8c7"><div class="ttname"><a href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a></div><div class="ttdeci">#define HWREGB(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00052">hw_types.h:52</a></div></div>
<div class="ttc" id="hw__memmap_8h_html_aa47acf4992407a85e79d911ca1055d17"><div class="ttname"><a href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a></div><div class="ttdeci">#define USB0_BASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__memmap_8h_source.html#l00099">hw_memmap.h:99</a></div></div>
<div class="ttc" id="usb_8h_html_a78dcce1706922dc17a6baf4e8f37150d"><div class="ttname"><a href="usb_8h.html#a78dcce1706922dc17a6baf4e8f37150d">USB_EP_7</a></div><div class="ttdeci">#define USB_EP_7</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00354">usb.h:354</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga2feb9ed9cfb39b7e18fd8bd41173204b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USBHostHubAddrSet </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Endpoint</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the hub address for the device that is connected to an endpoint.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address. </td></tr>
    <tr><td class="paramname">ui32Endpoint</td><td>is the endpoint to access. </td></tr>
    <tr><td class="paramname">ui32Addr</td><td>is the hub address and port for the device using this endpoint. The hub address must be defined in bits 0 through 6 with the port number in bits 8 through 14. </td></tr>
    <tr><td class="paramname">ui32Flags</td><td>determines if this is an IN or an OUT endpoint.</td></tr>
  </table>
  </dd>
</dl>
<p>This function configures the hub address for a device that is using this endpoint for communication. The <em>ui32Flags</em> parameter determines if the device address for the IN or the OUT endpoint is configured by this call and sets the speed of the downstream device. Valid values are one of <b>USB_EP_HOST_OUT</b> or <b>USB_EP_HOST_IN</b> optionally ORed with <b>USB_EP_SPEED_LOW</b>.</p>
<dl class="section note"><dt>Note</dt><dd>This function must only be called in host mode.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="usb_8c_source.html#l03467">3467</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="hw__types_8h_source.html#l00052">HWREGB</a>, <a class="el" href="hw__types_8h_source.html#l00050">HWREGH</a>, <a class="el" href="hw__memmap_8h_source.html#l00099">USB0_BASE</a>, <a class="el" href="usb_8h_source.html#l00347">USB_EP_0</a>, <a class="el" href="usb_8h_source.html#l00348">USB_EP_1</a>, <a class="el" href="usb_8h_source.html#l00349">USB_EP_2</a>, <a class="el" href="usb_8h_source.html#l00350">USB_EP_3</a>, <a class="el" href="usb_8h_source.html#l00351">USB_EP_4</a>, <a class="el" href="usb_8h_source.html#l00352">USB_EP_5</a>, <a class="el" href="usb_8h_source.html#l00353">USB_EP_6</a>, <a class="el" href="usb_8h_source.html#l00354">USB_EP_7</a>, <a class="el" href="usb_8h_source.html#l00243">USB_EP_HOST_OUT</a>, <a class="el" href="usb_8h_source.html#l00240">USB_EP_SPEED_FULL</a>, <a class="el" href="usb_8h_source.html#l00241">USB_EP_SPEED_HIGH</a>, <a class="el" href="hw__usb_8h_source.html#l00089">USB_O_TXHUBADDR0</a>, <a class="el" href="hw__usb_8h_source.html#l00168">USB_O_TYPE0</a>, <a class="el" href="hw__usb_8h_source.html#l01240">USB_TYPE0_SPEED_FULL</a>, <a class="el" href="hw__usb_8h_source.html#l01239">USB_TYPE0_SPEED_HIGH</a>, and <a class="el" href="hw__usb_8h_source.html#l01241">USB_TYPE0_SPEED_LOW</a>.</p>
<div class="fragment"><div class="line"><a name="l03469"></a><span class="lineno"> 3469</span>&#160;{</div>
<div class="line"><a name="l03470"></a><span class="lineno"> 3470</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03471"></a><span class="lineno"> 3471</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l03472"></a><span class="lineno"> 3472</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03473"></a><span class="lineno"> 3473</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a>);</div>
<div class="line"><a name="l03474"></a><span class="lineno"> 3474</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32Endpoint == <a class="code" href="usb_8h.html#a17438a2055fa93adc8baabd84a697246">USB_EP_0</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a4e39f33c6467bddfb7d3e92a2ea5b789">USB_EP_1</a>) ||</div>
<div class="line"><a name="l03475"></a><span class="lineno"> 3475</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a13cce6caa2ecdaa333ae6a9fe5869e32">USB_EP_2</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#ab0f7986e9b00a278f0d9546e1d646440">USB_EP_3</a>) ||</div>
<div class="line"><a name="l03476"></a><span class="lineno"> 3476</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a8e177910552fb7eeb3c11ef9e35d7439">USB_EP_4</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a73892b0ca4c30f38c7fef4d7d6fd2caf">USB_EP_5</a>) ||</div>
<div class="line"><a name="l03477"></a><span class="lineno"> 3477</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a4a0a3d355ece777a24c1fcfc192a7ef7">USB_EP_6</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a78dcce1706922dc17a6baf4e8f37150d">USB_EP_7</a>));</div>
<div class="line"><a name="l03478"></a><span class="lineno"> 3478</span>&#160;</div>
<div class="line"><a name="l03479"></a><span class="lineno"> 3479</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03480"></a><span class="lineno"> 3480</span>&#160;    <span class="comment">// See if the hub transmit or receive address is being set.</span></div>
<div class="line"><a name="l03481"></a><span class="lineno"> 3481</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03482"></a><span class="lineno"> 3482</span>&#160;    <span class="keywordflow">if</span>(ui32Flags &amp; <a class="code" href="usb_8h.html#a16d74e6681181962aff08fac4ff7176b">USB_EP_HOST_OUT</a>)</div>
<div class="line"><a name="l03483"></a><span class="lineno"> 3483</span>&#160;    {</div>
<div class="line"><a name="l03484"></a><span class="lineno"> 3484</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l03485"></a><span class="lineno"> 3485</span>&#160;        <span class="comment">// Set the hub transmit address and port number for this endpoint.</span></div>
<div class="line"><a name="l03486"></a><span class="lineno"> 3486</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l03487"></a><span class="lineno"> 3487</span>&#160;        <a class="code" href="hw__types_8h.html#ac664ac49fa3d7c414f67572e522a74fb">HWREGH</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a78c890fa962c4d6c74d1b518ab55c099">USB_O_TXHUBADDR0</a> + (ui32Endpoint &gt;&gt; 1)) = ui32Addr;</div>
<div class="line"><a name="l03488"></a><span class="lineno"> 3488</span>&#160;    }</div>
<div class="line"><a name="l03489"></a><span class="lineno"> 3489</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l03490"></a><span class="lineno"> 3490</span>&#160;    {</div>
<div class="line"><a name="l03491"></a><span class="lineno"> 3491</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l03492"></a><span class="lineno"> 3492</span>&#160;        <span class="comment">// Set the hub receive address and port number for this endpoint.</span></div>
<div class="line"><a name="l03493"></a><span class="lineno"> 3493</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l03494"></a><span class="lineno"> 3494</span>&#160;        <a class="code" href="hw__types_8h.html#ac664ac49fa3d7c414f67572e522a74fb">HWREGH</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a78c890fa962c4d6c74d1b518ab55c099">USB_O_TXHUBADDR0</a> + 4 + (ui32Endpoint &gt;&gt; 1)) =</div>
<div class="line"><a name="l03495"></a><span class="lineno"> 3495</span>&#160;            ui32Addr;</div>
<div class="line"><a name="l03496"></a><span class="lineno"> 3496</span>&#160;    }</div>
<div class="line"><a name="l03497"></a><span class="lineno"> 3497</span>&#160;</div>
<div class="line"><a name="l03498"></a><span class="lineno"> 3498</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03499"></a><span class="lineno"> 3499</span>&#160;    <span class="comment">// Set the speed of communication for endpoint 0.  This configuration is</span></div>
<div class="line"><a name="l03500"></a><span class="lineno"> 3500</span>&#160;    <span class="comment">// done here because it changes on a transaction-by-transaction basis for</span></div>
<div class="line"><a name="l03501"></a><span class="lineno"> 3501</span>&#160;    <span class="comment">// EP0.  For other endpoints, this is set in USBHostEndpointConfig().</span></div>
<div class="line"><a name="l03502"></a><span class="lineno"> 3502</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03503"></a><span class="lineno"> 3503</span>&#160;    <span class="keywordflow">if</span>(ui32Endpoint == <a class="code" href="usb_8h.html#a17438a2055fa93adc8baabd84a697246">USB_EP_0</a>)</div>
<div class="line"><a name="l03504"></a><span class="lineno"> 3504</span>&#160;    {</div>
<div class="line"><a name="l03505"></a><span class="lineno"> 3505</span>&#160;        <span class="keywordflow">if</span>(ui32Flags &amp; <a class="code" href="usb_8h.html#a45b104ecc0673dc778e652ca88ec45a1">USB_EP_SPEED_FULL</a>)</div>
<div class="line"><a name="l03506"></a><span class="lineno"> 3506</span>&#160;        {</div>
<div class="line"><a name="l03507"></a><span class="lineno"> 3507</span>&#160;            <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#ae968897d93669d85a774c00bdc5553fb">USB_O_TYPE0</a>) = <a class="code" href="hw__usb_8h.html#ad75009234bcb791c90f83a6eba56558e">USB_TYPE0_SPEED_FULL</a>;</div>
<div class="line"><a name="l03508"></a><span class="lineno"> 3508</span>&#160;        }</div>
<div class="line"><a name="l03509"></a><span class="lineno"> 3509</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(ui32Flags &amp; <a class="code" href="usb_8h.html#a83597dac986079e006ae113acce82ccb">USB_EP_SPEED_HIGH</a>)</div>
<div class="line"><a name="l03510"></a><span class="lineno"> 3510</span>&#160;        {</div>
<div class="line"><a name="l03511"></a><span class="lineno"> 3511</span>&#160;            <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#ae968897d93669d85a774c00bdc5553fb">USB_O_TYPE0</a>) = <a class="code" href="hw__usb_8h.html#a4c332d0768cf2ec5bf7c64ecfa3d72c9">USB_TYPE0_SPEED_HIGH</a>;</div>
<div class="line"><a name="l03512"></a><span class="lineno"> 3512</span>&#160;        }</div>
<div class="line"><a name="l03513"></a><span class="lineno"> 3513</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l03514"></a><span class="lineno"> 3514</span>&#160;        {</div>
<div class="line"><a name="l03515"></a><span class="lineno"> 3515</span>&#160;            <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#ae968897d93669d85a774c00bdc5553fb">USB_O_TYPE0</a>) = <a class="code" href="hw__usb_8h.html#a2c11924120fbb14d0f29521e30c31264">USB_TYPE0_SPEED_LOW</a>;</div>
<div class="line"><a name="l03516"></a><span class="lineno"> 3516</span>&#160;        }</div>
<div class="line"><a name="l03517"></a><span class="lineno"> 3517</span>&#160;    }</div>
<div class="line"><a name="l03518"></a><span class="lineno"> 3518</span>&#160;}</div>
<div class="ttc" id="hw__usb_8h_html_ae968897d93669d85a774c00bdc5553fb"><div class="ttname"><a href="hw__usb_8h.html#ae968897d93669d85a774c00bdc5553fb">USB_O_TYPE0</a></div><div class="ttdeci">#define USB_O_TYPE0</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00168">hw_usb.h:168</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a4c332d0768cf2ec5bf7c64ecfa3d72c9"><div class="ttname"><a href="hw__usb_8h.html#a4c332d0768cf2ec5bf7c64ecfa3d72c9">USB_TYPE0_SPEED_HIGH</a></div><div class="ttdeci">#define USB_TYPE0_SPEED_HIGH</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01239">hw_usb.h:1239</a></div></div>
<div class="ttc" id="usb_8h_html_a8e177910552fb7eeb3c11ef9e35d7439"><div class="ttname"><a href="usb_8h.html#a8e177910552fb7eeb3c11ef9e35d7439">USB_EP_4</a></div><div class="ttdeci">#define USB_EP_4</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00351">usb.h:351</a></div></div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="usb_8h_html_a45b104ecc0673dc778e652ca88ec45a1"><div class="ttname"><a href="usb_8h.html#a45b104ecc0673dc778e652ca88ec45a1">USB_EP_SPEED_FULL</a></div><div class="ttdeci">#define USB_EP_SPEED_FULL</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00240">usb.h:240</a></div></div>
<div class="ttc" id="usb_8h_html_a73892b0ca4c30f38c7fef4d7d6fd2caf"><div class="ttname"><a href="usb_8h.html#a73892b0ca4c30f38c7fef4d7d6fd2caf">USB_EP_5</a></div><div class="ttdeci">#define USB_EP_5</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00352">usb.h:352</a></div></div>
<div class="ttc" id="hw__types_8h_html_ac664ac49fa3d7c414f67572e522a74fb"><div class="ttname"><a href="hw__types_8h.html#ac664ac49fa3d7c414f67572e522a74fb">HWREGH</a></div><div class="ttdeci">#define HWREGH(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00050">hw_types.h:50</a></div></div>
<div class="ttc" id="usb_8h_html_a16d74e6681181962aff08fac4ff7176b"><div class="ttname"><a href="usb_8h.html#a16d74e6681181962aff08fac4ff7176b">USB_EP_HOST_OUT</a></div><div class="ttdeci">#define USB_EP_HOST_OUT</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00243">usb.h:243</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a78c890fa962c4d6c74d1b518ab55c099"><div class="ttname"><a href="hw__usb_8h.html#a78c890fa962c4d6c74d1b518ab55c099">USB_O_TXHUBADDR0</a></div><div class="ttdeci">#define USB_O_TXHUBADDR0</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00089">hw_usb.h:89</a></div></div>
<div class="ttc" id="hw__usb_8h_html_ad75009234bcb791c90f83a6eba56558e"><div class="ttname"><a href="hw__usb_8h.html#ad75009234bcb791c90f83a6eba56558e">USB_TYPE0_SPEED_FULL</a></div><div class="ttdeci">#define USB_TYPE0_SPEED_FULL</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01240">hw_usb.h:1240</a></div></div>
<div class="ttc" id="usb_8h_html_a4a0a3d355ece777a24c1fcfc192a7ef7"><div class="ttname"><a href="usb_8h.html#a4a0a3d355ece777a24c1fcfc192a7ef7">USB_EP_6</a></div><div class="ttdeci">#define USB_EP_6</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00353">usb.h:353</a></div></div>
<div class="ttc" id="usb_8h_html_ab0f7986e9b00a278f0d9546e1d646440"><div class="ttname"><a href="usb_8h.html#ab0f7986e9b00a278f0d9546e1d646440">USB_EP_3</a></div><div class="ttdeci">#define USB_EP_3</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00350">usb.h:350</a></div></div>
<div class="ttc" id="usb_8h_html_a17438a2055fa93adc8baabd84a697246"><div class="ttname"><a href="usb_8h.html#a17438a2055fa93adc8baabd84a697246">USB_EP_0</a></div><div class="ttdeci">#define USB_EP_0</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00347">usb.h:347</a></div></div>
<div class="ttc" id="usb_8h_html_a13cce6caa2ecdaa333ae6a9fe5869e32"><div class="ttname"><a href="usb_8h.html#a13cce6caa2ecdaa333ae6a9fe5869e32">USB_EP_2</a></div><div class="ttdeci">#define USB_EP_2</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00349">usb.h:349</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a2c11924120fbb14d0f29521e30c31264"><div class="ttname"><a href="hw__usb_8h.html#a2c11924120fbb14d0f29521e30c31264">USB_TYPE0_SPEED_LOW</a></div><div class="ttdeci">#define USB_TYPE0_SPEED_LOW</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01241">hw_usb.h:1241</a></div></div>
<div class="ttc" id="usb_8h_html_a4e39f33c6467bddfb7d3e92a2ea5b789"><div class="ttname"><a href="usb_8h.html#a4e39f33c6467bddfb7d3e92a2ea5b789">USB_EP_1</a></div><div class="ttdeci">#define USB_EP_1</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00348">usb.h:348</a></div></div>
<div class="ttc" id="hw__types_8h_html_a084083ee12e5262f8e54bb56c15ac8c7"><div class="ttname"><a href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a></div><div class="ttdeci">#define HWREGB(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00052">hw_types.h:52</a></div></div>
<div class="ttc" id="usb_8h_html_a83597dac986079e006ae113acce82ccb"><div class="ttname"><a href="usb_8h.html#a83597dac986079e006ae113acce82ccb">USB_EP_SPEED_HIGH</a></div><div class="ttdeci">#define USB_EP_SPEED_HIGH</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00241">usb.h:241</a></div></div>
<div class="ttc" id="hw__memmap_8h_html_aa47acf4992407a85e79d911ca1055d17"><div class="ttname"><a href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a></div><div class="ttdeci">#define USB0_BASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__memmap_8h_source.html#l00099">hw_memmap.h:99</a></div></div>
<div class="ttc" id="usb_8h_html_a78dcce1706922dc17a6baf4e8f37150d"><div class="ttname"><a href="usb_8h.html#a78dcce1706922dc17a6baf4e8f37150d">USB_EP_7</a></div><div class="ttdeci">#define USB_EP_7</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00354">usb.h:354</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gadaafef23f5f494492e13c3da006066eb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USBHostMode </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Change the mode of the USB controller to host.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address.</td></tr>
  </table>
  </dd>
</dl>
<p>This function changes the mode of the USB controller to host mode.</p>
<dl class="section note"><dt>Note</dt><dd>This function must only be called on microcontrollers that support OTG operation.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="usb_8c_source.html#l03997">3997</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="hw__types_8h_source.html#l00052">HWREGB</a>, <a class="el" href="hw__memmap_8h_source.html#l00099">USB0_BASE</a>, <a class="el" href="hw__usb_8h_source.html#l02920">USB_GPCS_DEVMODOTG</a>, and <a class="el" href="hw__usb_8h_source.html#l00388">USB_O_GPCS</a>.</p>
<div class="fragment"><div class="line"><a name="l03998"></a><span class="lineno"> 3998</span>&#160;{</div>
<div class="line"><a name="l03999"></a><span class="lineno"> 3999</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l04000"></a><span class="lineno"> 4000</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l04001"></a><span class="lineno"> 4001</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l04002"></a><span class="lineno"> 4002</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a>);</div>
<div class="line"><a name="l04003"></a><span class="lineno"> 4003</span>&#160;</div>
<div class="line"><a name="l04004"></a><span class="lineno"> 4004</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l04005"></a><span class="lineno"> 4005</span>&#160;    <span class="comment">// Force mode in OTG parts that support forcing USB controller mode.</span></div>
<div class="line"><a name="l04006"></a><span class="lineno"> 4006</span>&#160;    <span class="comment">// This bit is not writable in USB controllers that do not support</span></div>
<div class="line"><a name="l04007"></a><span class="lineno"> 4007</span>&#160;    <span class="comment">// forcing the mode.  Not setting the USB_GPCS_DEVMOD bit makes this a</span></div>
<div class="line"><a name="l04008"></a><span class="lineno"> 4008</span>&#160;    <span class="comment">// force of host mode.</span></div>
<div class="line"><a name="l04009"></a><span class="lineno"> 4009</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l04010"></a><span class="lineno"> 4010</span>&#160;    <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a0568c2f09d0f22e71ad9a3c6360e8821">USB_O_GPCS</a>) = <a class="code" href="hw__usb_8h.html#a467fa0289a46bdbcbcda85c553711814">USB_GPCS_DEVMODOTG</a>;</div>
<div class="line"><a name="l04011"></a><span class="lineno"> 4011</span>&#160;}</div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a467fa0289a46bdbcbcda85c553711814"><div class="ttname"><a href="hw__usb_8h.html#a467fa0289a46bdbcbcda85c553711814">USB_GPCS_DEVMODOTG</a></div><div class="ttdeci">#define USB_GPCS_DEVMODOTG</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l02920">hw_usb.h:2920</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a0568c2f09d0f22e71ad9a3c6360e8821"><div class="ttname"><a href="hw__usb_8h.html#a0568c2f09d0f22e71ad9a3c6360e8821">USB_O_GPCS</a></div><div class="ttdeci">#define USB_O_GPCS</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00388">hw_usb.h:388</a></div></div>
<div class="ttc" id="hw__types_8h_html_a084083ee12e5262f8e54bb56c15ac8c7"><div class="ttname"><a href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a></div><div class="ttdeci">#define HWREGB(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00052">hw_types.h:52</a></div></div>
<div class="ttc" id="hw__memmap_8h_html_aa47acf4992407a85e79d911ca1055d17"><div class="ttname"><a href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a></div><div class="ttdeci">#define USB0_BASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__memmap_8h_source.html#l00099">hw_memmap.h:99</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga90735e34d119913552eaed9a158fd5e8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USBHostPwrConfig </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the configuration for USB power fault.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address. </td></tr>
    <tr><td class="paramname">ui32Flags</td><td>specifies the configuration of the power fault.</td></tr>
  </table>
  </dd>
</dl>
<p>This function controls how the USB controller uses its external power control pins (USBnPFLT and USBnEPEN). The flags specify the power fault level sensitivity, the power fault action, and the power enable level and source.</p>
<p>One of the following can be selected as the power fault level sensitivity:</p>
<ul>
<li><b>USB_HOST_PWRFLT_LOW</b> - An external power fault is indicated by the pin being driven low.</li>
<li><b>USB_HOST_PWRFLT_HIGH</b> - An external power fault is indicated by the pin being driven high.</li>
</ul>
<p>One of the following can be selected as the power fault action:</p>
<ul>
<li><b>USB_HOST_PWRFLT_EP_NONE</b> - No automatic action when power fault detected.</li>
<li><b>USB_HOST_PWRFLT_EP_TRI</b> - Automatically tri-state the USBnEPEN pin on a power fault.</li>
<li><b>USB_HOST_PWRFLT_EP_LOW</b> - Automatically drive USBnEPEN pin low on a power fault.</li>
<li><b>USB_HOST_PWRFLT_EP_HIGH</b> - Automatically drive USBnEPEN pin high on a power fault.</li>
</ul>
<p>One of the following can be selected as the power enable level and source:</p>
<ul>
<li><b>USB_HOST_PWREN_MAN_LOW</b> - USBnEPEN is driven low by the USB controller when <a class="el" href="group__usb__api.html#ga4b05c7e12cf63f6f142f62accc3afed0">USBHostPwrEnable()</a> is called.</li>
<li><b>USB_HOST_PWREN_MAN_HIGH</b> - USBnEPEN is driven high by the USB controller when <a class="el" href="group__usb__api.html#ga4b05c7e12cf63f6f142f62accc3afed0">USBHostPwrEnable()</a> is called.</li>
<li><b>USB_HOST_PWREN_AUTOLOW</b> - USBnEPEN is driven low by the USB controller automatically if <a class="el" href="group__usb__api.html#ga85df919e2dd18076d86458974f996637">USBOTGSessionRequest()</a> has enabled a session.</li>
<li><b>USB_HOST_PWREN_AUTOHIGH</b> - USBnEPEN is driven high by the USB controller automatically if <a class="el" href="group__usb__api.html#ga85df919e2dd18076d86458974f996637">USBOTGSessionRequest()</a> has enabled a session.</li>
</ul>
<p>When using the VBUS glitch filter, the <b>USB_HOST_PWREN_FILTER</b> can be addded to ignore small, short drops in VBUS level caused by high power consumption. This feature is mainly used to avoid causing VBUS errors caused by devices with high in-rush current.</p>
<dl class="section note"><dt>Note</dt><dd>This function must only be called on microcontrollers that support host mode or OTG operation. The <b>USB_HOST_PWREN_AUTOLOW</b> and <b>USB_HOST_PWREN_AUTOHIGH</b> parameters can only be specified on devices that support OTG operation.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="usb_8c_source.html#l03628">3628</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="hw__types_8h_source.html#l00048">HWREG</a>, <a class="el" href="hw__types_8h_source.html#l00050">HWREGH</a>, <a class="el" href="hw__memmap_8h_source.html#l00099">USB0_BASE</a>, <a class="el" href="hw__usb_8h_source.html#l02853">USB_EPC_EPEN_M</a>, <a class="el" href="hw__usb_8h_source.html#l02844">USB_EPC_PFLTACT_M</a>, <a class="el" href="hw__usb_8h_source.html#l02849">USB_EPC_PFLTAEN</a>, <a class="el" href="hw__usb_8h_source.html#l02850">USB_EPC_PFLTSEN_HIGH</a>, <a class="el" href="usb_8h_source.html#l00263">USB_HOST_PWREN_FILTER</a>, <a class="el" href="hw__usb_8h_source.html#l00376">USB_O_EPC</a>, and <a class="el" href="hw__usb_8h_source.html#l00390">USB_O_VDC</a>.</p>
<div class="fragment"><div class="line"><a name="l03629"></a><span class="lineno"> 3629</span>&#160;{</div>
<div class="line"><a name="l03630"></a><span class="lineno"> 3630</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03631"></a><span class="lineno"> 3631</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l03632"></a><span class="lineno"> 3632</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03633"></a><span class="lineno"> 3633</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a>);</div>
<div class="line"><a name="l03634"></a><span class="lineno"> 3634</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32Flags &amp; ~(<a class="code" href="usb_8h.html#a16ad6e64e1cc6c4ed48a7e62afc6f9cd">USB_HOST_PWREN_FILTER</a> | <a class="code" href="hw__usb_8h.html#aed171996d72a2bb546a0067e89301cef">USB_EPC_PFLTACT_M</a> |</div>
<div class="line"><a name="l03635"></a><span class="lineno"> 3635</span>&#160;                          <a class="code" href="hw__usb_8h.html#a3c680d055c02a8f8e5b5e89225db71e9">USB_EPC_PFLTAEN</a> | <a class="code" href="hw__usb_8h.html#aca06e6970f593ca44a34b4657266ec71">USB_EPC_PFLTSEN_HIGH</a> |</div>
<div class="line"><a name="l03636"></a><span class="lineno"> 3636</span>&#160;                          <a class="code" href="hw__usb_8h.html#a60fa9b6198e4b97826d9e2595922aace">USB_EPC_EPEN_M</a>)) == 0);</div>
<div class="line"><a name="l03637"></a><span class="lineno"> 3637</span>&#160;</div>
<div class="line"><a name="l03638"></a><span class="lineno"> 3638</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03639"></a><span class="lineno"> 3639</span>&#160;    <span class="comment">// If requested, enable VBUS droop detection on parts that support this</span></div>
<div class="line"><a name="l03640"></a><span class="lineno"> 3640</span>&#160;    <span class="comment">// feature.</span></div>
<div class="line"><a name="l03641"></a><span class="lineno"> 3641</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03642"></a><span class="lineno"> 3642</span>&#160;    <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a81194dfefc4e736715892aabfe53dcf6">USB_O_VDC</a>) = ui32Flags &gt;&gt; 16;</div>
<div class="line"><a name="l03643"></a><span class="lineno"> 3643</span>&#160;</div>
<div class="line"><a name="l03644"></a><span class="lineno"> 3644</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03645"></a><span class="lineno"> 3645</span>&#160;    <span class="comment">// Set the power fault configuration as specified.  This configuration</span></div>
<div class="line"><a name="l03646"></a><span class="lineno"> 3646</span>&#160;    <span class="comment">// does not change whether fault detection is enabled or not.</span></div>
<div class="line"><a name="l03647"></a><span class="lineno"> 3647</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03648"></a><span class="lineno"> 3648</span>&#160;    <a class="code" href="hw__types_8h.html#ac664ac49fa3d7c414f67572e522a74fb">HWREGH</a>(ui32Base + <a class="code" href="hw__usb_8h.html#aa5e2fae55d43161846c2bfc9ea0d0c67">USB_O_EPC</a>) =</div>
<div class="line"><a name="l03649"></a><span class="lineno"> 3649</span>&#160;        (ui32Flags | (<a class="code" href="hw__types_8h.html#ac664ac49fa3d7c414f67572e522a74fb">HWREGH</a>(ui32Base + <a class="code" href="hw__usb_8h.html#aa5e2fae55d43161846c2bfc9ea0d0c67">USB_O_EPC</a>) &amp;</div>
<div class="line"><a name="l03650"></a><span class="lineno"> 3650</span>&#160;                      ~(<a class="code" href="hw__usb_8h.html#aed171996d72a2bb546a0067e89301cef">USB_EPC_PFLTACT_M</a> | <a class="code" href="hw__usb_8h.html#a3c680d055c02a8f8e5b5e89225db71e9">USB_EPC_PFLTAEN</a> |</div>
<div class="line"><a name="l03651"></a><span class="lineno"> 3651</span>&#160;                        <a class="code" href="hw__usb_8h.html#aca06e6970f593ca44a34b4657266ec71">USB_EPC_PFLTSEN_HIGH</a> | <a class="code" href="hw__usb_8h.html#a60fa9b6198e4b97826d9e2595922aace">USB_EPC_EPEN_M</a>)));</div>
<div class="line"><a name="l03652"></a><span class="lineno"> 3652</span>&#160;}</div>
<div class="ttc" id="hw__usb_8h_html_aca06e6970f593ca44a34b4657266ec71"><div class="ttname"><a href="hw__usb_8h.html#aca06e6970f593ca44a34b4657266ec71">USB_EPC_PFLTSEN_HIGH</a></div><div class="ttdeci">#define USB_EPC_PFLTSEN_HIGH</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l02850">hw_usb.h:2850</a></div></div>
<div class="ttc" id="hw__types_8h_html_ac9660181819fceac0b5abcd67d76ca6e"><div class="ttname"><a href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a></div><div class="ttdeci">#define HWREG(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00048">hw_types.h:48</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a81194dfefc4e736715892aabfe53dcf6"><div class="ttname"><a href="hw__usb_8h.html#a81194dfefc4e736715892aabfe53dcf6">USB_O_VDC</a></div><div class="ttdeci">#define USB_O_VDC</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00390">hw_usb.h:390</a></div></div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a60fa9b6198e4b97826d9e2595922aace"><div class="ttname"><a href="hw__usb_8h.html#a60fa9b6198e4b97826d9e2595922aace">USB_EPC_EPEN_M</a></div><div class="ttdeci">#define USB_EPC_EPEN_M</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l02853">hw_usb.h:2853</a></div></div>
<div class="ttc" id="usb_8h_html_a16ad6e64e1cc6c4ed48a7e62afc6f9cd"><div class="ttname"><a href="usb_8h.html#a16ad6e64e1cc6c4ed48a7e62afc6f9cd">USB_HOST_PWREN_FILTER</a></div><div class="ttdeci">#define USB_HOST_PWREN_FILTER</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00263">usb.h:263</a></div></div>
<div class="ttc" id="hw__types_8h_html_ac664ac49fa3d7c414f67572e522a74fb"><div class="ttname"><a href="hw__types_8h.html#ac664ac49fa3d7c414f67572e522a74fb">HWREGH</a></div><div class="ttdeci">#define HWREGH(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00050">hw_types.h:50</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a3c680d055c02a8f8e5b5e89225db71e9"><div class="ttname"><a href="hw__usb_8h.html#a3c680d055c02a8f8e5b5e89225db71e9">USB_EPC_PFLTAEN</a></div><div class="ttdeci">#define USB_EPC_PFLTAEN</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l02849">hw_usb.h:2849</a></div></div>
<div class="ttc" id="hw__usb_8h_html_aa5e2fae55d43161846c2bfc9ea0d0c67"><div class="ttname"><a href="hw__usb_8h.html#aa5e2fae55d43161846c2bfc9ea0d0c67">USB_O_EPC</a></div><div class="ttdeci">#define USB_O_EPC</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00376">hw_usb.h:376</a></div></div>
<div class="ttc" id="hw__usb_8h_html_aed171996d72a2bb546a0067e89301cef"><div class="ttname"><a href="hw__usb_8h.html#aed171996d72a2bb546a0067e89301cef">USB_EPC_PFLTACT_M</a></div><div class="ttdeci">#define USB_EPC_PFLTACT_M</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l02844">hw_usb.h:2844</a></div></div>
<div class="ttc" id="hw__memmap_8h_html_aa47acf4992407a85e79d911ca1055d17"><div class="ttname"><a href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a></div><div class="ttdeci">#define USB0_BASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__memmap_8h_source.html#l00099">hw_memmap.h:99</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga146f4ef7b4cf29088c54ec55e0974cda"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USBHostPwrDisable </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Disables the external power pin.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address.</td></tr>
  </table>
  </dd>
</dl>
<p>This function disables the USBnEPEN signal, which disables an external power supply in host mode operation.</p>
<dl class="section note"><dt>Note</dt><dd>This function must only be called in host mode.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="usb_8c_source.html#l03752">3752</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="hw__types_8h_source.html#l00050">HWREGH</a>, <a class="el" href="hw__memmap_8h_source.html#l00099">USB0_BASE</a>, <a class="el" href="hw__usb_8h_source.html#l02852">USB_EPC_EPENDE</a>, and <a class="el" href="hw__usb_8h_source.html#l00376">USB_O_EPC</a>.</p>
<div class="fragment"><div class="line"><a name="l03753"></a><span class="lineno"> 3753</span>&#160;{</div>
<div class="line"><a name="l03754"></a><span class="lineno"> 3754</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03755"></a><span class="lineno"> 3755</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l03756"></a><span class="lineno"> 3756</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03757"></a><span class="lineno"> 3757</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a>);</div>
<div class="line"><a name="l03758"></a><span class="lineno"> 3758</span>&#160;</div>
<div class="line"><a name="l03759"></a><span class="lineno"> 3759</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03760"></a><span class="lineno"> 3760</span>&#160;    <span class="comment">// Disable the external power supply enable signal.</span></div>
<div class="line"><a name="l03761"></a><span class="lineno"> 3761</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03762"></a><span class="lineno"> 3762</span>&#160;    <a class="code" href="hw__types_8h.html#ac664ac49fa3d7c414f67572e522a74fb">HWREGH</a>(ui32Base + <a class="code" href="hw__usb_8h.html#aa5e2fae55d43161846c2bfc9ea0d0c67">USB_O_EPC</a>) &amp;= ~<a class="code" href="hw__usb_8h.html#ae24165a61d2fd18719e01fe9877fd3bd">USB_EPC_EPENDE</a>;</div>
<div class="line"><a name="l03763"></a><span class="lineno"> 3763</span>&#160;}</div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="hw__types_8h_html_ac664ac49fa3d7c414f67572e522a74fb"><div class="ttname"><a href="hw__types_8h.html#ac664ac49fa3d7c414f67572e522a74fb">HWREGH</a></div><div class="ttdeci">#define HWREGH(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00050">hw_types.h:50</a></div></div>
<div class="ttc" id="hw__usb_8h_html_ae24165a61d2fd18719e01fe9877fd3bd"><div class="ttname"><a href="hw__usb_8h.html#ae24165a61d2fd18719e01fe9877fd3bd">USB_EPC_EPENDE</a></div><div class="ttdeci">#define USB_EPC_EPENDE</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l02852">hw_usb.h:2852</a></div></div>
<div class="ttc" id="hw__usb_8h_html_aa5e2fae55d43161846c2bfc9ea0d0c67"><div class="ttname"><a href="hw__usb_8h.html#aa5e2fae55d43161846c2bfc9ea0d0c67">USB_O_EPC</a></div><div class="ttdeci">#define USB_O_EPC</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00376">hw_usb.h:376</a></div></div>
<div class="ttc" id="hw__memmap_8h_html_aa47acf4992407a85e79d911ca1055d17"><div class="ttname"><a href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a></div><div class="ttdeci">#define USB0_BASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__memmap_8h_source.html#l00099">hw_memmap.h:99</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga4b05c7e12cf63f6f142f62accc3afed0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USBHostPwrEnable </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enables the external power pin.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address.</td></tr>
  </table>
  </dd>
</dl>
<p>This function enables the USBnEPEN signal, which enables an external power supply in host mode operation.</p>
<dl class="section note"><dt>Note</dt><dd>This function must only be called in host mode.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="usb_8c_source.html#l03724">3724</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="hw__types_8h_source.html#l00050">HWREGH</a>, <a class="el" href="hw__memmap_8h_source.html#l00099">USB0_BASE</a>, <a class="el" href="hw__usb_8h_source.html#l02852">USB_EPC_EPENDE</a>, and <a class="el" href="hw__usb_8h_source.html#l00376">USB_O_EPC</a>.</p>
<div class="fragment"><div class="line"><a name="l03725"></a><span class="lineno"> 3725</span>&#160;{</div>
<div class="line"><a name="l03726"></a><span class="lineno"> 3726</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03727"></a><span class="lineno"> 3727</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l03728"></a><span class="lineno"> 3728</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03729"></a><span class="lineno"> 3729</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a>);</div>
<div class="line"><a name="l03730"></a><span class="lineno"> 3730</span>&#160;</div>
<div class="line"><a name="l03731"></a><span class="lineno"> 3731</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03732"></a><span class="lineno"> 3732</span>&#160;    <span class="comment">// Enable the external power supply enable signal.</span></div>
<div class="line"><a name="l03733"></a><span class="lineno"> 3733</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03734"></a><span class="lineno"> 3734</span>&#160;    <a class="code" href="hw__types_8h.html#ac664ac49fa3d7c414f67572e522a74fb">HWREGH</a>(ui32Base + <a class="code" href="hw__usb_8h.html#aa5e2fae55d43161846c2bfc9ea0d0c67">USB_O_EPC</a>) |= <a class="code" href="hw__usb_8h.html#ae24165a61d2fd18719e01fe9877fd3bd">USB_EPC_EPENDE</a>;</div>
<div class="line"><a name="l03735"></a><span class="lineno"> 3735</span>&#160;}</div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="hw__types_8h_html_ac664ac49fa3d7c414f67572e522a74fb"><div class="ttname"><a href="hw__types_8h.html#ac664ac49fa3d7c414f67572e522a74fb">HWREGH</a></div><div class="ttdeci">#define HWREGH(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00050">hw_types.h:50</a></div></div>
<div class="ttc" id="hw__usb_8h_html_ae24165a61d2fd18719e01fe9877fd3bd"><div class="ttname"><a href="hw__usb_8h.html#ae24165a61d2fd18719e01fe9877fd3bd">USB_EPC_EPENDE</a></div><div class="ttdeci">#define USB_EPC_EPENDE</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l02852">hw_usb.h:2852</a></div></div>
<div class="ttc" id="hw__usb_8h_html_aa5e2fae55d43161846c2bfc9ea0d0c67"><div class="ttname"><a href="hw__usb_8h.html#aa5e2fae55d43161846c2bfc9ea0d0c67">USB_O_EPC</a></div><div class="ttdeci">#define USB_O_EPC</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00376">hw_usb.h:376</a></div></div>
<div class="ttc" id="hw__memmap_8h_html_aa47acf4992407a85e79d911ca1055d17"><div class="ttname"><a href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a></div><div class="ttdeci">#define USB0_BASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__memmap_8h_source.html#l00099">hw_memmap.h:99</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga4e50f9b8b9a7216f380c49d25ae8a33a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USBHostPwrFaultDisable </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Disables power fault detection.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address.</td></tr>
  </table>
  </dd>
</dl>
<p>This function disables power fault detection in the USB controller.</p>
<dl class="section note"><dt>Note</dt><dd>This function must only be called in host mode.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="usb_8c_source.html#l03696">3696</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="hw__types_8h_source.html#l00050">HWREGH</a>, <a class="el" href="hw__memmap_8h_source.html#l00099">USB0_BASE</a>, <a class="el" href="hw__usb_8h_source.html#l02851">USB_EPC_PFLTEN</a>, and <a class="el" href="hw__usb_8h_source.html#l00376">USB_O_EPC</a>.</p>
<div class="fragment"><div class="line"><a name="l03697"></a><span class="lineno"> 3697</span>&#160;{</div>
<div class="line"><a name="l03698"></a><span class="lineno"> 3698</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03699"></a><span class="lineno"> 3699</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l03700"></a><span class="lineno"> 3700</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03701"></a><span class="lineno"> 3701</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a>);</div>
<div class="line"><a name="l03702"></a><span class="lineno"> 3702</span>&#160;</div>
<div class="line"><a name="l03703"></a><span class="lineno"> 3703</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03704"></a><span class="lineno"> 3704</span>&#160;    <span class="comment">// Enable power fault input.</span></div>
<div class="line"><a name="l03705"></a><span class="lineno"> 3705</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03706"></a><span class="lineno"> 3706</span>&#160;    <a class="code" href="hw__types_8h.html#ac664ac49fa3d7c414f67572e522a74fb">HWREGH</a>(ui32Base + <a class="code" href="hw__usb_8h.html#aa5e2fae55d43161846c2bfc9ea0d0c67">USB_O_EPC</a>) &amp;= ~<a class="code" href="hw__usb_8h.html#a6c0d02d16edcc61571ec3da089f004ab">USB_EPC_PFLTEN</a>;</div>
<div class="line"><a name="l03707"></a><span class="lineno"> 3707</span>&#160;}</div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a6c0d02d16edcc61571ec3da089f004ab"><div class="ttname"><a href="hw__usb_8h.html#a6c0d02d16edcc61571ec3da089f004ab">USB_EPC_PFLTEN</a></div><div class="ttdeci">#define USB_EPC_PFLTEN</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l02851">hw_usb.h:2851</a></div></div>
<div class="ttc" id="hw__types_8h_html_ac664ac49fa3d7c414f67572e522a74fb"><div class="ttname"><a href="hw__types_8h.html#ac664ac49fa3d7c414f67572e522a74fb">HWREGH</a></div><div class="ttdeci">#define HWREGH(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00050">hw_types.h:50</a></div></div>
<div class="ttc" id="hw__usb_8h_html_aa5e2fae55d43161846c2bfc9ea0d0c67"><div class="ttname"><a href="hw__usb_8h.html#aa5e2fae55d43161846c2bfc9ea0d0c67">USB_O_EPC</a></div><div class="ttdeci">#define USB_O_EPC</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00376">hw_usb.h:376</a></div></div>
<div class="ttc" id="hw__memmap_8h_html_aa47acf4992407a85e79d911ca1055d17"><div class="ttname"><a href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a></div><div class="ttdeci">#define USB0_BASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__memmap_8h_source.html#l00099">hw_memmap.h:99</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga1b5c7a9f4113a0d441f4783cf45ea4dd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USBHostPwrFaultEnable </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enables power fault detection.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address.</td></tr>
  </table>
  </dd>
</dl>
<p>This function enables power fault detection in the USB controller. If the USBnPFLT pin is not in use, this function must not be used.</p>
<dl class="section note"><dt>Note</dt><dd>This function must only be called in host mode.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="usb_8c_source.html#l03669">3669</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="hw__types_8h_source.html#l00050">HWREGH</a>, <a class="el" href="hw__memmap_8h_source.html#l00099">USB0_BASE</a>, <a class="el" href="hw__usb_8h_source.html#l02851">USB_EPC_PFLTEN</a>, and <a class="el" href="hw__usb_8h_source.html#l00376">USB_O_EPC</a>.</p>
<div class="fragment"><div class="line"><a name="l03670"></a><span class="lineno"> 3670</span>&#160;{</div>
<div class="line"><a name="l03671"></a><span class="lineno"> 3671</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03672"></a><span class="lineno"> 3672</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l03673"></a><span class="lineno"> 3673</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03674"></a><span class="lineno"> 3674</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a>);</div>
<div class="line"><a name="l03675"></a><span class="lineno"> 3675</span>&#160;</div>
<div class="line"><a name="l03676"></a><span class="lineno"> 3676</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03677"></a><span class="lineno"> 3677</span>&#160;    <span class="comment">// Enable power fault input.</span></div>
<div class="line"><a name="l03678"></a><span class="lineno"> 3678</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03679"></a><span class="lineno"> 3679</span>&#160;    <a class="code" href="hw__types_8h.html#ac664ac49fa3d7c414f67572e522a74fb">HWREGH</a>(ui32Base + <a class="code" href="hw__usb_8h.html#aa5e2fae55d43161846c2bfc9ea0d0c67">USB_O_EPC</a>) |= <a class="code" href="hw__usb_8h.html#a6c0d02d16edcc61571ec3da089f004ab">USB_EPC_PFLTEN</a>;</div>
<div class="line"><a name="l03680"></a><span class="lineno"> 3680</span>&#160;}</div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a6c0d02d16edcc61571ec3da089f004ab"><div class="ttname"><a href="hw__usb_8h.html#a6c0d02d16edcc61571ec3da089f004ab">USB_EPC_PFLTEN</a></div><div class="ttdeci">#define USB_EPC_PFLTEN</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l02851">hw_usb.h:2851</a></div></div>
<div class="ttc" id="hw__types_8h_html_ac664ac49fa3d7c414f67572e522a74fb"><div class="ttname"><a href="hw__types_8h.html#ac664ac49fa3d7c414f67572e522a74fb">HWREGH</a></div><div class="ttdeci">#define HWREGH(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00050">hw_types.h:50</a></div></div>
<div class="ttc" id="hw__usb_8h_html_aa5e2fae55d43161846c2bfc9ea0d0c67"><div class="ttname"><a href="hw__usb_8h.html#aa5e2fae55d43161846c2bfc9ea0d0c67">USB_O_EPC</a></div><div class="ttdeci">#define USB_O_EPC</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00376">hw_usb.h:376</a></div></div>
<div class="ttc" id="hw__memmap_8h_html_aa47acf4992407a85e79d911ca1055d17"><div class="ttname"><a href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a></div><div class="ttdeci">#define USB0_BASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__memmap_8h_source.html#l00099">hw_memmap.h:99</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga4b68522ae4b5418b0184654c2db9b708"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USBHostRequestIN </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Endpoint</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Schedules a request for an IN transaction on an endpoint in host mode.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address. </td></tr>
    <tr><td class="paramname">ui32Endpoint</td><td>is the endpoint to access.</td></tr>
  </table>
  </dd>
</dl>
<p>This function schedules a request for an IN transaction. When the USB device being communicated with responds with the data, the data can be retrieved by calling <a class="el" href="group__usb__api.html#gab4dc6edbe6814f85a1abd2234693f6b2">USBEndpointDataGet()</a> or via a DMA transfer.</p>
<dl class="section note"><dt>Note</dt><dd>This function must only be called in host mode and only for IN endpoints.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="usb_8c_source.html#l03228">3228</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="usb_8c_source.html#l00082">EP_OFFSET</a>, <a class="el" href="hw__types_8h_source.html#l00052">HWREGB</a>, <a class="el" href="hw__memmap_8h_source.html#l00099">USB0_BASE</a>, <a class="el" href="usb_8h_source.html#l00347">USB_EP_0</a>, <a class="el" href="usb_8h_source.html#l00348">USB_EP_1</a>, <a class="el" href="usb_8h_source.html#l00349">USB_EP_2</a>, <a class="el" href="usb_8h_source.html#l00350">USB_EP_3</a>, <a class="el" href="usb_8h_source.html#l00351">USB_EP_4</a>, <a class="el" href="usb_8h_source.html#l00352">USB_EP_5</a>, <a class="el" href="usb_8h_source.html#l00353">USB_EP_6</a>, <a class="el" href="usb_8h_source.html#l00354">USB_EP_7</a>, <a class="el" href="hw__usb_8h_source.html#l00162">USB_O_CSRL0</a>, <a class="el" href="hw__usb_8h_source.html#l00178">USB_O_RXCSRL1</a>, and <a class="el" href="hw__usb_8h_source.html#l01305">USB_RXCSRL1_REQPKT</a>.</p>
<div class="fragment"><div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160;{</div>
<div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160;    uint32_t ui32Register;</div>
<div class="line"><a name="l03231"></a><span class="lineno"> 3231</span>&#160;</div>
<div class="line"><a name="l03232"></a><span class="lineno"> 3232</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03233"></a><span class="lineno"> 3233</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03235"></a><span class="lineno"> 3235</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a>);</div>
<div class="line"><a name="l03236"></a><span class="lineno"> 3236</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32Endpoint == <a class="code" href="usb_8h.html#a17438a2055fa93adc8baabd84a697246">USB_EP_0</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a4e39f33c6467bddfb7d3e92a2ea5b789">USB_EP_1</a>) ||</div>
<div class="line"><a name="l03237"></a><span class="lineno"> 3237</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a13cce6caa2ecdaa333ae6a9fe5869e32">USB_EP_2</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#ab0f7986e9b00a278f0d9546e1d646440">USB_EP_3</a>) ||</div>
<div class="line"><a name="l03238"></a><span class="lineno"> 3238</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a8e177910552fb7eeb3c11ef9e35d7439">USB_EP_4</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a73892b0ca4c30f38c7fef4d7d6fd2caf">USB_EP_5</a>) ||</div>
<div class="line"><a name="l03239"></a><span class="lineno"> 3239</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a4a0a3d355ece777a24c1fcfc192a7ef7">USB_EP_6</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a78dcce1706922dc17a6baf4e8f37150d">USB_EP_7</a>));</div>
<div class="line"><a name="l03240"></a><span class="lineno"> 3240</span>&#160;</div>
<div class="line"><a name="l03241"></a><span class="lineno"> 3241</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03242"></a><span class="lineno"> 3242</span>&#160;    <span class="comment">// Endpoint zero uses a different offset than the other endpoints.</span></div>
<div class="line"><a name="l03243"></a><span class="lineno"> 3243</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03244"></a><span class="lineno"> 3244</span>&#160;    <span class="keywordflow">if</span>(ui32Endpoint == <a class="code" href="usb_8h.html#a17438a2055fa93adc8baabd84a697246">USB_EP_0</a>)</div>
<div class="line"><a name="l03245"></a><span class="lineno"> 3245</span>&#160;    {</div>
<div class="line"><a name="l03246"></a><span class="lineno"> 3246</span>&#160;        ui32Register = <a class="code" href="hw__usb_8h.html#a095977f9007e9e6af6f00eab8e1f64b1">USB_O_CSRL0</a>;</div>
<div class="line"><a name="l03247"></a><span class="lineno"> 3247</span>&#160;    }</div>
<div class="line"><a name="l03248"></a><span class="lineno"> 3248</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l03249"></a><span class="lineno"> 3249</span>&#160;    {</div>
<div class="line"><a name="l03250"></a><span class="lineno"> 3250</span>&#160;        ui32Register = <a class="code" href="hw__usb_8h.html#a57bc94dcb14fdfc3f27d6320c7de3a86">USB_O_RXCSRL1</a> + <a class="code" href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a>(ui32Endpoint);</div>
<div class="line"><a name="l03251"></a><span class="lineno"> 3251</span>&#160;    }</div>
<div class="line"><a name="l03252"></a><span class="lineno"> 3252</span>&#160;</div>
<div class="line"><a name="l03253"></a><span class="lineno"> 3253</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03254"></a><span class="lineno"> 3254</span>&#160;    <span class="comment">// Set the request for an IN transaction.</span></div>
<div class="line"><a name="l03255"></a><span class="lineno"> 3255</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03256"></a><span class="lineno"> 3256</span>&#160;    <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + ui32Register) = <a class="code" href="hw__usb_8h.html#ab0c39bc6e00519be3dae6d53610e5156">USB_RXCSRL1_REQPKT</a>;</div>
<div class="line"><a name="l03257"></a><span class="lineno"> 3257</span>&#160;}</div>
<div class="ttc" id="usb_8h_html_a8e177910552fb7eeb3c11ef9e35d7439"><div class="ttname"><a href="usb_8h.html#a8e177910552fb7eeb3c11ef9e35d7439">USB_EP_4</a></div><div class="ttdeci">#define USB_EP_4</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00351">usb.h:351</a></div></div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a57bc94dcb14fdfc3f27d6320c7de3a86"><div class="ttname"><a href="hw__usb_8h.html#a57bc94dcb14fdfc3f27d6320c7de3a86">USB_O_RXCSRL1</a></div><div class="ttdeci">#define USB_O_RXCSRL1</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00178">hw_usb.h:178</a></div></div>
<div class="ttc" id="usb_8h_html_a73892b0ca4c30f38c7fef4d7d6fd2caf"><div class="ttname"><a href="usb_8h.html#a73892b0ca4c30f38c7fef4d7d6fd2caf">USB_EP_5</a></div><div class="ttdeci">#define USB_EP_5</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00352">usb.h:352</a></div></div>
<div class="ttc" id="usb_8h_html_a4a0a3d355ece777a24c1fcfc192a7ef7"><div class="ttname"><a href="usb_8h.html#a4a0a3d355ece777a24c1fcfc192a7ef7">USB_EP_6</a></div><div class="ttdeci">#define USB_EP_6</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00353">usb.h:353</a></div></div>
<div class="ttc" id="usb_8h_html_ab0f7986e9b00a278f0d9546e1d646440"><div class="ttname"><a href="usb_8h.html#ab0f7986e9b00a278f0d9546e1d646440">USB_EP_3</a></div><div class="ttdeci">#define USB_EP_3</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00350">usb.h:350</a></div></div>
<div class="ttc" id="usb_8h_html_a17438a2055fa93adc8baabd84a697246"><div class="ttname"><a href="usb_8h.html#a17438a2055fa93adc8baabd84a697246">USB_EP_0</a></div><div class="ttdeci">#define USB_EP_0</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00347">usb.h:347</a></div></div>
<div class="ttc" id="usb_8h_html_a13cce6caa2ecdaa333ae6a9fe5869e32"><div class="ttname"><a href="usb_8h.html#a13cce6caa2ecdaa333ae6a9fe5869e32">USB_EP_2</a></div><div class="ttdeci">#define USB_EP_2</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00349">usb.h:349</a></div></div>
<div class="ttc" id="usb_8h_html_a4e39f33c6467bddfb7d3e92a2ea5b789"><div class="ttname"><a href="usb_8h.html#a4e39f33c6467bddfb7d3e92a2ea5b789">USB_EP_1</a></div><div class="ttdeci">#define USB_EP_1</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00348">usb.h:348</a></div></div>
<div class="ttc" id="hw__usb_8h_html_ab0c39bc6e00519be3dae6d53610e5156"><div class="ttname"><a href="hw__usb_8h.html#ab0c39bc6e00519be3dae6d53610e5156">USB_RXCSRL1_REQPKT</a></div><div class="ttdeci">#define USB_RXCSRL1_REQPKT</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01305">hw_usb.h:1305</a></div></div>
<div class="ttc" id="hw__types_8h_html_a084083ee12e5262f8e54bb56c15ac8c7"><div class="ttname"><a href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a></div><div class="ttdeci">#define HWREGB(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00052">hw_types.h:52</a></div></div>
<div class="ttc" id="group__usb__api_html_gaadf74b0caf840f0d3222cb1dc563684c"><div class="ttname"><a href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a></div><div class="ttdeci">#define EP_OFFSET(Endpoint)</div><div class="ttdef"><b>Definition:</b> <a href="usb_8c_source.html#l00082">usb.c:82</a></div></div>
<div class="ttc" id="hw__memmap_8h_html_aa47acf4992407a85e79d911ca1055d17"><div class="ttname"><a href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a></div><div class="ttdeci">#define USB0_BASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__memmap_8h_source.html#l00099">hw_memmap.h:99</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a095977f9007e9e6af6f00eab8e1f64b1"><div class="ttname"><a href="hw__usb_8h.html#a095977f9007e9e6af6f00eab8e1f64b1">USB_O_CSRL0</a></div><div class="ttdeci">#define USB_O_CSRL0</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00162">hw_usb.h:162</a></div></div>
<div class="ttc" id="usb_8h_html_a78dcce1706922dc17a6baf4e8f37150d"><div class="ttname"><a href="usb_8h.html#a78dcce1706922dc17a6baf4e8f37150d">USB_EP_7</a></div><div class="ttdeci">#define USB_EP_7</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00354">usb.h:354</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga7c0409d4474303eb1b4c2dc50ea7e25e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USBHostRequestINClear </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Endpoint</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Clears a scheduled IN transaction for an endpoint in host mode.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address. </td></tr>
    <tr><td class="paramname">ui32Endpoint</td><td>is the endpoint to access.</td></tr>
  </table>
  </dd>
</dl>
<p>This function clears a previously scheduled IN transaction if it is still pending. This function is used to safely disable any scheduled IN transactions if the endpoint specified by <em>ui32Endpoint</em> is reconfigured for communications with other devices.</p>
<dl class="section note"><dt>Note</dt><dd>This function must only be called in host mode and only for IN endpoints.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="usb_8c_source.html#l03278">3278</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="usb_8c_source.html#l00082">EP_OFFSET</a>, <a class="el" href="hw__types_8h_source.html#l00052">HWREGB</a>, <a class="el" href="hw__memmap_8h_source.html#l00099">USB0_BASE</a>, <a class="el" href="usb_8h_source.html#l00347">USB_EP_0</a>, <a class="el" href="usb_8h_source.html#l00348">USB_EP_1</a>, <a class="el" href="usb_8h_source.html#l00349">USB_EP_2</a>, <a class="el" href="usb_8h_source.html#l00350">USB_EP_3</a>, <a class="el" href="usb_8h_source.html#l00351">USB_EP_4</a>, <a class="el" href="usb_8h_source.html#l00352">USB_EP_5</a>, <a class="el" href="usb_8h_source.html#l00353">USB_EP_6</a>, <a class="el" href="usb_8h_source.html#l00354">USB_EP_7</a>, <a class="el" href="hw__usb_8h_source.html#l00162">USB_O_CSRL0</a>, <a class="el" href="hw__usb_8h_source.html#l00178">USB_O_RXCSRL1</a>, and <a class="el" href="hw__usb_8h_source.html#l01305">USB_RXCSRL1_REQPKT</a>.</p>
<div class="fragment"><div class="line"><a name="l03279"></a><span class="lineno"> 3279</span>&#160;{</div>
<div class="line"><a name="l03280"></a><span class="lineno"> 3280</span>&#160;    uint32_t ui32Register;</div>
<div class="line"><a name="l03281"></a><span class="lineno"> 3281</span>&#160;</div>
<div class="line"><a name="l03282"></a><span class="lineno"> 3282</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03283"></a><span class="lineno"> 3283</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l03284"></a><span class="lineno"> 3284</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03285"></a><span class="lineno"> 3285</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a>);</div>
<div class="line"><a name="l03286"></a><span class="lineno"> 3286</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32Endpoint == <a class="code" href="usb_8h.html#a17438a2055fa93adc8baabd84a697246">USB_EP_0</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a4e39f33c6467bddfb7d3e92a2ea5b789">USB_EP_1</a>) ||</div>
<div class="line"><a name="l03287"></a><span class="lineno"> 3287</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a13cce6caa2ecdaa333ae6a9fe5869e32">USB_EP_2</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#ab0f7986e9b00a278f0d9546e1d646440">USB_EP_3</a>) ||</div>
<div class="line"><a name="l03288"></a><span class="lineno"> 3288</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a8e177910552fb7eeb3c11ef9e35d7439">USB_EP_4</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a73892b0ca4c30f38c7fef4d7d6fd2caf">USB_EP_5</a>) ||</div>
<div class="line"><a name="l03289"></a><span class="lineno"> 3289</span>&#160;           (ui32Endpoint == <a class="code" href="usb_8h.html#a4a0a3d355ece777a24c1fcfc192a7ef7">USB_EP_6</a>) || (ui32Endpoint == <a class="code" href="usb_8h.html#a78dcce1706922dc17a6baf4e8f37150d">USB_EP_7</a>));</div>
<div class="line"><a name="l03290"></a><span class="lineno"> 3290</span>&#160;</div>
<div class="line"><a name="l03291"></a><span class="lineno"> 3291</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03292"></a><span class="lineno"> 3292</span>&#160;    <span class="comment">// Endpoint zero uses a different offset than the other endpoints.</span></div>
<div class="line"><a name="l03293"></a><span class="lineno"> 3293</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03294"></a><span class="lineno"> 3294</span>&#160;    <span class="keywordflow">if</span>(ui32Endpoint == <a class="code" href="usb_8h.html#a17438a2055fa93adc8baabd84a697246">USB_EP_0</a>)</div>
<div class="line"><a name="l03295"></a><span class="lineno"> 3295</span>&#160;    {</div>
<div class="line"><a name="l03296"></a><span class="lineno"> 3296</span>&#160;        ui32Register = <a class="code" href="hw__usb_8h.html#a095977f9007e9e6af6f00eab8e1f64b1">USB_O_CSRL0</a>;</div>
<div class="line"><a name="l03297"></a><span class="lineno"> 3297</span>&#160;    }</div>
<div class="line"><a name="l03298"></a><span class="lineno"> 3298</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l03299"></a><span class="lineno"> 3299</span>&#160;    {</div>
<div class="line"><a name="l03300"></a><span class="lineno"> 3300</span>&#160;        ui32Register = <a class="code" href="hw__usb_8h.html#a57bc94dcb14fdfc3f27d6320c7de3a86">USB_O_RXCSRL1</a> + <a class="code" href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a>(ui32Endpoint);</div>
<div class="line"><a name="l03301"></a><span class="lineno"> 3301</span>&#160;    }</div>
<div class="line"><a name="l03302"></a><span class="lineno"> 3302</span>&#160;</div>
<div class="line"><a name="l03303"></a><span class="lineno"> 3303</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03304"></a><span class="lineno"> 3304</span>&#160;    <span class="comment">// Clear the request for an IN transaction.</span></div>
<div class="line"><a name="l03305"></a><span class="lineno"> 3305</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03306"></a><span class="lineno"> 3306</span>&#160;    <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + ui32Register) &amp;= ~<a class="code" href="hw__usb_8h.html#ab0c39bc6e00519be3dae6d53610e5156">USB_RXCSRL1_REQPKT</a>;</div>
<div class="line"><a name="l03307"></a><span class="lineno"> 3307</span>&#160;}</div>
<div class="ttc" id="usb_8h_html_a8e177910552fb7eeb3c11ef9e35d7439"><div class="ttname"><a href="usb_8h.html#a8e177910552fb7eeb3c11ef9e35d7439">USB_EP_4</a></div><div class="ttdeci">#define USB_EP_4</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00351">usb.h:351</a></div></div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a57bc94dcb14fdfc3f27d6320c7de3a86"><div class="ttname"><a href="hw__usb_8h.html#a57bc94dcb14fdfc3f27d6320c7de3a86">USB_O_RXCSRL1</a></div><div class="ttdeci">#define USB_O_RXCSRL1</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00178">hw_usb.h:178</a></div></div>
<div class="ttc" id="usb_8h_html_a73892b0ca4c30f38c7fef4d7d6fd2caf"><div class="ttname"><a href="usb_8h.html#a73892b0ca4c30f38c7fef4d7d6fd2caf">USB_EP_5</a></div><div class="ttdeci">#define USB_EP_5</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00352">usb.h:352</a></div></div>
<div class="ttc" id="usb_8h_html_a4a0a3d355ece777a24c1fcfc192a7ef7"><div class="ttname"><a href="usb_8h.html#a4a0a3d355ece777a24c1fcfc192a7ef7">USB_EP_6</a></div><div class="ttdeci">#define USB_EP_6</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00353">usb.h:353</a></div></div>
<div class="ttc" id="usb_8h_html_ab0f7986e9b00a278f0d9546e1d646440"><div class="ttname"><a href="usb_8h.html#ab0f7986e9b00a278f0d9546e1d646440">USB_EP_3</a></div><div class="ttdeci">#define USB_EP_3</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00350">usb.h:350</a></div></div>
<div class="ttc" id="usb_8h_html_a17438a2055fa93adc8baabd84a697246"><div class="ttname"><a href="usb_8h.html#a17438a2055fa93adc8baabd84a697246">USB_EP_0</a></div><div class="ttdeci">#define USB_EP_0</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00347">usb.h:347</a></div></div>
<div class="ttc" id="usb_8h_html_a13cce6caa2ecdaa333ae6a9fe5869e32"><div class="ttname"><a href="usb_8h.html#a13cce6caa2ecdaa333ae6a9fe5869e32">USB_EP_2</a></div><div class="ttdeci">#define USB_EP_2</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00349">usb.h:349</a></div></div>
<div class="ttc" id="usb_8h_html_a4e39f33c6467bddfb7d3e92a2ea5b789"><div class="ttname"><a href="usb_8h.html#a4e39f33c6467bddfb7d3e92a2ea5b789">USB_EP_1</a></div><div class="ttdeci">#define USB_EP_1</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00348">usb.h:348</a></div></div>
<div class="ttc" id="hw__usb_8h_html_ab0c39bc6e00519be3dae6d53610e5156"><div class="ttname"><a href="hw__usb_8h.html#ab0c39bc6e00519be3dae6d53610e5156">USB_RXCSRL1_REQPKT</a></div><div class="ttdeci">#define USB_RXCSRL1_REQPKT</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01305">hw_usb.h:1305</a></div></div>
<div class="ttc" id="hw__types_8h_html_a084083ee12e5262f8e54bb56c15ac8c7"><div class="ttname"><a href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a></div><div class="ttdeci">#define HWREGB(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00052">hw_types.h:52</a></div></div>
<div class="ttc" id="group__usb__api_html_gaadf74b0caf840f0d3222cb1dc563684c"><div class="ttname"><a href="group__usb__api.html#gaadf74b0caf840f0d3222cb1dc563684c">EP_OFFSET</a></div><div class="ttdeci">#define EP_OFFSET(Endpoint)</div><div class="ttdef"><b>Definition:</b> <a href="usb_8c_source.html#l00082">usb.c:82</a></div></div>
<div class="ttc" id="hw__memmap_8h_html_aa47acf4992407a85e79d911ca1055d17"><div class="ttname"><a href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a></div><div class="ttdeci">#define USB0_BASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__memmap_8h_source.html#l00099">hw_memmap.h:99</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a095977f9007e9e6af6f00eab8e1f64b1"><div class="ttname"><a href="hw__usb_8h.html#a095977f9007e9e6af6f00eab8e1f64b1">USB_O_CSRL0</a></div><div class="ttdeci">#define USB_O_CSRL0</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00162">hw_usb.h:162</a></div></div>
<div class="ttc" id="usb_8h_html_a78dcce1706922dc17a6baf4e8f37150d"><div class="ttname"><a href="usb_8h.html#a78dcce1706922dc17a6baf4e8f37150d">USB_EP_7</a></div><div class="ttdeci">#define USB_EP_7</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00354">usb.h:354</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gab86cfa671692d2343d83d38e1b127110"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USBHostRequestStatus </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Issues a request for a status IN transaction on endpoint zero.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address.</td></tr>
  </table>
  </dd>
</dl>
<p>This function is used to cause a request for a status IN transaction from a device on endpoint zero. This function can only be used with endpoint zero as that is the only control endpoint that supports this ability. This function is used to complete the last phase of a control transaction to a device and an interrupt is signaled when the status packet has been received.</p>
<dl class="section note"><dt>Note</dt><dd>This function must only be called in host mode.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="usb_8c_source.html#l03328">3328</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="hw__types_8h_source.html#l00052">HWREGB</a>, <a class="el" href="hw__memmap_8h_source.html#l00099">USB0_BASE</a>, <a class="el" href="hw__usb_8h_source.html#l01205">USB_CSRL0_REQPKT</a>, <a class="el" href="hw__usb_8h_source.html#l01203">USB_CSRL0_STATUS</a>, and <a class="el" href="hw__usb_8h_source.html#l00162">USB_O_CSRL0</a>.</p>
<div class="fragment"><div class="line"><a name="l03329"></a><span class="lineno"> 3329</span>&#160;{</div>
<div class="line"><a name="l03330"></a><span class="lineno"> 3330</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03331"></a><span class="lineno"> 3331</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l03332"></a><span class="lineno"> 3332</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03333"></a><span class="lineno"> 3333</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a>);</div>
<div class="line"><a name="l03334"></a><span class="lineno"> 3334</span>&#160;</div>
<div class="line"><a name="l03335"></a><span class="lineno"> 3335</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03336"></a><span class="lineno"> 3336</span>&#160;    <span class="comment">// Set the request for a status IN transaction.</span></div>
<div class="line"><a name="l03337"></a><span class="lineno"> 3337</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03338"></a><span class="lineno"> 3338</span>&#160;    <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a095977f9007e9e6af6f00eab8e1f64b1">USB_O_CSRL0</a>) = <a class="code" href="hw__usb_8h.html#a7141119d1f34061a07538d8cec93b05e">USB_CSRL0_REQPKT</a> | <a class="code" href="hw__usb_8h.html#a7bb1082edc6cc4924ee478cfaa4a020f">USB_CSRL0_STATUS</a>;</div>
<div class="line"><a name="l03339"></a><span class="lineno"> 3339</span>&#160;}</div>
<div class="ttc" id="hw__usb_8h_html_a7141119d1f34061a07538d8cec93b05e"><div class="ttname"><a href="hw__usb_8h.html#a7141119d1f34061a07538d8cec93b05e">USB_CSRL0_REQPKT</a></div><div class="ttdeci">#define USB_CSRL0_REQPKT</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01205">hw_usb.h:1205</a></div></div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a7bb1082edc6cc4924ee478cfaa4a020f"><div class="ttname"><a href="hw__usb_8h.html#a7bb1082edc6cc4924ee478cfaa4a020f">USB_CSRL0_STATUS</a></div><div class="ttdeci">#define USB_CSRL0_STATUS</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l01203">hw_usb.h:1203</a></div></div>
<div class="ttc" id="hw__types_8h_html_a084083ee12e5262f8e54bb56c15ac8c7"><div class="ttname"><a href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a></div><div class="ttdeci">#define HWREGB(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00052">hw_types.h:52</a></div></div>
<div class="ttc" id="hw__memmap_8h_html_aa47acf4992407a85e79d911ca1055d17"><div class="ttname"><a href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a></div><div class="ttdeci">#define USB0_BASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__memmap_8h_source.html#l00099">hw_memmap.h:99</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a095977f9007e9e6af6f00eab8e1f64b1"><div class="ttname"><a href="hw__usb_8h.html#a095977f9007e9e6af6f00eab8e1f64b1">USB_O_CSRL0</a></div><div class="ttdeci">#define USB_O_CSRL0</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00162">hw_usb.h:162</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga5855c6aac27d3f867721c70176d57b8d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USBHostReset </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bStart</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Handles the USB bus reset condition.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address. </td></tr>
    <tr><td class="paramname">bStart</td><td>specifies whether to start or stop signaling reset on the USB bus.</td></tr>
  </table>
  </dd>
</dl>
<p>When this function is called with the <em>bStart</em> parameter set to <b>true</b>, this function causes the start of a reset condition on the USB bus. The caller must then delay at least 20ms before calling this function again with the <em>bStart</em> parameter set to <b>false</b>.</p>
<dl class="section note"><dt>Note</dt><dd>This function must only be called in host mode.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="usb_8c_source.html#l00264">264</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="hw__types_8h_source.html#l00052">HWREGB</a>, <a class="el" href="hw__memmap_8h_source.html#l00099">USB0_BASE</a>, <a class="el" href="hw__usb_8h_source.html#l00049">USB_O_POWER</a>, and <a class="el" href="hw__usb_8h_source.html#l00425">USB_POWER_RESET</a>.</p>
<div class="fragment"><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;{</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a>);</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <span class="comment">// Send a reset signal to the bus.</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="keywordflow">if</span>(bStart)</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    {</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#ad3a1c8e8c4a2a78d507c6590aa4d2019">USB_O_POWER</a>) |= <a class="code" href="hw__usb_8h.html#a07be6b6ae6bc5b8829d50f4364e72170">USB_POWER_RESET</a>;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    }</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    {</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#ad3a1c8e8c4a2a78d507c6590aa4d2019">USB_O_POWER</a>) &amp;= ~<a class="code" href="hw__usb_8h.html#a07be6b6ae6bc5b8829d50f4364e72170">USB_POWER_RESET</a>;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    }</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;}</div>
<div class="ttc" id="hw__usb_8h_html_a07be6b6ae6bc5b8829d50f4364e72170"><div class="ttname"><a href="hw__usb_8h.html#a07be6b6ae6bc5b8829d50f4364e72170">USB_POWER_RESET</a></div><div class="ttdeci">#define USB_POWER_RESET</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00425">hw_usb.h:425</a></div></div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="hw__usb_8h_html_ad3a1c8e8c4a2a78d507c6590aa4d2019"><div class="ttname"><a href="hw__usb_8h.html#ad3a1c8e8c4a2a78d507c6590aa4d2019">USB_O_POWER</a></div><div class="ttdeci">#define USB_O_POWER</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00049">hw_usb.h:49</a></div></div>
<div class="ttc" id="hw__types_8h_html_a084083ee12e5262f8e54bb56c15ac8c7"><div class="ttname"><a href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a></div><div class="ttdeci">#define HWREGB(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00052">hw_types.h:52</a></div></div>
<div class="ttc" id="hw__memmap_8h_html_aa47acf4992407a85e79d911ca1055d17"><div class="ttname"><a href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a></div><div class="ttdeci">#define USB0_BASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__memmap_8h_source.html#l00099">hw_memmap.h:99</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga19c9936d7b17cd81b5b4969769e5b6c9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USBHostResume </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bStart</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Handles the USB bus resume condition.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address. </td></tr>
    <tr><td class="paramname">bStart</td><td>specifies if the USB controller is entering or leaving the resume signaling state.</td></tr>
  </table>
  </dd>
</dl>
<p>When in device mode, this function brings the USB controller out of the suspend state. This call must first be made with the <em>bStart</em> parameter set to <b>true</b> to start resume signaling. The device application must then delay at least 10ms but not more than 15ms before calling this function with the <em>bStart</em> parameter set to <b>false</b>.</p>
<p>When in host mode, this function signals devices to leave the suspend state. This call must first be made with the <em>bStart</em> parameter set to <b>true</b> to start resume signaling. The host application must then delay at least 20ms before calling this function with the <em>bStart</em> parameter set to <b>false</b>. This action causes the controller to complete the resume signaling on the USB bus.</p>
<dl class="section note"><dt>Note</dt><dd>This function must only be called in host mode.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="usb_8c_source.html#l00368">368</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="hw__types_8h_source.html#l00052">HWREGB</a>, <a class="el" href="hw__memmap_8h_source.html#l00099">USB0_BASE</a>, <a class="el" href="hw__usb_8h_source.html#l00049">USB_O_POWER</a>, and <a class="el" href="hw__usb_8h_source.html#l00426">USB_POWER_RESUME</a>.</p>
<div class="fragment"><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;{</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a>);</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="comment">// Send a resume signal to the bus.</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="keywordflow">if</span>(bStart)</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    {</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;        <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#ad3a1c8e8c4a2a78d507c6590aa4d2019">USB_O_POWER</a>) |= <a class="code" href="hw__usb_8h.html#a1b7d36d2650b70ee144894419244e4c8">USB_POWER_RESUME</a>;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    }</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    {</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#ad3a1c8e8c4a2a78d507c6590aa4d2019">USB_O_POWER</a>) &amp;= ~<a class="code" href="hw__usb_8h.html#a1b7d36d2650b70ee144894419244e4c8">USB_POWER_RESUME</a>;</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    }</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;}</div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a1b7d36d2650b70ee144894419244e4c8"><div class="ttname"><a href="hw__usb_8h.html#a1b7d36d2650b70ee144894419244e4c8">USB_POWER_RESUME</a></div><div class="ttdeci">#define USB_POWER_RESUME</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00426">hw_usb.h:426</a></div></div>
<div class="ttc" id="hw__usb_8h_html_ad3a1c8e8c4a2a78d507c6590aa4d2019"><div class="ttname"><a href="hw__usb_8h.html#ad3a1c8e8c4a2a78d507c6590aa4d2019">USB_O_POWER</a></div><div class="ttdeci">#define USB_O_POWER</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00049">hw_usb.h:49</a></div></div>
<div class="ttc" id="hw__types_8h_html_a084083ee12e5262f8e54bb56c15ac8c7"><div class="ttname"><a href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a></div><div class="ttdeci">#define HWREGB(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00052">hw_types.h:52</a></div></div>
<div class="ttc" id="hw__memmap_8h_html_aa47acf4992407a85e79d911ca1055d17"><div class="ttname"><a href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a></div><div class="ttdeci">#define USB0_BASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__memmap_8h_source.html#l00099">hw_memmap.h:99</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga13ea6df3582326aeb9b234f15657ed7f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t USBHostSpeedGet </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the current speed of the USB device connected.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address.</td></tr>
  </table>
  </dd>
</dl>
<p>This function returns the current speed of the USB bus in host mode.</p>
<p><b>Example:</b> Get the USB connection speed.</p>
<pre class="fragment">//! //
//! // Get the connection speed of the device connected to the USB controller.
//! //
//! USBHostSpeedGet(USB0_BASE);
//! </pre> <pre class="fragment">\note This function must only be called in host mode.

\return Returns one of the following: \b USB_LOW_SPEED, \b USB_FULL_SPEED,
\b USB_HIGH_SPEED, or \b USB_UNDEF_SPEED.  </pre> 
<p>Definition at line <a class="el" href="usb_8c_source.html#l00412">412</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="hw__types_8h_source.html#l00052">HWREGB</a>, <a class="el" href="hw__memmap_8h_source.html#l00099">USB0_BASE</a>, <a class="el" href="hw__usb_8h_source.html#l00617">USB_DEVCTL_FSDEV</a>, <a class="el" href="hw__usb_8h_source.html#l00618">USB_DEVCTL_LSDEV</a>, <a class="el" href="usb_8h_source.html#l00161">USB_FULL_SPEED</a>, <a class="el" href="usb_8h_source.html#l00160">USB_HIGH_SPEED</a>, <a class="el" href="usb_8h_source.html#l00162">USB_LOW_SPEED</a>, <a class="el" href="hw__usb_8h_source.html#l00067">USB_O_DEVCTL</a>, <a class="el" href="hw__usb_8h_source.html#l00049">USB_O_POWER</a>, <a class="el" href="hw__usb_8h_source.html#l00424">USB_POWER_HSMODE</a>, and <a class="el" href="usb_8h_source.html#l00159">USB_UNDEF_SPEED</a>.</p>
<div class="fragment"><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;{</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a>);</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    <span class="comment">// If the Full Speed device bit is set, then this is a full speed device.</span></div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#ad3a1c8e8c4a2a78d507c6590aa4d2019">USB_O_POWER</a>) &amp; <a class="code" href="hw__usb_8h.html#a45dc0abcc59469c9035589b99deab15f">USB_POWER_HSMODE</a>)</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    {</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        <span class="keywordflow">return</span>(<a class="code" href="usb_8h.html#ad2b3e75df582ecec2adfbc4c00406332">USB_HIGH_SPEED</a>);</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;    }</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    <span class="comment">// If the Full Speed device bit is set, then this is a full speed device.</span></div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a5fc89d07656f2fbb1d14dd7f05279dcd">USB_O_DEVCTL</a>) &amp; <a class="code" href="hw__usb_8h.html#aa141482d4f6178876a5b3334cb6678e6">USB_DEVCTL_FSDEV</a>)</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    {</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        <span class="keywordflow">return</span>(<a class="code" href="usb_8h.html#a254b82211d11df3f1649aad174b4cb92">USB_FULL_SPEED</a>);</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    }</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;    <span class="comment">// If the Low Speed device bit is set, then this is a low speed device.</span></div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a5fc89d07656f2fbb1d14dd7f05279dcd">USB_O_DEVCTL</a>) &amp; <a class="code" href="hw__usb_8h.html#a0074b44b7d227fc7082abf54a3efee80">USB_DEVCTL_LSDEV</a>)</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    {</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;        <span class="keywordflow">return</span>(<a class="code" href="usb_8h.html#a94ffa3513063a99bbcb1202714633fe5">USB_LOW_SPEED</a>);</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    }</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <span class="comment">// The device speed is not known.</span></div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <span class="keywordflow">return</span>(<a class="code" href="usb_8h.html#a2c6634a58c66a452f47799f42afb183e">USB_UNDEF_SPEED</a>);</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;}</div>
<div class="ttc" id="hw__usb_8h_html_a45dc0abcc59469c9035589b99deab15f"><div class="ttname"><a href="hw__usb_8h.html#a45dc0abcc59469c9035589b99deab15f">USB_POWER_HSMODE</a></div><div class="ttdeci">#define USB_POWER_HSMODE</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00424">hw_usb.h:424</a></div></div>
<div class="ttc" id="usb_8h_html_a94ffa3513063a99bbcb1202714633fe5"><div class="ttname"><a href="usb_8h.html#a94ffa3513063a99bbcb1202714633fe5">USB_LOW_SPEED</a></div><div class="ttdeci">#define USB_LOW_SPEED</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00162">usb.h:162</a></div></div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="hw__usb_8h_html_aa141482d4f6178876a5b3334cb6678e6"><div class="ttname"><a href="hw__usb_8h.html#aa141482d4f6178876a5b3334cb6678e6">USB_DEVCTL_FSDEV</a></div><div class="ttdeci">#define USB_DEVCTL_FSDEV</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00617">hw_usb.h:617</a></div></div>
<div class="ttc" id="usb_8h_html_ad2b3e75df582ecec2adfbc4c00406332"><div class="ttname"><a href="usb_8h.html#ad2b3e75df582ecec2adfbc4c00406332">USB_HIGH_SPEED</a></div><div class="ttdeci">#define USB_HIGH_SPEED</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00160">usb.h:160</a></div></div>
<div class="ttc" id="usb_8h_html_a2c6634a58c66a452f47799f42afb183e"><div class="ttname"><a href="usb_8h.html#a2c6634a58c66a452f47799f42afb183e">USB_UNDEF_SPEED</a></div><div class="ttdeci">#define USB_UNDEF_SPEED</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00159">usb.h:159</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a0074b44b7d227fc7082abf54a3efee80"><div class="ttname"><a href="hw__usb_8h.html#a0074b44b7d227fc7082abf54a3efee80">USB_DEVCTL_LSDEV</a></div><div class="ttdeci">#define USB_DEVCTL_LSDEV</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00618">hw_usb.h:618</a></div></div>
<div class="ttc" id="usb_8h_html_a254b82211d11df3f1649aad174b4cb92"><div class="ttname"><a href="usb_8h.html#a254b82211d11df3f1649aad174b4cb92">USB_FULL_SPEED</a></div><div class="ttdeci">#define USB_FULL_SPEED</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00161">usb.h:161</a></div></div>
<div class="ttc" id="hw__usb_8h_html_ad3a1c8e8c4a2a78d507c6590aa4d2019"><div class="ttname"><a href="hw__usb_8h.html#ad3a1c8e8c4a2a78d507c6590aa4d2019">USB_O_POWER</a></div><div class="ttdeci">#define USB_O_POWER</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00049">hw_usb.h:49</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a5fc89d07656f2fbb1d14dd7f05279dcd"><div class="ttname"><a href="hw__usb_8h.html#a5fc89d07656f2fbb1d14dd7f05279dcd">USB_O_DEVCTL</a></div><div class="ttdeci">#define USB_O_DEVCTL</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00067">hw_usb.h:67</a></div></div>
<div class="ttc" id="hw__types_8h_html_a084083ee12e5262f8e54bb56c15ac8c7"><div class="ttname"><a href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a></div><div class="ttdeci">#define HWREGB(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00052">hw_types.h:52</a></div></div>
<div class="ttc" id="hw__memmap_8h_html_aa47acf4992407a85e79d911ca1055d17"><div class="ttname"><a href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a></div><div class="ttdeci">#define USB0_BASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__memmap_8h_source.html#l00099">hw_memmap.h:99</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gaf63de77efc2ce0912a4be7e5970d6888"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USBHostSuspend </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Puts the USB bus in a suspended state.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address.</td></tr>
  </table>
  </dd>
</dl>
<p>When used in host mode, this function puts the USB bus in the suspended state.</p>
<dl class="section note"><dt>Note</dt><dd>This function must only be called in host mode.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="usb_8c_source.html#l00232">232</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="hw__types_8h_source.html#l00052">HWREGB</a>, <a class="el" href="hw__memmap_8h_source.html#l00099">USB0_BASE</a>, <a class="el" href="hw__usb_8h_source.html#l00049">USB_O_POWER</a>, and <a class="el" href="hw__usb_8h_source.html#l00427">USB_POWER_SUSPEND</a>.</p>
<div class="fragment"><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;{</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a>);</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="comment">// Send the suspend signaling to the USB bus.</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;    <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#ad3a1c8e8c4a2a78d507c6590aa4d2019">USB_O_POWER</a>) |= <a class="code" href="hw__usb_8h.html#a26f24c171021e851e56f6bc09ce30e1f">USB_POWER_SUSPEND</a>;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;}</div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a26f24c171021e851e56f6bc09ce30e1f"><div class="ttname"><a href="hw__usb_8h.html#a26f24c171021e851e56f6bc09ce30e1f">USB_POWER_SUSPEND</a></div><div class="ttdeci">#define USB_POWER_SUSPEND</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00427">hw_usb.h:427</a></div></div>
<div class="ttc" id="hw__usb_8h_html_ad3a1c8e8c4a2a78d507c6590aa4d2019"><div class="ttname"><a href="hw__usb_8h.html#ad3a1c8e8c4a2a78d507c6590aa4d2019">USB_O_POWER</a></div><div class="ttdeci">#define USB_O_POWER</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00049">hw_usb.h:49</a></div></div>
<div class="ttc" id="hw__types_8h_html_a084083ee12e5262f8e54bb56c15ac8c7"><div class="ttname"><a href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a></div><div class="ttdeci">#define HWREGB(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00052">hw_types.h:52</a></div></div>
<div class="ttc" id="hw__memmap_8h_html_aa47acf4992407a85e79d911ca1055d17"><div class="ttname"><a href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a></div><div class="ttdeci">#define USB0_BASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__memmap_8h_source.html#l00099">hw_memmap.h:99</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gace8dc370774ff8b09997378277e13041"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USBIntDisableControl </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Disables control interrupts on a specified USB controller.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address. </td></tr>
    <tr><td class="paramname">ui32Flags</td><td>specifies which control interrupts to disable.</td></tr>
  </table>
  </dd>
</dl>
<p>This function disables the control interrupts for the USB controller specified by the <em>ui32Base</em> parameter. The <em>ui32Flags</em> parameter specifies which control interrupts to disable. The flags passed in the <em>ui32Flags</em> parameters must be the definitions that start with <b>USB_INTCTRL_*</b> and not any other <b>USB_INT</b> flags.</p>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="usb_8c_source.html#l00509">509</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="hw__types_8h_source.html#l00048">HWREG</a>, <a class="el" href="hw__types_8h_source.html#l00052">HWREGB</a>, <a class="el" href="hw__memmap_8h_source.html#l00099">USB0_BASE</a>, <a class="el" href="usb_8h_source.html#l00061">USB_INTCTRL_ALL</a>, <a class="el" href="usb_8h_source.html#l00073">USB_INTCTRL_MODE_DETECT</a>, <a class="el" href="usb_8h_source.html#l00074">USB_INTCTRL_POWER_FAULT</a>, <a class="el" href="usb_8h_source.html#l00062">USB_INTCTRL_STATUS</a>, <a class="el" href="hw__usb_8h_source.html#l00379">USB_O_EPCIM</a>, <a class="el" href="hw__usb_8h_source.html#l00399">USB_O_IDVIM</a>, and <a class="el" href="hw__usb_8h_source.html#l00055">USB_O_IE</a>.</p>
<div class="fragment"><div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;{</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a>);</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32Flags &amp; ~(<a class="code" href="usb_8h.html#ac00638d8e979e9df899209cef06473e3">USB_INTCTRL_ALL</a>)) == 0);</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    <span class="comment">// If any general interrupts were disabled then write the general interrupt</span></div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    <span class="comment">// settings out to the hardware.</span></div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;    <span class="keywordflow">if</span>(ui32Flags &amp; <a class="code" href="usb_8h.html#a10b42c43898a73234ef89aab9eb4a902">USB_INTCTRL_STATUS</a>)</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    {</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#ae48b2643a2ba39329cf2ea7597a1f0b8">USB_O_IE</a>) &amp;= ~(ui32Flags &amp; <a class="code" href="usb_8h.html#a10b42c43898a73234ef89aab9eb4a902">USB_INTCTRL_STATUS</a>);</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    }</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    <span class="comment">// Disable the power fault interrupt.</span></div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;    <span class="keywordflow">if</span>(ui32Flags &amp; <a class="code" href="usb_8h.html#a4edbd272151cebcecb8d0d2c6028e76e">USB_INTCTRL_POWER_FAULT</a>)</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    {</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__usb_8h.html#add886d4759c91d33312419329010a612">USB_O_EPCIM</a>) = 0;</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    }</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <span class="comment">// Disable the ID pin detect interrupt.</span></div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <span class="keywordflow">if</span>(ui32Flags &amp; <a class="code" href="usb_8h.html#a8b1220edc0a796335fbc71064a5d938b">USB_INTCTRL_MODE_DETECT</a>)</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    {</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;        <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a> + <a class="code" href="hw__usb_8h.html#a589aec69350ab5bd24e63c72d14d5289">USB_O_IDVIM</a>) = 0;</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    }</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;}</div>
<div class="ttc" id="hw__usb_8h_html_ae48b2643a2ba39329cf2ea7597a1f0b8"><div class="ttname"><a href="hw__usb_8h.html#ae48b2643a2ba39329cf2ea7597a1f0b8">USB_O_IE</a></div><div class="ttdeci">#define USB_O_IE</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00055">hw_usb.h:55</a></div></div>
<div class="ttc" id="usb_8h_html_a10b42c43898a73234ef89aab9eb4a902"><div class="ttname"><a href="usb_8h.html#a10b42c43898a73234ef89aab9eb4a902">USB_INTCTRL_STATUS</a></div><div class="ttdeci">#define USB_INTCTRL_STATUS</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00062">usb.h:62</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a589aec69350ab5bd24e63c72d14d5289"><div class="ttname"><a href="hw__usb_8h.html#a589aec69350ab5bd24e63c72d14d5289">USB_O_IDVIM</a></div><div class="ttdeci">#define USB_O_IDVIM</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00399">hw_usb.h:399</a></div></div>
<div class="ttc" id="hw__types_8h_html_ac9660181819fceac0b5abcd67d76ca6e"><div class="ttname"><a href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a></div><div class="ttdeci">#define HWREG(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00048">hw_types.h:48</a></div></div>
<div class="ttc" id="usb_8h_html_a4edbd272151cebcecb8d0d2c6028e76e"><div class="ttname"><a href="usb_8h.html#a4edbd272151cebcecb8d0d2c6028e76e">USB_INTCTRL_POWER_FAULT</a></div><div class="ttdeci">#define USB_INTCTRL_POWER_FAULT</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00074">usb.h:74</a></div></div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="usb_8h_html_a8b1220edc0a796335fbc71064a5d938b"><div class="ttname"><a href="usb_8h.html#a8b1220edc0a796335fbc71064a5d938b">USB_INTCTRL_MODE_DETECT</a></div><div class="ttdeci">#define USB_INTCTRL_MODE_DETECT</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00073">usb.h:73</a></div></div>
<div class="ttc" id="usb_8h_html_ac00638d8e979e9df899209cef06473e3"><div class="ttname"><a href="usb_8h.html#ac00638d8e979e9df899209cef06473e3">USB_INTCTRL_ALL</a></div><div class="ttdeci">#define USB_INTCTRL_ALL</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00061">usb.h:61</a></div></div>
<div class="ttc" id="hw__usb_8h_html_add886d4759c91d33312419329010a612"><div class="ttname"><a href="hw__usb_8h.html#add886d4759c91d33312419329010a612">USB_O_EPCIM</a></div><div class="ttdeci">#define USB_O_EPCIM</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00379">hw_usb.h:379</a></div></div>
<div class="ttc" id="hw__types_8h_html_a084083ee12e5262f8e54bb56c15ac8c7"><div class="ttname"><a href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a></div><div class="ttdeci">#define HWREGB(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00052">hw_types.h:52</a></div></div>
<div class="ttc" id="hw__memmap_8h_html_aa47acf4992407a85e79d911ca1055d17"><div class="ttname"><a href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a></div><div class="ttdeci">#define USB0_BASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__memmap_8h_source.html#l00099">hw_memmap.h:99</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga426a977426ab190b6bb5b0938eb73976"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USBIntDisableEndpoint </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Disables endpoint interrupts on a specified USB controller.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address. </td></tr>
    <tr><td class="paramname">ui32Flags</td><td>specifies which endpoint interrupts to disable.</td></tr>
  </table>
  </dd>
</dl>
<p>This function disables endpoint interrupts for the USB controller specified by the <em>ui32Base</em> parameter. The <em>ui32Flags</em> parameter specifies which endpoint interrupts to disable. The flags passed in the <em>ui32Flags</em> parameters must be the definitions that start with <b>USB_INTEP_*</b> and not any other <b>USB_INT</b> flags.</p>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="usb_8c_source.html#l00702">702</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="hw__types_8h_source.html#l00050">HWREGH</a>, <a class="el" href="hw__memmap_8h_source.html#l00099">USB0_BASE</a>, <a class="el" href="usb_8h_source.html#l00152">USB_INTEP_0</a>, <a class="el" href="usb_8h_source.html#l00135">USB_INTEP_DEV_IN</a>, <a class="el" href="usb_8h_source.html#l00101">USB_INTEP_DEV_OUT</a>, <a class="el" href="usb_8h_source.html#l00084">USB_INTEP_HOST_IN</a>, <a class="el" href="usb_8h_source.html#l00118">USB_INTEP_HOST_OUT</a>, <a class="el" href="usb_8c_source.html#l00066">USB_INTEP_RX_SHIFT</a>, <a class="el" href="hw__usb_8h_source.html#l00053">USB_O_RXIE</a>, and <a class="el" href="hw__usb_8h_source.html#l00052">USB_O_TXIE</a>.</p>
<div class="fragment"><div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;{</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a>);</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    <span class="comment">// If any transmit interrupts were disabled, then write the transmit</span></div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;    <span class="comment">// interrupt settings out to the hardware.</span></div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;    <a class="code" href="hw__types_8h.html#ac664ac49fa3d7c414f67572e522a74fb">HWREGH</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a124817ef8175986c7d64ce5702bf32bd">USB_O_TXIE</a>) &amp;=</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;        ~(ui32Flags &amp; (<a class="code" href="usb_8h.html#ad040b23d93cfeb73448c4ae711f76610">USB_INTEP_HOST_OUT</a> | <a class="code" href="usb_8h.html#afca3aba661b7c1b662d0bfd5a367d84d">USB_INTEP_DEV_IN</a> | <a class="code" href="usb_8h.html#adb08df3018212f3804d08533f90be74f">USB_INTEP_0</a>));</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    <span class="comment">// If any receive interrupts were disabled, then write the receive</span></div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;    <span class="comment">// interrupt settings out to the hardware.</span></div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    <a class="code" href="hw__types_8h.html#ac664ac49fa3d7c414f67572e522a74fb">HWREGH</a>(ui32Base + <a class="code" href="hw__usb_8h.html#aac98c8b069ecf1600f3e62b0082de154">USB_O_RXIE</a>) &amp;=</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;        ~((ui32Flags &amp; (<a class="code" href="usb_8h.html#ac59c2432d90938342fc91d7995cf64ab">USB_INTEP_HOST_IN</a> | <a class="code" href="usb_8h.html#a832eef4e62748988e7e149ecfcaa20cb">USB_INTEP_DEV_OUT</a>)) &gt;&gt;</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;          <a class="code" href="group__usb__api.html#ga30003dae047f43963cd6ba85ae6f0689">USB_INTEP_RX_SHIFT</a>);</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;}</div>
<div class="ttc" id="group__usb__api_html_ga30003dae047f43963cd6ba85ae6f0689"><div class="ttname"><a href="group__usb__api.html#ga30003dae047f43963cd6ba85ae6f0689">USB_INTEP_RX_SHIFT</a></div><div class="ttdeci">#define USB_INTEP_RX_SHIFT</div><div class="ttdef"><b>Definition:</b> <a href="usb_8c_source.html#l00066">usb.c:66</a></div></div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="usb_8h_html_adb08df3018212f3804d08533f90be74f"><div class="ttname"><a href="usb_8h.html#adb08df3018212f3804d08533f90be74f">USB_INTEP_0</a></div><div class="ttdeci">#define USB_INTEP_0</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00152">usb.h:152</a></div></div>
<div class="ttc" id="usb_8h_html_ad040b23d93cfeb73448c4ae711f76610"><div class="ttname"><a href="usb_8h.html#ad040b23d93cfeb73448c4ae711f76610">USB_INTEP_HOST_OUT</a></div><div class="ttdeci">#define USB_INTEP_HOST_OUT</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00118">usb.h:118</a></div></div>
<div class="ttc" id="usb_8h_html_a832eef4e62748988e7e149ecfcaa20cb"><div class="ttname"><a href="usb_8h.html#a832eef4e62748988e7e149ecfcaa20cb">USB_INTEP_DEV_OUT</a></div><div class="ttdeci">#define USB_INTEP_DEV_OUT</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00101">usb.h:101</a></div></div>
<div class="ttc" id="usb_8h_html_afca3aba661b7c1b662d0bfd5a367d84d"><div class="ttname"><a href="usb_8h.html#afca3aba661b7c1b662d0bfd5a367d84d">USB_INTEP_DEV_IN</a></div><div class="ttdeci">#define USB_INTEP_DEV_IN</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00135">usb.h:135</a></div></div>
<div class="ttc" id="hw__types_8h_html_ac664ac49fa3d7c414f67572e522a74fb"><div class="ttname"><a href="hw__types_8h.html#ac664ac49fa3d7c414f67572e522a74fb">HWREGH</a></div><div class="ttdeci">#define HWREGH(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00050">hw_types.h:50</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a124817ef8175986c7d64ce5702bf32bd"><div class="ttname"><a href="hw__usb_8h.html#a124817ef8175986c7d64ce5702bf32bd">USB_O_TXIE</a></div><div class="ttdeci">#define USB_O_TXIE</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00052">hw_usb.h:52</a></div></div>
<div class="ttc" id="hw__usb_8h_html_aac98c8b069ecf1600f3e62b0082de154"><div class="ttname"><a href="hw__usb_8h.html#aac98c8b069ecf1600f3e62b0082de154">USB_O_RXIE</a></div><div class="ttdeci">#define USB_O_RXIE</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00053">hw_usb.h:53</a></div></div>
<div class="ttc" id="usb_8h_html_ac59c2432d90938342fc91d7995cf64ab"><div class="ttname"><a href="usb_8h.html#ac59c2432d90938342fc91d7995cf64ab">USB_INTEP_HOST_IN</a></div><div class="ttdeci">#define USB_INTEP_HOST_IN</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00084">usb.h:84</a></div></div>
<div class="ttc" id="hw__memmap_8h_html_aa47acf4992407a85e79d911ca1055d17"><div class="ttname"><a href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a></div><div class="ttdeci">#define USB0_BASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__memmap_8h_source.html#l00099">hw_memmap.h:99</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga1d07b07b2ca977373308380f92c6747f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USBIntEnableControl </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enables control interrupts on a specified USB controller.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address. </td></tr>
    <tr><td class="paramname">ui32Flags</td><td>specifies which control interrupts to enable.</td></tr>
  </table>
  </dd>
</dl>
<p>This function enables the control interrupts for the USB controller specified by the <em>ui32Base</em> parameter. The <em>ui32Flags</em> parameter specifies which control interrupts to enable. The flags passed in the <em>ui32Flags</em> parameters must be the definitions that start with <b>USB_INTCTRL_*</b> and not any other <b>USB_INT</b> flags.</p>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="usb_8c_source.html#l00560">560</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="hw__types_8h_source.html#l00048">HWREG</a>, <a class="el" href="hw__types_8h_source.html#l00052">HWREGB</a>, <a class="el" href="hw__memmap_8h_source.html#l00099">USB0_BASE</a>, <a class="el" href="hw__usb_8h_source.html#l02874">USB_EPCIM_PF</a>, <a class="el" href="hw__usb_8h_source.html#l02965">USB_IDVIM_ID</a>, <a class="el" href="usb_8h_source.html#l00061">USB_INTCTRL_ALL</a>, <a class="el" href="usb_8h_source.html#l00073">USB_INTCTRL_MODE_DETECT</a>, <a class="el" href="usb_8h_source.html#l00074">USB_INTCTRL_POWER_FAULT</a>, <a class="el" href="usb_8h_source.html#l00062">USB_INTCTRL_STATUS</a>, <a class="el" href="hw__usb_8h_source.html#l00379">USB_O_EPCIM</a>, <a class="el" href="hw__usb_8h_source.html#l00399">USB_O_IDVIM</a>, and <a class="el" href="hw__usb_8h_source.html#l00055">USB_O_IE</a>.</p>
<div class="fragment"><div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;{</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a>);</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32Flags &amp; (~<a class="code" href="usb_8h.html#ac00638d8e979e9df899209cef06473e3">USB_INTCTRL_ALL</a>)) == 0);</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;    <span class="comment">// If any general interrupts were enabled, then write the general</span></div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;    <span class="comment">// interrupt settings out to the hardware.</span></div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    <span class="keywordflow">if</span>(ui32Flags &amp; <a class="code" href="usb_8h.html#a10b42c43898a73234ef89aab9eb4a902">USB_INTCTRL_STATUS</a>)</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    {</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;        <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#ae48b2643a2ba39329cf2ea7597a1f0b8">USB_O_IE</a>) |= ui32Flags;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    }</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <span class="comment">// Enable the power fault interrupt.</span></div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    <span class="keywordflow">if</span>(ui32Flags &amp; <a class="code" href="usb_8h.html#a4edbd272151cebcecb8d0d2c6028e76e">USB_INTCTRL_POWER_FAULT</a>)</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;    {</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;        <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__usb_8h.html#add886d4759c91d33312419329010a612">USB_O_EPCIM</a>) = <a class="code" href="hw__usb_8h.html#ab0ba01a76c0f169310fb2819bb537220">USB_EPCIM_PF</a>;</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    }</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    <span class="comment">// Enable the ID pin detect interrupt.</span></div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <span class="keywordflow">if</span>(ui32Flags &amp; <a class="code" href="usb_8h.html#a8b1220edc0a796335fbc71064a5d938b">USB_INTCTRL_MODE_DETECT</a>)</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    {</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;        <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a> + <a class="code" href="hw__usb_8h.html#a589aec69350ab5bd24e63c72d14d5289">USB_O_IDVIM</a>) = <a class="code" href="hw__usb_8h.html#a9fd4d419cfbb95ce3358f6d1430efb85">USB_IDVIM_ID</a>;</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    }</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;}</div>
<div class="ttc" id="hw__usb_8h_html_ae48b2643a2ba39329cf2ea7597a1f0b8"><div class="ttname"><a href="hw__usb_8h.html#ae48b2643a2ba39329cf2ea7597a1f0b8">USB_O_IE</a></div><div class="ttdeci">#define USB_O_IE</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00055">hw_usb.h:55</a></div></div>
<div class="ttc" id="usb_8h_html_a10b42c43898a73234ef89aab9eb4a902"><div class="ttname"><a href="usb_8h.html#a10b42c43898a73234ef89aab9eb4a902">USB_INTCTRL_STATUS</a></div><div class="ttdeci">#define USB_INTCTRL_STATUS</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00062">usb.h:62</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a589aec69350ab5bd24e63c72d14d5289"><div class="ttname"><a href="hw__usb_8h.html#a589aec69350ab5bd24e63c72d14d5289">USB_O_IDVIM</a></div><div class="ttdeci">#define USB_O_IDVIM</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00399">hw_usb.h:399</a></div></div>
<div class="ttc" id="hw__types_8h_html_ac9660181819fceac0b5abcd67d76ca6e"><div class="ttname"><a href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a></div><div class="ttdeci">#define HWREG(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00048">hw_types.h:48</a></div></div>
<div class="ttc" id="usb_8h_html_a4edbd272151cebcecb8d0d2c6028e76e"><div class="ttname"><a href="usb_8h.html#a4edbd272151cebcecb8d0d2c6028e76e">USB_INTCTRL_POWER_FAULT</a></div><div class="ttdeci">#define USB_INTCTRL_POWER_FAULT</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00074">usb.h:74</a></div></div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="usb_8h_html_a8b1220edc0a796335fbc71064a5d938b"><div class="ttname"><a href="usb_8h.html#a8b1220edc0a796335fbc71064a5d938b">USB_INTCTRL_MODE_DETECT</a></div><div class="ttdeci">#define USB_INTCTRL_MODE_DETECT</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00073">usb.h:73</a></div></div>
<div class="ttc" id="usb_8h_html_ac00638d8e979e9df899209cef06473e3"><div class="ttname"><a href="usb_8h.html#ac00638d8e979e9df899209cef06473e3">USB_INTCTRL_ALL</a></div><div class="ttdeci">#define USB_INTCTRL_ALL</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00061">usb.h:61</a></div></div>
<div class="ttc" id="hw__usb_8h_html_add886d4759c91d33312419329010a612"><div class="ttname"><a href="hw__usb_8h.html#add886d4759c91d33312419329010a612">USB_O_EPCIM</a></div><div class="ttdeci">#define USB_O_EPCIM</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00379">hw_usb.h:379</a></div></div>
<div class="ttc" id="hw__usb_8h_html_ab0ba01a76c0f169310fb2819bb537220"><div class="ttname"><a href="hw__usb_8h.html#ab0ba01a76c0f169310fb2819bb537220">USB_EPCIM_PF</a></div><div class="ttdeci">#define USB_EPCIM_PF</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l02874">hw_usb.h:2874</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a9fd4d419cfbb95ce3358f6d1430efb85"><div class="ttname"><a href="hw__usb_8h.html#a9fd4d419cfbb95ce3358f6d1430efb85">USB_IDVIM_ID</a></div><div class="ttdeci">#define USB_IDVIM_ID</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l02965">hw_usb.h:2965</a></div></div>
<div class="ttc" id="hw__types_8h_html_a084083ee12e5262f8e54bb56c15ac8c7"><div class="ttname"><a href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a></div><div class="ttdeci">#define HWREGB(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00052">hw_types.h:52</a></div></div>
<div class="ttc" id="hw__memmap_8h_html_aa47acf4992407a85e79d911ca1055d17"><div class="ttname"><a href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a></div><div class="ttdeci">#define USB0_BASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__memmap_8h_source.html#l00099">hw_memmap.h:99</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga37a65b0b311de6869aeba2b25f7c4c29"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USBIntEnableEndpoint </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enables endpoint interrupts on a specified USB controller.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address. </td></tr>
    <tr><td class="paramname">ui32Flags</td><td>specifies which endpoint interrupts to enable.</td></tr>
  </table>
  </dd>
</dl>
<p>This function enables endpoint interrupts for the USB controller specified by the <em>ui32Base</em> parameter. The <em>ui32Flags</em> parameter specifies which endpoint interrupts to enable. The flags passed in the <em>ui32Flags</em> parameters must be the definitions that start with <b>USB_INTEP_*</b> and not any other <b>USB_INT</b> flags.</p>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="usb_8c_source.html#l00742">742</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="hw__types_8h_source.html#l00050">HWREGH</a>, <a class="el" href="hw__memmap_8h_source.html#l00099">USB0_BASE</a>, <a class="el" href="usb_8h_source.html#l00152">USB_INTEP_0</a>, <a class="el" href="usb_8h_source.html#l00135">USB_INTEP_DEV_IN</a>, <a class="el" href="usb_8h_source.html#l00101">USB_INTEP_DEV_OUT</a>, <a class="el" href="usb_8h_source.html#l00084">USB_INTEP_HOST_IN</a>, <a class="el" href="usb_8h_source.html#l00118">USB_INTEP_HOST_OUT</a>, <a class="el" href="usb_8c_source.html#l00066">USB_INTEP_RX_SHIFT</a>, <a class="el" href="hw__usb_8h_source.html#l00053">USB_O_RXIE</a>, and <a class="el" href="hw__usb_8h_source.html#l00052">USB_O_TXIE</a>.</p>
<div class="fragment"><div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;{</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a>);</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    <span class="comment">// Enable any transmit endpoint interrupts.</span></div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    <a class="code" href="hw__types_8h.html#ac664ac49fa3d7c414f67572e522a74fb">HWREGH</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a124817ef8175986c7d64ce5702bf32bd">USB_O_TXIE</a>) |=</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;        ui32Flags &amp; (<a class="code" href="usb_8h.html#ad040b23d93cfeb73448c4ae711f76610">USB_INTEP_HOST_OUT</a> | <a class="code" href="usb_8h.html#afca3aba661b7c1b662d0bfd5a367d84d">USB_INTEP_DEV_IN</a> | <a class="code" href="usb_8h.html#adb08df3018212f3804d08533f90be74f">USB_INTEP_0</a>);</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    <span class="comment">// Enable any receive endpoint interrupts.</span></div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    <a class="code" href="hw__types_8h.html#ac664ac49fa3d7c414f67572e522a74fb">HWREGH</a>(ui32Base + <a class="code" href="hw__usb_8h.html#aac98c8b069ecf1600f3e62b0082de154">USB_O_RXIE</a>) |=</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;        ((ui32Flags &amp; (<a class="code" href="usb_8h.html#ac59c2432d90938342fc91d7995cf64ab">USB_INTEP_HOST_IN</a> | <a class="code" href="usb_8h.html#a832eef4e62748988e7e149ecfcaa20cb">USB_INTEP_DEV_OUT</a>)) &gt;&gt;</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;         <a class="code" href="group__usb__api.html#ga30003dae047f43963cd6ba85ae6f0689">USB_INTEP_RX_SHIFT</a>);</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;}</div>
<div class="ttc" id="group__usb__api_html_ga30003dae047f43963cd6ba85ae6f0689"><div class="ttname"><a href="group__usb__api.html#ga30003dae047f43963cd6ba85ae6f0689">USB_INTEP_RX_SHIFT</a></div><div class="ttdeci">#define USB_INTEP_RX_SHIFT</div><div class="ttdef"><b>Definition:</b> <a href="usb_8c_source.html#l00066">usb.c:66</a></div></div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="usb_8h_html_adb08df3018212f3804d08533f90be74f"><div class="ttname"><a href="usb_8h.html#adb08df3018212f3804d08533f90be74f">USB_INTEP_0</a></div><div class="ttdeci">#define USB_INTEP_0</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00152">usb.h:152</a></div></div>
<div class="ttc" id="usb_8h_html_ad040b23d93cfeb73448c4ae711f76610"><div class="ttname"><a href="usb_8h.html#ad040b23d93cfeb73448c4ae711f76610">USB_INTEP_HOST_OUT</a></div><div class="ttdeci">#define USB_INTEP_HOST_OUT</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00118">usb.h:118</a></div></div>
<div class="ttc" id="usb_8h_html_a832eef4e62748988e7e149ecfcaa20cb"><div class="ttname"><a href="usb_8h.html#a832eef4e62748988e7e149ecfcaa20cb">USB_INTEP_DEV_OUT</a></div><div class="ttdeci">#define USB_INTEP_DEV_OUT</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00101">usb.h:101</a></div></div>
<div class="ttc" id="usb_8h_html_afca3aba661b7c1b662d0bfd5a367d84d"><div class="ttname"><a href="usb_8h.html#afca3aba661b7c1b662d0bfd5a367d84d">USB_INTEP_DEV_IN</a></div><div class="ttdeci">#define USB_INTEP_DEV_IN</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00135">usb.h:135</a></div></div>
<div class="ttc" id="hw__types_8h_html_ac664ac49fa3d7c414f67572e522a74fb"><div class="ttname"><a href="hw__types_8h.html#ac664ac49fa3d7c414f67572e522a74fb">HWREGH</a></div><div class="ttdeci">#define HWREGH(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00050">hw_types.h:50</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a124817ef8175986c7d64ce5702bf32bd"><div class="ttname"><a href="hw__usb_8h.html#a124817ef8175986c7d64ce5702bf32bd">USB_O_TXIE</a></div><div class="ttdeci">#define USB_O_TXIE</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00052">hw_usb.h:52</a></div></div>
<div class="ttc" id="hw__usb_8h_html_aac98c8b069ecf1600f3e62b0082de154"><div class="ttname"><a href="hw__usb_8h.html#aac98c8b069ecf1600f3e62b0082de154">USB_O_RXIE</a></div><div class="ttdeci">#define USB_O_RXIE</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00053">hw_usb.h:53</a></div></div>
<div class="ttc" id="usb_8h_html_ac59c2432d90938342fc91d7995cf64ab"><div class="ttname"><a href="usb_8h.html#ac59c2432d90938342fc91d7995cf64ab">USB_INTEP_HOST_IN</a></div><div class="ttdeci">#define USB_INTEP_HOST_IN</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00084">usb.h:84</a></div></div>
<div class="ttc" id="hw__memmap_8h_html_aa47acf4992407a85e79d911ca1055d17"><div class="ttname"><a href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a></div><div class="ttdeci">#define USB0_BASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__memmap_8h_source.html#l00099">hw_memmap.h:99</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gaa8a3b5d7dd0c767873b1d42a5b40aa67"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USBIntRegister </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(void)&#160;</td>
          <td class="paramname"><em>pfnHandler</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Registers an interrupt handler for the USB controller.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address. </td></tr>
    <tr><td class="paramname">pfnHandler</td><td>is a pointer to the function to be called when a USB interrupt occurs.</td></tr>
  </table>
  </dd>
</dl>
<p>This function registers the handler to be called when a USB interrupt occurs and enables the global USB interrupt in the interrupt controller. The specific desired USB interrupts must be enabled via a separate call to USBIntEnable(). It is the interrupt handler's responsibility to clear the interrupt sources via calls to <a class="el" href="group__usb__api.html#gaeb586119918265fd5f02fc7574549547">USBIntStatusControl()</a> and <a class="el" href="group__usb__api.html#gadff57e2a9e63a8be23c935de236477e1">USBIntStatusEndpoint()</a>.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__interrupt__api.html#ga0a32aafea7f4904d2a64ee18b45f96c9">IntRegister()</a> for important information about registering interrupt handlers.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="usb_8c_source.html#l00859">859</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="usb_8c_source.html#l00818">_USBIntNumberGet()</a>, <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="interrupt_8c_source.html#l00610">IntEnable()</a>, <a class="el" href="interrupt_8c_source.html#l00309">IntRegister()</a>, and <a class="el" href="hw__memmap_8h_source.html#l00099">USB0_BASE</a>.</p>
<div class="fragment"><div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;{</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;    uint32_t ui32Int;</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a>);</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    ui32Int = <a class="code" href="group__usb__api.html#gac630e5bea6974c6d98f789ccc05d2559">_USBIntNumberGet</a>(ui32Base);</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Int != 0);</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    <span class="comment">// Register the interrupt handler.</span></div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;    <a class="code" href="group__interrupt__api.html#ga0a32aafea7f4904d2a64ee18b45f96c9">IntRegister</a>(ui32Int, pfnHandler);</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    <span class="comment">// Enable the USB interrupt.</span></div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    <a class="code" href="group__interrupt__api.html#ga49fc9c3d1a0f8c42a20249f8c5d360ce">IntEnable</a>(ui32Int);</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;}</div>
<div class="ttc" id="group__usb__api_html_gac630e5bea6974c6d98f789ccc05d2559"><div class="ttname"><a href="group__usb__api.html#gac630e5bea6974c6d98f789ccc05d2559">_USBIntNumberGet</a></div><div class="ttdeci">static uint32_t _USBIntNumberGet(uint32_t ui32Base)</div><div class="ttdef"><b>Definition:</b> <a href="usb_8c_source.html#l00818">usb.c:818</a></div></div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="group__interrupt__api_html_ga0a32aafea7f4904d2a64ee18b45f96c9"><div class="ttname"><a href="group__interrupt__api.html#ga0a32aafea7f4904d2a64ee18b45f96c9">IntRegister</a></div><div class="ttdeci">void IntRegister(uint32_t ui32Interrupt, void(*pfnHandler)(void))</div><div class="ttdef"><b>Definition:</b> <a href="interrupt_8c_source.html#l00309">interrupt.c:309</a></div></div>
<div class="ttc" id="group__interrupt__api_html_ga49fc9c3d1a0f8c42a20249f8c5d360ce"><div class="ttname"><a href="group__interrupt__api.html#ga49fc9c3d1a0f8c42a20249f8c5d360ce">IntEnable</a></div><div class="ttdeci">void IntEnable(uint32_t ui32Interrupt)</div><div class="ttdef"><b>Definition:</b> <a href="interrupt_8c_source.html#l00610">interrupt.c:610</a></div></div>
<div class="ttc" id="hw__memmap_8h_html_aa47acf4992407a85e79d911ca1055d17"><div class="ttname"><a href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a></div><div class="ttdeci">#define USB0_BASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__memmap_8h_source.html#l00099">hw_memmap.h:99</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__usb__api_gaa8a3b5d7dd0c767873b1d42a5b40aa67_cgraph.png" border="0" usemap="#group__usb__api_gaa8a3b5d7dd0c767873b1d42a5b40aa67_cgraph" alt=""/></div>
<map name="group__usb__api_gaa8a3b5d7dd0c767873b1d42a5b40aa67_cgraph" id="group__usb__api_gaa8a3b5d7dd0c767873b1d42a5b40aa67_cgraph">
<area shape="rect" id="node2" href="group__usb__api.html#gac630e5bea6974c6d98f789ccc05d2559" title="_USBIntNumberGet" alt="" coords="171,5,319,32"/><area shape="rect" id="node3" href="group__interrupt__api.html#ga49fc9c3d1a0f8c42a20249f8c5d360ce" title="IntEnable" alt="" coords="204,56,285,83"/><area shape="rect" id="node4" href="group__interrupt__api.html#ga0a32aafea7f4904d2a64ee18b45f96c9" title="IntRegister" alt="" coords="200,107,289,133"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaeb586119918265fd5f02fc7574549547"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t USBIntStatusControl </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the control interrupt status on a specified USB controller.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address.</td></tr>
  </table>
  </dd>
</dl>
<p>This function reads control interrupt status for a USB controller. This call returns the current status for control interrupts only, the endpoint interrupt status is retrieved by calling <a class="el" href="group__usb__api.html#gadff57e2a9e63a8be23c935de236477e1">USBIntStatusEndpoint()</a>. The bit values returned are compared against the <b>USB_INTCTRL_*</b> values.</p>
<p>The following are the meanings of all <b>USB_INCTRL_</b> flags and the modes for which they are valid. These values apply to any calls to <a class="el" href="group__usb__api.html#gaeb586119918265fd5f02fc7574549547">USBIntStatusControl()</a>, <a class="el" href="group__usb__api.html#ga1d07b07b2ca977373308380f92c6747f">USBIntEnableControl()</a>, and <a class="el" href="group__usb__api.html#gace8dc370774ff8b09997378277e13041">USBIntDisableControl()</a>. Some of these flags are only valid in the following modes as indicated in the parentheses: Host, Device, and OTG.</p>
<ul>
<li><b>USB_INTCTRL_ALL</b> - A full mask of all control interrupt sources.</li>
<li><b>USB_INTCTRL_VBUS_ERR</b> - A VBUS error has occurred (Host Only).</li>
<li><b>USB_INTCTRL_SESSION</b> - Session Start Detected on A-side of cable (OTG Only).</li>
<li><b>USB_INTCTRL_SESSION_END</b> - Session End Detected (Device Only)</li>
<li><b>USB_INTCTRL_DISCONNECT</b> - Device Disconnect Detected (Host Only)</li>
<li><b>USB_INTCTRL_CONNECT</b> - Device Connect Detected (Host Only)</li>
<li><b>USB_INTCTRL_SOF</b> - Start of Frame Detected.</li>
<li><b>USB_INTCTRL_BABBLE</b> - USB controller detected a device signaling past the end of a frame (Host Only)</li>
<li><b>USB_INTCTRL_RESET</b> - Reset signaling detected by device (Device Only)</li>
<li><b>USB_INTCTRL_RESUME</b> - Resume signaling detected.</li>
<li><b>USB_INTCTRL_SUSPEND</b> - Suspend signaling detected by device (Device Only)</li>
<li><b>USB_INTCTRL_MODE_DETECT</b> - OTG cable mode detection has completed (OTG Only)</li>
<li><b>USB_INTCTRL_POWER_FAULT</b> - Power Fault detected (Host Only)</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>This call clears the source of all of the control status interrupts.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the status of the control interrupts for a USB controller. </dd></dl>

<p>Definition at line <a class="el" href="usb_8c_source.html#l00635">635</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="hw__types_8h_source.html#l00048">HWREG</a>, <a class="el" href="hw__types_8h_source.html#l00052">HWREGB</a>, <a class="el" href="hw__memmap_8h_source.html#l00099">USB0_BASE</a>, <a class="el" href="hw__usb_8h_source.html#l02881">USB_EPCISC_PF</a>, <a class="el" href="hw__usb_8h_source.html#l02957">USB_IDVRIS_ID</a>, <a class="el" href="usb_8h_source.html#l00073">USB_INTCTRL_MODE_DETECT</a>, <a class="el" href="usb_8h_source.html#l00074">USB_INTCTRL_POWER_FAULT</a>, <a class="el" href="hw__usb_8h_source.html#l00381">USB_O_EPCISC</a>, <a class="el" href="hw__usb_8h_source.html#l00401">USB_O_IDVISC</a>, and <a class="el" href="hw__usb_8h_source.html#l00054">USB_O_IS</a>.</p>
<div class="fragment"><div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;{</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;    uint32_t ui32Status;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a>);</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    <span class="comment">// Get the general interrupt status, these bits go into the upper 8 bits</span></div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;    <span class="comment">// of the returned value.</span></div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    ui32Status = <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#ad57c612b75b42aad9d15aec00787bced">USB_O_IS</a>);</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    <span class="comment">// Add the power fault status.</span></div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__usb_8h.html#aec3e74ccce3b4e9e38c589a51614cc0e">USB_O_EPCISC</a>) &amp; <a class="code" href="hw__usb_8h.html#ac9f92c4601e8eb60b53d62c468794c50">USB_EPCISC_PF</a>)</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    {</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;        <span class="comment">// Indicate a power fault was detected.</span></div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;        ui32Status |= <a class="code" href="usb_8h.html#a4edbd272151cebcecb8d0d2c6028e76e">USB_INTCTRL_POWER_FAULT</a>;</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;        <span class="comment">// Clear the power fault interrupt.</span></div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;        <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#aec3e74ccce3b4e9e38c589a51614cc0e">USB_O_EPCISC</a>) |= <a class="code" href="hw__usb_8h.html#ac9f92c4601e8eb60b53d62c468794c50">USB_EPCISC_PF</a>;</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    }</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a> + <a class="code" href="hw__usb_8h.html#aab05d86db4358f683ff54c6b34ec0171">USB_O_IDVISC</a>) &amp; <a class="code" href="hw__usb_8h.html#a64349596181f53d571a3387efbce8e21">USB_IDVRIS_ID</a>)</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    {</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;        <span class="comment">// Indicate an id detection.</span></div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;        ui32Status |= <a class="code" href="usb_8h.html#a8b1220edc0a796335fbc71064a5d938b">USB_INTCTRL_MODE_DETECT</a>;</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;        <span class="comment">// Clear the id detection interrupt.</span></div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;        <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a> + <a class="code" href="hw__usb_8h.html#aab05d86db4358f683ff54c6b34ec0171">USB_O_IDVISC</a>) |= <a class="code" href="hw__usb_8h.html#a64349596181f53d571a3387efbce8e21">USB_IDVRIS_ID</a>;</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;    }</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;    <span class="comment">// Return the combined interrupt status.</span></div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;    <span class="keywordflow">return</span>(ui32Status);</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;}</div>
<div class="ttc" id="hw__usb_8h_html_aec3e74ccce3b4e9e38c589a51614cc0e"><div class="ttname"><a href="hw__usb_8h.html#aec3e74ccce3b4e9e38c589a51614cc0e">USB_O_EPCISC</a></div><div class="ttdeci">#define USB_O_EPCISC</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00381">hw_usb.h:381</a></div></div>
<div class="ttc" id="hw__types_8h_html_ac9660181819fceac0b5abcd67d76ca6e"><div class="ttname"><a href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a></div><div class="ttdeci">#define HWREG(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00048">hw_types.h:48</a></div></div>
<div class="ttc" id="usb_8h_html_a4edbd272151cebcecb8d0d2c6028e76e"><div class="ttname"><a href="usb_8h.html#a4edbd272151cebcecb8d0d2c6028e76e">USB_INTCTRL_POWER_FAULT</a></div><div class="ttdeci">#define USB_INTCTRL_POWER_FAULT</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00074">usb.h:74</a></div></div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="usb_8h_html_a8b1220edc0a796335fbc71064a5d938b"><div class="ttname"><a href="usb_8h.html#a8b1220edc0a796335fbc71064a5d938b">USB_INTCTRL_MODE_DETECT</a></div><div class="ttdeci">#define USB_INTCTRL_MODE_DETECT</div><div class="ttdef"><b>Definition:</b> <a href="usb_8h_source.html#l00073">usb.h:73</a></div></div>
<div class="ttc" id="hw__usb_8h_html_ad57c612b75b42aad9d15aec00787bced"><div class="ttname"><a href="hw__usb_8h.html#ad57c612b75b42aad9d15aec00787bced">USB_O_IS</a></div><div class="ttdeci">#define USB_O_IS</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00054">hw_usb.h:54</a></div></div>
<div class="ttc" id="hw__usb_8h_html_aab05d86db4358f683ff54c6b34ec0171"><div class="ttname"><a href="hw__usb_8h.html#aab05d86db4358f683ff54c6b34ec0171">USB_O_IDVISC</a></div><div class="ttdeci">#define USB_O_IDVISC</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00401">hw_usb.h:401</a></div></div>
<div class="ttc" id="hw__usb_8h_html_ac9f92c4601e8eb60b53d62c468794c50"><div class="ttname"><a href="hw__usb_8h.html#ac9f92c4601e8eb60b53d62c468794c50">USB_EPCISC_PF</a></div><div class="ttdeci">#define USB_EPCISC_PF</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l02881">hw_usb.h:2881</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a64349596181f53d571a3387efbce8e21"><div class="ttname"><a href="hw__usb_8h.html#a64349596181f53d571a3387efbce8e21">USB_IDVRIS_ID</a></div><div class="ttdeci">#define USB_IDVRIS_ID</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l02957">hw_usb.h:2957</a></div></div>
<div class="ttc" id="hw__types_8h_html_a084083ee12e5262f8e54bb56c15ac8c7"><div class="ttname"><a href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a></div><div class="ttdeci">#define HWREGB(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00052">hw_types.h:52</a></div></div>
<div class="ttc" id="hw__memmap_8h_html_aa47acf4992407a85e79d911ca1055d17"><div class="ttname"><a href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a></div><div class="ttdeci">#define USB0_BASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__memmap_8h_source.html#l00099">hw_memmap.h:99</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gadff57e2a9e63a8be23c935de236477e1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t USBIntStatusEndpoint </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the endpoint interrupt status on a specified USB controller.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address.</td></tr>
  </table>
  </dd>
</dl>
<p>This function reads endpoint interrupt status for a USB controller. This call returns the current status for endpoint interrupts only, the control interrupt status is retrieved by calling <a class="el" href="group__usb__api.html#gaeb586119918265fd5f02fc7574549547">USBIntStatusControl()</a>. The bit values returned are compared against the <b>USB_INTEP_*</b> values. These values are grouped into classes for <b>USB_INTEP_HOST_*</b> and <b>USB_INTEP_DEV_*</b> values to handle both host and device modes with all endpoints.</p>
<dl class="section note"><dt>Note</dt><dd>This call clears the source of all of the endpoint interrupts.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the status of the endpoint interrupts for a USB controller. </dd></dl>

<p>Definition at line <a class="el" href="usb_8c_source.html#l00783">783</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="hw__types_8h_source.html#l00050">HWREGH</a>, <a class="el" href="hw__memmap_8h_source.html#l00099">USB0_BASE</a>, <a class="el" href="usb_8c_source.html#l00066">USB_INTEP_RX_SHIFT</a>, <a class="el" href="hw__usb_8h_source.html#l00051">USB_O_RXIS</a>, and <a class="el" href="hw__usb_8h_source.html#l00050">USB_O_TXIS</a>.</p>
<div class="fragment"><div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;{</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    uint32_t ui32Status;</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a>);</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    <span class="comment">// Get the transmit interrupt status.</span></div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    ui32Status = <a class="code" href="hw__types_8h.html#ac664ac49fa3d7c414f67572e522a74fb">HWREGH</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a14fce45c175e0d914b9bc3701e12ca72">USB_O_TXIS</a>);</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    ui32Status |= (<a class="code" href="hw__types_8h.html#ac664ac49fa3d7c414f67572e522a74fb">HWREGH</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a9069bfcd4c703ece1f664196a0ad924f">USB_O_RXIS</a>) &lt;&lt; <a class="code" href="group__usb__api.html#ga30003dae047f43963cd6ba85ae6f0689">USB_INTEP_RX_SHIFT</a>);</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    <span class="comment">// Return the combined interrupt status.</span></div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;    <span class="keywordflow">return</span>(ui32Status);</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;}</div>
<div class="ttc" id="group__usb__api_html_ga30003dae047f43963cd6ba85ae6f0689"><div class="ttname"><a href="group__usb__api.html#ga30003dae047f43963cd6ba85ae6f0689">USB_INTEP_RX_SHIFT</a></div><div class="ttdeci">#define USB_INTEP_RX_SHIFT</div><div class="ttdef"><b>Definition:</b> <a href="usb_8c_source.html#l00066">usb.c:66</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a14fce45c175e0d914b9bc3701e12ca72"><div class="ttname"><a href="hw__usb_8h.html#a14fce45c175e0d914b9bc3701e12ca72">USB_O_TXIS</a></div><div class="ttdeci">#define USB_O_TXIS</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00050">hw_usb.h:50</a></div></div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="hw__types_8h_html_ac664ac49fa3d7c414f67572e522a74fb"><div class="ttname"><a href="hw__types_8h.html#ac664ac49fa3d7c414f67572e522a74fb">HWREGH</a></div><div class="ttdeci">#define HWREGH(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00050">hw_types.h:50</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a9069bfcd4c703ece1f664196a0ad924f"><div class="ttname"><a href="hw__usb_8h.html#a9069bfcd4c703ece1f664196a0ad924f">USB_O_RXIS</a></div><div class="ttdeci">#define USB_O_RXIS</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00051">hw_usb.h:51</a></div></div>
<div class="ttc" id="hw__memmap_8h_html_aa47acf4992407a85e79d911ca1055d17"><div class="ttname"><a href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a></div><div class="ttdeci">#define USB0_BASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__memmap_8h_source.html#l00099">hw_memmap.h:99</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga52446b27aa21e19ab5e81b552f50eb92"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USBIntUnregister </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Unregisters an interrupt handler for the USB controller.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address.</td></tr>
  </table>
  </dd>
</dl>
<p>This function unregisters the interrupt handler. This function also disables the USB interrupt in the interrupt controller.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__interrupt__api.html#ga0a32aafea7f4904d2a64ee18b45f96c9">IntRegister()</a> for important information about registering or unregistering interrupt handlers.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="usb_8c_source.html#l00899">899</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="usb_8c_source.html#l00818">_USBIntNumberGet()</a>, <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="interrupt_8c_source.html#l00684">IntDisable()</a>, <a class="el" href="interrupt_8c_source.html#l00381">IntUnregister()</a>, and <a class="el" href="hw__memmap_8h_source.html#l00099">USB0_BASE</a>.</p>
<div class="fragment"><div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;{</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    uint32_t ui32Int;</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a>);</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;    ui32Int = <a class="code" href="group__usb__api.html#gac630e5bea6974c6d98f789ccc05d2559">_USBIntNumberGet</a>(ui32Base);</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Int != 0);</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    <span class="comment">// Disable the USB interrupt.</span></div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;    <a class="code" href="group__interrupt__api.html#ga9af6b00884dc44e92b3d05ff821b5334">IntDisable</a>(ui32Int);</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;    <span class="comment">// Unregister the interrupt handler.</span></div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;    <a class="code" href="group__interrupt__api.html#ga5dffc81c27c005f83e9bfc30f775982a">IntUnregister</a>(ui32Int);</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;}</div>
<div class="ttc" id="group__usb__api_html_gac630e5bea6974c6d98f789ccc05d2559"><div class="ttname"><a href="group__usb__api.html#gac630e5bea6974c6d98f789ccc05d2559">_USBIntNumberGet</a></div><div class="ttdeci">static uint32_t _USBIntNumberGet(uint32_t ui32Base)</div><div class="ttdef"><b>Definition:</b> <a href="usb_8c_source.html#l00818">usb.c:818</a></div></div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="group__interrupt__api_html_ga5dffc81c27c005f83e9bfc30f775982a"><div class="ttname"><a href="group__interrupt__api.html#ga5dffc81c27c005f83e9bfc30f775982a">IntUnregister</a></div><div class="ttdeci">void IntUnregister(uint32_t ui32Interrupt)</div><div class="ttdef"><b>Definition:</b> <a href="interrupt_8c_source.html#l00381">interrupt.c:381</a></div></div>
<div class="ttc" id="group__interrupt__api_html_ga9af6b00884dc44e92b3d05ff821b5334"><div class="ttname"><a href="group__interrupt__api.html#ga9af6b00884dc44e92b3d05ff821b5334">IntDisable</a></div><div class="ttdeci">void IntDisable(uint32_t ui32Interrupt)</div><div class="ttdef"><b>Definition:</b> <a href="interrupt_8c_source.html#l00684">interrupt.c:684</a></div></div>
<div class="ttc" id="hw__memmap_8h_html_aa47acf4992407a85e79d911ca1055d17"><div class="ttname"><a href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a></div><div class="ttdeci">#define USB0_BASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__memmap_8h_source.html#l00099">hw_memmap.h:99</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__usb__api_ga52446b27aa21e19ab5e81b552f50eb92_cgraph.png" border="0" usemap="#group__usb__api_ga52446b27aa21e19ab5e81b552f50eb92_cgraph" alt=""/></div>
<map name="group__usb__api_ga52446b27aa21e19ab5e81b552f50eb92_cgraph" id="group__usb__api_ga52446b27aa21e19ab5e81b552f50eb92_cgraph">
<area shape="rect" id="node2" href="group__usb__api.html#gac630e5bea6974c6d98f789ccc05d2559" title="_USBIntNumberGet" alt="" coords="187,5,335,32"/><area shape="rect" id="node3" href="group__interrupt__api.html#ga9af6b00884dc44e92b3d05ff821b5334" title="IntDisable" alt="" coords="218,56,303,83"/><area shape="rect" id="node4" href="group__interrupt__api.html#ga5dffc81c27c005f83e9bfc30f775982a" title="IntUnregister" alt="" coords="208,107,313,133"/><area shape="rect" id="node5" href="group__interrupt__api.html#gaef37c406caeeb884ba343265b953120d" title="_IntDefaultHandler" alt="" coords="383,107,524,133"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga59f7d3338ddae125835a82d309ef1afb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USBModeConfig </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Change the operating mode of the USB controller.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address. </td></tr>
    <tr><td class="paramname">ui32Mode</td><td>specifies the operating mode of the USB OTG pins.</td></tr>
  </table>
  </dd>
</dl>
<p>This function changes the operating modes of the USB controller. When operating in full OTG mode, the USB controller uses the VBUS and ID pins to detect mode and voltage changes. While these pins are primarily used in OTG mode, they can also affect the operation of host and device modes. In device mode, the USB controller can be configured to monitor or ignore VBUS. Monitoring VBUS allows the controller to determine if it has been disconnected from the host. In host mode, the USB controller uses the VBUS pin to detect loss of VBUS caused by excessive power draw due to a drop in the VBUS voltage. This call takes the place of <a class="el" href="group__usb__api.html#gadaafef23f5f494492e13c3da006066eb">USBHostMode()</a>, <a class="el" href="group__usb__api.html#ga70dd112775656bd83ad8dc75ed5c53cb">USBDevMode()</a>, and <a class="el" href="group__usb__api.html#ga5328494d85a3f61060e56808c0087658">USBOTGMode()</a>. The <em>ui32Mode</em> value should be one of the following values:</p>
<ul>
<li><b>USB_MODE_OTG</b> enables operating in full OTG mode, VBUS and ID are used by the controller.</li>
<li><b>USB_MODE_HOST</b> enables operating only as a host with no monitoring of VBUS or ID pins.</li>
<li><b>USB_MODE_HOST_VBUS</b> enables operating only as a host with monitoring of VBUS pin. This configuration enables detection of VBUS droop while still forcing host mode.</li>
<li><b>USB_MODE_DEVICE</b> enables operating only as a device with no monitoring of VBUS or ID pins.</li>
<li><b>USB_MODE_DEVICE_VBUS</b> enables operating only as a device with monitoring of VBUS pin. This configuration enables disconnect detection while still forcing device mode.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>Some of the options above are not available on some Tiva devices. Please check the data sheet to determine if the USB controller supports a particular mode.</dd></dl>
<p><b>Example:</b> Force device mode but allow monitoring of the USB VBUS pin.</p>
<pre class="fragment">//! //
//! // Force device mode but allow monitoring of VBUS for disconnect.
//! //
//! USBModeConfig(USB_MODE_DEVICE_VBUS);
//! </pre> <pre class="fragment">\return None.  </pre> 
<p>Definition at line <a class="el" href="usb_8c_source.html#l04117">4117</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="hw__types_8h_source.html#l00048">HWREG</a>, <a class="el" href="hw__memmap_8h_source.html#l00099">USB0_BASE</a>, and <a class="el" href="hw__usb_8h_source.html#l00388">USB_O_GPCS</a>.</p>
<div class="fragment"><div class="line"><a name="l04118"></a><span class="lineno"> 4118</span>&#160;{</div>
<div class="line"><a name="l04119"></a><span class="lineno"> 4119</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l04120"></a><span class="lineno"> 4120</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l04121"></a><span class="lineno"> 4121</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l04122"></a><span class="lineno"> 4122</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a>);</div>
<div class="line"><a name="l04123"></a><span class="lineno"> 4123</span>&#160;</div>
<div class="line"><a name="l04124"></a><span class="lineno"> 4124</span>&#160;    <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a0568c2f09d0f22e71ad9a3c6360e8821">USB_O_GPCS</a>) = ui32Mode;</div>
<div class="line"><a name="l04125"></a><span class="lineno"> 4125</span>&#160;}</div>
<div class="ttc" id="hw__types_8h_html_ac9660181819fceac0b5abcd67d76ca6e"><div class="ttname"><a href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a></div><div class="ttdeci">#define HWREG(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00048">hw_types.h:48</a></div></div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a0568c2f09d0f22e71ad9a3c6360e8821"><div class="ttname"><a href="hw__usb_8h.html#a0568c2f09d0f22e71ad9a3c6360e8821">USB_O_GPCS</a></div><div class="ttdeci">#define USB_O_GPCS</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00388">hw_usb.h:388</a></div></div>
<div class="ttc" id="hw__memmap_8h_html_aa47acf4992407a85e79d911ca1055d17"><div class="ttname"><a href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a></div><div class="ttdeci">#define USB0_BASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__memmap_8h_source.html#l00099">hw_memmap.h:99</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga2b6e9d96726ca645ea7a6c441d68448a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t USBModeGet </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the current operating mode of the controller.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address.</td></tr>
  </table>
  </dd>
</dl>
<p>This function returns the current operating mode on USB controllers with OTG or Dual mode functionality.</p>
<p>For OTG controllers:</p>
<p>The function returns one of the following values on OTG controllers:</p>
<p><b>USB_OTG_MODE_ASIDE_HOST</b> indicates that the controller is in host mode on the A-side of the cable.</p>
<p><b>USB_OTG_MODE_ASIDE_DEV</b> indicates that the controller is in device mode on the A-side of the cable.</p>
<p><b>USB_OTG_MODE_BSIDE_HOST</b> indicates that the controller is in host mode on the B-side of the cable.</p>
<p><b>USB_OTG_MODE_BSIDE_DEV</b> indicates that the controller is in device mode on the B-side of the cable. If an OTG session request is started with no cable in place, this mode is the default.</p>
<p><b>USB_OTG_MODE_NONE</b> indicates that the controller is not attempting to determine its role in the system.</p>
<p>For Dual Mode controllers:</p>
<p>The function returns one of the following values:</p>
<p><b>USB_DUAL_MODE_HOST</b> indicates that the controller is acting as a host.</p>
<p><b>USB_DUAL_MODE_DEVICE</b> indicates that the controller acting as a device.</p>
<p><b>USB_DUAL_MODE_NONE</b> indicates that the controller is not active as either a host or device.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns <b>USB_OTG_MODE_ASIDE_HOST</b>, <b>USB_OTG_MODE_ASIDE_DEV</b>, <b>USB_OTG_MODE_BSIDE_HOST</b>, <b>USB_OTG_MODE_BSIDE_DEV</b>, <b>USB_OTG_MODE_NONE</b>, <b>USB_DUAL_MODE_HOST</b>, <b>USB_DUAL_MODE_DEVICE</b>, or <b>USB_DUAL_MODE_NONE</b>. </dd></dl>

<p>Definition at line <a class="el" href="usb_8c_source.html#l03898">3898</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="hw__types_8h_source.html#l00052">HWREGB</a>, <a class="el" href="hw__memmap_8h_source.html#l00099">USB0_BASE</a>, <a class="el" href="hw__usb_8h_source.html#l00616">USB_DEVCTL_DEV</a>, <a class="el" href="hw__usb_8h_source.html#l00624">USB_DEVCTL_HOST</a>, <a class="el" href="hw__usb_8h_source.html#l00626">USB_DEVCTL_SESSION</a>, <a class="el" href="hw__usb_8h_source.html#l00619">USB_DEVCTL_VBUS_M</a>, and <a class="el" href="hw__usb_8h_source.html#l00067">USB_O_DEVCTL</a>.</p>
<div class="fragment"><div class="line"><a name="l03899"></a><span class="lineno"> 3899</span>&#160;{</div>
<div class="line"><a name="l03900"></a><span class="lineno"> 3900</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03901"></a><span class="lineno"> 3901</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l03902"></a><span class="lineno"> 3902</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03903"></a><span class="lineno"> 3903</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a>);</div>
<div class="line"><a name="l03904"></a><span class="lineno"> 3904</span>&#160;</div>
<div class="line"><a name="l03905"></a><span class="lineno"> 3905</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03906"></a><span class="lineno"> 3906</span>&#160;    <span class="comment">// Checks the current mode in the USB_O_DEVCTL and returns the current</span></div>
<div class="line"><a name="l03907"></a><span class="lineno"> 3907</span>&#160;    <span class="comment">// mode.</span></div>
<div class="line"><a name="l03908"></a><span class="lineno"> 3908</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03909"></a><span class="lineno"> 3909</span>&#160;    <span class="comment">// USB_OTG_MODE_ASIDE_HOST:  USB_DEVCTL_HOST | USB_DEVCTL_SESSION</span></div>
<div class="line"><a name="l03910"></a><span class="lineno"> 3910</span>&#160;    <span class="comment">// USB_OTG_MODE_ASIDE_DEV:   USB_DEVCTL_SESSION</span></div>
<div class="line"><a name="l03911"></a><span class="lineno"> 3911</span>&#160;    <span class="comment">// USB_OTG_MODE_BSIDE_HOST:  USB_DEVCTL_DEV | USB_DEVCTL_SESSION |</span></div>
<div class="line"><a name="l03912"></a><span class="lineno"> 3912</span>&#160;    <span class="comment">//                           USB_DEVCTL_HOST</span></div>
<div class="line"><a name="l03913"></a><span class="lineno"> 3913</span>&#160;    <span class="comment">// USB_OTG_MODE_BSIDE_DEV:   USB_DEVCTL_DEV | USB_DEVCTL_SESSION</span></div>
<div class="line"><a name="l03914"></a><span class="lineno"> 3914</span>&#160;    <span class="comment">// USB_OTG_MODE_NONE:        USB_DEVCTL_DEV</span></div>
<div class="line"><a name="l03915"></a><span class="lineno"> 3915</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03916"></a><span class="lineno"> 3916</span>&#160;    <span class="keywordflow">return</span>(<a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a5fc89d07656f2fbb1d14dd7f05279dcd">USB_O_DEVCTL</a>) &amp;</div>
<div class="line"><a name="l03917"></a><span class="lineno"> 3917</span>&#160;           (<a class="code" href="hw__usb_8h.html#acce0cfc6452c14814e625c7b3f97de08">USB_DEVCTL_DEV</a> | <a class="code" href="hw__usb_8h.html#a93a1f0f40862a7514f85e803658af660">USB_DEVCTL_HOST</a> | <a class="code" href="hw__usb_8h.html#a707749eaf6fa16e4ec6145193938eec5">USB_DEVCTL_SESSION</a> |</div>
<div class="line"><a name="l03918"></a><span class="lineno"> 3918</span>&#160;            <a class="code" href="hw__usb_8h.html#a36b225f3c5c97d06991d3967b10fcafd">USB_DEVCTL_VBUS_M</a>));</div>
<div class="line"><a name="l03919"></a><span class="lineno"> 3919</span>&#160;}</div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a36b225f3c5c97d06991d3967b10fcafd"><div class="ttname"><a href="hw__usb_8h.html#a36b225f3c5c97d06991d3967b10fcafd">USB_DEVCTL_VBUS_M</a></div><div class="ttdeci">#define USB_DEVCTL_VBUS_M</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00619">hw_usb.h:619</a></div></div>
<div class="ttc" id="hw__usb_8h_html_acce0cfc6452c14814e625c7b3f97de08"><div class="ttname"><a href="hw__usb_8h.html#acce0cfc6452c14814e625c7b3f97de08">USB_DEVCTL_DEV</a></div><div class="ttdeci">#define USB_DEVCTL_DEV</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00616">hw_usb.h:616</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a5fc89d07656f2fbb1d14dd7f05279dcd"><div class="ttname"><a href="hw__usb_8h.html#a5fc89d07656f2fbb1d14dd7f05279dcd">USB_O_DEVCTL</a></div><div class="ttdeci">#define USB_O_DEVCTL</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00067">hw_usb.h:67</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a93a1f0f40862a7514f85e803658af660"><div class="ttname"><a href="hw__usb_8h.html#a93a1f0f40862a7514f85e803658af660">USB_DEVCTL_HOST</a></div><div class="ttdeci">#define USB_DEVCTL_HOST</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00624">hw_usb.h:624</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a707749eaf6fa16e4ec6145193938eec5"><div class="ttname"><a href="hw__usb_8h.html#a707749eaf6fa16e4ec6145193938eec5">USB_DEVCTL_SESSION</a></div><div class="ttdeci">#define USB_DEVCTL_SESSION</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00626">hw_usb.h:626</a></div></div>
<div class="ttc" id="hw__types_8h_html_a084083ee12e5262f8e54bb56c15ac8c7"><div class="ttname"><a href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a></div><div class="ttdeci">#define HWREGB(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00052">hw_types.h:52</a></div></div>
<div class="ttc" id="hw__memmap_8h_html_aa47acf4992407a85e79d911ca1055d17"><div class="ttname"><a href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a></div><div class="ttdeci">#define USB0_BASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__memmap_8h_source.html#l00099">hw_memmap.h:99</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gaaf870f0f6bb1916492437ea94c29ae06"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t USBNumEndpointsGet </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the number of USB endpoint pairs on the device.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address.</td></tr>
  </table>
  </dd>
</dl>
<p>This function returns the number of endpoint pairs supported by the USB controller corresponding to the passed base address. The value returned is the number of IN or OUT endpoints available and does not include endpoint 0 (the control endpoint). For example, if 15 is returned, there are 15 IN and 15 OUT endpoints available in addition to endpoint 0.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns the number of IN or OUT endpoints available. </dd></dl>

<p>Definition at line <a class="el" href="usb_8c_source.html#l04215">4215</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="hw__types_8h_source.html#l00052">HWREGB</a>, <a class="el" href="hw__usb_8h_source.html#l00735">USB_EPINFO_TXEP_M</a>, and <a class="el" href="hw__usb_8h_source.html#l00077">USB_O_EPINFO</a>.</p>
<div class="fragment"><div class="line"><a name="l04216"></a><span class="lineno"> 4216</span>&#160;{</div>
<div class="line"><a name="l04217"></a><span class="lineno"> 4217</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l04218"></a><span class="lineno"> 4218</span>&#160;    <span class="comment">// Read the number of endpoints from the hardware.  The number of TX and</span></div>
<div class="line"><a name="l04219"></a><span class="lineno"> 4219</span>&#160;    <span class="comment">// RX endpoints are always the same.</span></div>
<div class="line"><a name="l04220"></a><span class="lineno"> 4220</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l04221"></a><span class="lineno"> 4221</span>&#160;    <span class="keywordflow">return</span>(<a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a5b7f83e1c157af402a094777cd830ad6">USB_O_EPINFO</a>) &amp; <a class="code" href="hw__usb_8h.html#aeaf762596c934d61fdb3513f9f7dd25e">USB_EPINFO_TXEP_M</a>);</div>
<div class="line"><a name="l04222"></a><span class="lineno"> 4222</span>&#160;}</div>
<div class="ttc" id="hw__usb_8h_html_a5b7f83e1c157af402a094777cd830ad6"><div class="ttname"><a href="hw__usb_8h.html#a5b7f83e1c157af402a094777cd830ad6">USB_O_EPINFO</a></div><div class="ttdeci">#define USB_O_EPINFO</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00077">hw_usb.h:77</a></div></div>
<div class="ttc" id="hw__usb_8h_html_aeaf762596c934d61fdb3513f9f7dd25e"><div class="ttname"><a href="hw__usb_8h.html#aeaf762596c934d61fdb3513f9f7dd25e">USB_EPINFO_TXEP_M</a></div><div class="ttdeci">#define USB_EPINFO_TXEP_M</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00735">hw_usb.h:735</a></div></div>
<div class="ttc" id="hw__types_8h_html_a084083ee12e5262f8e54bb56c15ac8c7"><div class="ttname"><a href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a></div><div class="ttdeci">#define HWREGB(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00052">hw_types.h:52</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga5328494d85a3f61060e56808c0087658"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USBOTGMode </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Changes the mode of the USB controller to OTG.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address.</td></tr>
  </table>
  </dd>
</dl>
<p>This function changes the mode of the USB controller to OTG mode. This function is only valid on microcontrollers that have the OTG capabilities.</p>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="usb_8c_source.html#l04054">4054</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="hw__types_8h_source.html#l00052">HWREGB</a>, <a class="el" href="hw__memmap_8h_source.html#l00099">USB0_BASE</a>, and <a class="el" href="hw__usb_8h_source.html#l00388">USB_O_GPCS</a>.</p>
<div class="fragment"><div class="line"><a name="l04055"></a><span class="lineno"> 4055</span>&#160;{</div>
<div class="line"><a name="l04056"></a><span class="lineno"> 4056</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l04057"></a><span class="lineno"> 4057</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l04058"></a><span class="lineno"> 4058</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l04059"></a><span class="lineno"> 4059</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a>);</div>
<div class="line"><a name="l04060"></a><span class="lineno"> 4060</span>&#160;</div>
<div class="line"><a name="l04061"></a><span class="lineno"> 4061</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l04062"></a><span class="lineno"> 4062</span>&#160;    <span class="comment">// Disable the override of the USB controller mode when running on an OTG</span></div>
<div class="line"><a name="l04063"></a><span class="lineno"> 4063</span>&#160;    <span class="comment">// device.</span></div>
<div class="line"><a name="l04064"></a><span class="lineno"> 4064</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l04065"></a><span class="lineno"> 4065</span>&#160;    <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a0568c2f09d0f22e71ad9a3c6360e8821">USB_O_GPCS</a>) = 0;</div>
<div class="line"><a name="l04066"></a><span class="lineno"> 4066</span>&#160;}</div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a0568c2f09d0f22e71ad9a3c6360e8821"><div class="ttname"><a href="hw__usb_8h.html#a0568c2f09d0f22e71ad9a3c6360e8821">USB_O_GPCS</a></div><div class="ttdeci">#define USB_O_GPCS</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00388">hw_usb.h:388</a></div></div>
<div class="ttc" id="hw__types_8h_html_a084083ee12e5262f8e54bb56c15ac8c7"><div class="ttname"><a href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a></div><div class="ttdeci">#define HWREGB(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00052">hw_types.h:52</a></div></div>
<div class="ttc" id="hw__memmap_8h_html_aa47acf4992407a85e79d911ca1055d17"><div class="ttname"><a href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a></div><div class="ttdeci">#define USB0_BASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__memmap_8h_source.html#l00099">hw_memmap.h:99</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga85df919e2dd18076d86458974f996637"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USBOTGSessionRequest </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bStart</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Starts or ends a session.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address. </td></tr>
    <tr><td class="paramname">bStart</td><td>specifies if this call starts or ends a session.</td></tr>
  </table>
  </dd>
</dl>
<p>This function is used in OTG mode to start a session request or end a session. If the <em>bStart</em> parameter is set to <b>true</b>, then this function starts a session and if it is <b>false</b> it ends a session.</p>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="usb_8c_source.html#l03805">3805</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="hw__types_8h_source.html#l00052">HWREGB</a>, <a class="el" href="hw__memmap_8h_source.html#l00099">USB0_BASE</a>, <a class="el" href="hw__usb_8h_source.html#l00626">USB_DEVCTL_SESSION</a>, and <a class="el" href="hw__usb_8h_source.html#l00067">USB_O_DEVCTL</a>.</p>
<div class="fragment"><div class="line"><a name="l03806"></a><span class="lineno"> 3806</span>&#160;{</div>
<div class="line"><a name="l03807"></a><span class="lineno"> 3807</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03808"></a><span class="lineno"> 3808</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l03809"></a><span class="lineno"> 3809</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03810"></a><span class="lineno"> 3810</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Base == <a class="code" href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a>);</div>
<div class="line"><a name="l03811"></a><span class="lineno"> 3811</span>&#160;</div>
<div class="line"><a name="l03812"></a><span class="lineno"> 3812</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03813"></a><span class="lineno"> 3813</span>&#160;    <span class="comment">// Start or end the session as directed.</span></div>
<div class="line"><a name="l03814"></a><span class="lineno"> 3814</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l03815"></a><span class="lineno"> 3815</span>&#160;    <span class="keywordflow">if</span>(bStart)</div>
<div class="line"><a name="l03816"></a><span class="lineno"> 3816</span>&#160;    {</div>
<div class="line"><a name="l03817"></a><span class="lineno"> 3817</span>&#160;        <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a5fc89d07656f2fbb1d14dd7f05279dcd">USB_O_DEVCTL</a>) |= <a class="code" href="hw__usb_8h.html#a707749eaf6fa16e4ec6145193938eec5">USB_DEVCTL_SESSION</a>;</div>
<div class="line"><a name="l03818"></a><span class="lineno"> 3818</span>&#160;    }</div>
<div class="line"><a name="l03819"></a><span class="lineno"> 3819</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l03820"></a><span class="lineno"> 3820</span>&#160;    {</div>
<div class="line"><a name="l03821"></a><span class="lineno"> 3821</span>&#160;        <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#a5fc89d07656f2fbb1d14dd7f05279dcd">USB_O_DEVCTL</a>) &amp;= ~<a class="code" href="hw__usb_8h.html#a707749eaf6fa16e4ec6145193938eec5">USB_DEVCTL_SESSION</a>;</div>
<div class="line"><a name="l03822"></a><span class="lineno"> 3822</span>&#160;    }</div>
<div class="line"><a name="l03823"></a><span class="lineno"> 3823</span>&#160;}</div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a5fc89d07656f2fbb1d14dd7f05279dcd"><div class="ttname"><a href="hw__usb_8h.html#a5fc89d07656f2fbb1d14dd7f05279dcd">USB_O_DEVCTL</a></div><div class="ttdeci">#define USB_O_DEVCTL</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00067">hw_usb.h:67</a></div></div>
<div class="ttc" id="hw__usb_8h_html_a707749eaf6fa16e4ec6145193938eec5"><div class="ttname"><a href="hw__usb_8h.html#a707749eaf6fa16e4ec6145193938eec5">USB_DEVCTL_SESSION</a></div><div class="ttdeci">#define USB_DEVCTL_SESSION</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00626">hw_usb.h:626</a></div></div>
<div class="ttc" id="hw__types_8h_html_a084083ee12e5262f8e54bb56c15ac8c7"><div class="ttname"><a href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a></div><div class="ttdeci">#define HWREGB(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00052">hw_types.h:52</a></div></div>
<div class="ttc" id="hw__memmap_8h_html_aa47acf4992407a85e79d911ca1055d17"><div class="ttname"><a href="hw__memmap_8h.html#aa47acf4992407a85e79d911ca1055d17">USB0_BASE</a></div><div class="ttdeci">#define USB0_BASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__memmap_8h_source.html#l00099">hw_memmap.h:99</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gabeb297785befec9754fb8b7631f6cff2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USBPHYPowerOff </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Powers off the internal USB PHY.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address.</td></tr>
  </table>
  </dd>
</dl>
<p>This function powers off the internal USB PHY, reducing the current consumption of the device. While in the powered-off state, the USB controller is unable to operate.</p>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="usb_8c_source.html#l04141">4141</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="hw__types_8h_source.html#l00052">HWREGB</a>, <a class="el" href="hw__usb_8h_source.html#l00049">USB_O_POWER</a>, and <a class="el" href="hw__usb_8h_source.html#l00428">USB_POWER_PWRDNPHY</a>.</p>
<div class="fragment"><div class="line"><a name="l04142"></a><span class="lineno"> 4142</span>&#160;{</div>
<div class="line"><a name="l04143"></a><span class="lineno"> 4143</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l04144"></a><span class="lineno"> 4144</span>&#160;    <span class="comment">// Set the PWRDNPHY bit in the PHY, putting it into its low power mode.</span></div>
<div class="line"><a name="l04145"></a><span class="lineno"> 4145</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l04146"></a><span class="lineno"> 4146</span>&#160;    <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#ad3a1c8e8c4a2a78d507c6590aa4d2019">USB_O_POWER</a>) |= <a class="code" href="hw__usb_8h.html#a173a03da0b3497bbce7301e0a41c06f5">USB_POWER_PWRDNPHY</a>;</div>
<div class="line"><a name="l04147"></a><span class="lineno"> 4147</span>&#160;}</div>
<div class="ttc" id="hw__usb_8h_html_a173a03da0b3497bbce7301e0a41c06f5"><div class="ttname"><a href="hw__usb_8h.html#a173a03da0b3497bbce7301e0a41c06f5">USB_POWER_PWRDNPHY</a></div><div class="ttdeci">#define USB_POWER_PWRDNPHY</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00428">hw_usb.h:428</a></div></div>
<div class="ttc" id="hw__usb_8h_html_ad3a1c8e8c4a2a78d507c6590aa4d2019"><div class="ttname"><a href="hw__usb_8h.html#ad3a1c8e8c4a2a78d507c6590aa4d2019">USB_O_POWER</a></div><div class="ttdeci">#define USB_O_POWER</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00049">hw_usb.h:49</a></div></div>
<div class="ttc" id="hw__types_8h_html_a084083ee12e5262f8e54bb56c15ac8c7"><div class="ttname"><a href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a></div><div class="ttdeci">#define HWREGB(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00052">hw_types.h:52</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga6e6796f56dcd3b3ad2d1bece227a24fa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void USBPHYPowerOn </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Base</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Powers on the internal USB PHY.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Base</td><td>specifies the USB module base address.</td></tr>
  </table>
  </dd>
</dl>
<p>This function powers on the internal USB PHY, enabling it return to normal operation. By default, the PHY is powered on, so this function must only be called if <a class="el" href="group__usb__api.html#gabeb297785befec9754fb8b7631f6cff2">USBPHYPowerOff()</a> has previously been called.</p>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="usb_8c_source.html#l04163">4163</a> of file <a class="el" href="usb_8c_source.html">usb.c</a>.</p>

<p>References <a class="el" href="hw__types_8h_source.html#l00052">HWREGB</a>, <a class="el" href="hw__usb_8h_source.html#l00049">USB_O_POWER</a>, and <a class="el" href="hw__usb_8h_source.html#l00428">USB_POWER_PWRDNPHY</a>.</p>
<div class="fragment"><div class="line"><a name="l04164"></a><span class="lineno"> 4164</span>&#160;{</div>
<div class="line"><a name="l04165"></a><span class="lineno"> 4165</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l04166"></a><span class="lineno"> 4166</span>&#160;    <span class="comment">// Clear the PWRDNPHY bit in the PHY, putting it into normal operating</span></div>
<div class="line"><a name="l04167"></a><span class="lineno"> 4167</span>&#160;    <span class="comment">// mode.</span></div>
<div class="line"><a name="l04168"></a><span class="lineno"> 4168</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l04169"></a><span class="lineno"> 4169</span>&#160;    <a class="code" href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a>(ui32Base + <a class="code" href="hw__usb_8h.html#ad3a1c8e8c4a2a78d507c6590aa4d2019">USB_O_POWER</a>) &amp;= ~<a class="code" href="hw__usb_8h.html#a173a03da0b3497bbce7301e0a41c06f5">USB_POWER_PWRDNPHY</a>;</div>
<div class="line"><a name="l04170"></a><span class="lineno"> 4170</span>&#160;}</div>
<div class="ttc" id="hw__usb_8h_html_a173a03da0b3497bbce7301e0a41c06f5"><div class="ttname"><a href="hw__usb_8h.html#a173a03da0b3497bbce7301e0a41c06f5">USB_POWER_PWRDNPHY</a></div><div class="ttdeci">#define USB_POWER_PWRDNPHY</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00428">hw_usb.h:428</a></div></div>
<div class="ttc" id="hw__usb_8h_html_ad3a1c8e8c4a2a78d507c6590aa4d2019"><div class="ttname"><a href="hw__usb_8h.html#ad3a1c8e8c4a2a78d507c6590aa4d2019">USB_O_POWER</a></div><div class="ttdeci">#define USB_O_POWER</div><div class="ttdef"><b>Definition:</b> <a href="hw__usb_8h_source.html#l00049">hw_usb.h:49</a></div></div>
<div class="ttc" id="hw__types_8h_html_a084083ee12e5262f8e54bb56c15ac8c7"><div class="ttname"><a href="hw__types_8h.html#a084083ee12e5262f8e54bb56c15ac8c7">HWREGB</a></div><div class="ttdeci">#define HWREGB(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00052">hw_types.h:52</a></div></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Feb 16 2015 10:10:13 for EE445M RTOS by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.9.1 </li>
  </ul>
</div>
</body>
</html>
