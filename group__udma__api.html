<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>EE445M RTOS: Udma_api</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">EE445M RTOS
   </div>
   <div id="projectbrief">Taken at the University of Texas Spring 2015</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__udma__api.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Udma_api</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structt_d_m_a_control_table.html">tDMAControlTable</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga6cd46a977652fd018368bb47d018f48e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__udma__api.html#ga6cd46a977652fd018368bb47d018f48e">uDMATaskStructEntry</a>(ui32TransferCount, ui32ItemSize, ui32SrcIncrement, pvSrcAddr, ui32DstIncrement, pvDstAddr, ui32ArbSize, ui32Mode)</td></tr>
<tr class="separator:ga6cd46a977652fd018368bb47d018f48e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga9c2c43120f113a79cbabf894f5503f41"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__udma__api.html#ga9c2c43120f113a79cbabf894f5503f41">uDMAEnable</a> (void)</td></tr>
<tr class="separator:ga9c2c43120f113a79cbabf894f5503f41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga850808381da300573a6101e5a27f4675"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__udma__api.html#ga850808381da300573a6101e5a27f4675">uDMADisable</a> (void)</td></tr>
<tr class="separator:ga850808381da300573a6101e5a27f4675"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad01185c0d570c65da3642e6c60ea4973"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__udma__api.html#gad01185c0d570c65da3642e6c60ea4973">uDMAErrorStatusGet</a> (void)</td></tr>
<tr class="separator:gad01185c0d570c65da3642e6c60ea4973"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga875220775201c33cd3c97ebcbca83ac2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__udma__api.html#ga875220775201c33cd3c97ebcbca83ac2">uDMAErrorStatusClear</a> (void)</td></tr>
<tr class="separator:ga875220775201c33cd3c97ebcbca83ac2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga41e21189773539bbc5f302863cd5bf06"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__udma__api.html#ga41e21189773539bbc5f302863cd5bf06">uDMAChannelEnable</a> (uint32_t ui32ChannelNum)</td></tr>
<tr class="separator:ga41e21189773539bbc5f302863cd5bf06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga28ded922b57dbc5772036ddcbb8f28d6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__udma__api.html#ga28ded922b57dbc5772036ddcbb8f28d6">uDMAChannelDisable</a> (uint32_t ui32ChannelNum)</td></tr>
<tr class="separator:ga28ded922b57dbc5772036ddcbb8f28d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga71a15b561a538ff126aabac85ee311b2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__udma__api.html#ga71a15b561a538ff126aabac85ee311b2">uDMAChannelIsEnabled</a> (uint32_t ui32ChannelNum)</td></tr>
<tr class="separator:ga71a15b561a538ff126aabac85ee311b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1bc352c5b9404649922a555873619498"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__udma__api.html#ga1bc352c5b9404649922a555873619498">uDMAControlBaseSet</a> (void *psControlTable)</td></tr>
<tr class="separator:ga1bc352c5b9404649922a555873619498"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga09c51018a10f41216497396e4ec5a6fd"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__udma__api.html#ga09c51018a10f41216497396e4ec5a6fd">uDMAControlBaseGet</a> (void)</td></tr>
<tr class="separator:ga09c51018a10f41216497396e4ec5a6fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3d755ac6e59821949a57d1ceca7082ae"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__udma__api.html#ga3d755ac6e59821949a57d1ceca7082ae">uDMAControlAlternateBaseGet</a> (void)</td></tr>
<tr class="separator:ga3d755ac6e59821949a57d1ceca7082ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1020903cbcc5a03434c3f5c13f252a72"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__udma__api.html#ga1020903cbcc5a03434c3f5c13f252a72">uDMAChannelRequest</a> (uint32_t ui32ChannelNum)</td></tr>
<tr class="separator:ga1020903cbcc5a03434c3f5c13f252a72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadcd88d930702b3773952214e27bba3f6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__udma__api.html#gadcd88d930702b3773952214e27bba3f6">uDMAChannelAttributeEnable</a> (uint32_t ui32ChannelNum, uint32_t ui32Attr)</td></tr>
<tr class="separator:gadcd88d930702b3773952214e27bba3f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga687745cb1ba10bcfbaac4bf0bbfd4132"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__udma__api.html#ga687745cb1ba10bcfbaac4bf0bbfd4132">uDMAChannelAttributeDisable</a> (uint32_t ui32ChannelNum, uint32_t ui32Attr)</td></tr>
<tr class="separator:ga687745cb1ba10bcfbaac4bf0bbfd4132"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga741cac245ca559d1a1112077a7f46b8c"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__udma__api.html#ga741cac245ca559d1a1112077a7f46b8c">uDMAChannelAttributeGet</a> (uint32_t ui32ChannelNum)</td></tr>
<tr class="separator:ga741cac245ca559d1a1112077a7f46b8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6f73ab006ff6a593eeeb947130bbdf6f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__udma__api.html#ga6f73ab006ff6a593eeeb947130bbdf6f">uDMAChannelControlSet</a> (uint32_t ui32ChannelStructIndex, uint32_t ui32Control)</td></tr>
<tr class="separator:ga6f73ab006ff6a593eeeb947130bbdf6f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga938c21dc70cb6e11e6eb826de0fa21c3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__udma__api.html#ga938c21dc70cb6e11e6eb826de0fa21c3">uDMAChannelTransferSet</a> (uint32_t ui32ChannelStructIndex, uint32_t ui32Mode, void *pvSrcAddr, void *pvDstAddr, uint32_t ui32TransferSize)</td></tr>
<tr class="separator:ga938c21dc70cb6e11e6eb826de0fa21c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaac152bd620c5edc6d2d348ac7771c882"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__udma__api.html#gaac152bd620c5edc6d2d348ac7771c882">uDMAChannelScatterGatherSet</a> (uint32_t ui32ChannelNum, uint32_t ui32TaskCount, void *pvTaskList, uint32_t ui32IsPeriphSG)</td></tr>
<tr class="separator:gaac152bd620c5edc6d2d348ac7771c882"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga52908962d5fdc8ad21d14a3ebb19c0b9"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__udma__api.html#ga52908962d5fdc8ad21d14a3ebb19c0b9">uDMAChannelSizeGet</a> (uint32_t ui32ChannelStructIndex)</td></tr>
<tr class="separator:ga52908962d5fdc8ad21d14a3ebb19c0b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga84a74cc2b06a6a59506dcdfabd0c7972"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__udma__api.html#ga84a74cc2b06a6a59506dcdfabd0c7972">uDMAChannelModeGet</a> (uint32_t ui32ChannelStructIndex)</td></tr>
<tr class="separator:ga84a74cc2b06a6a59506dcdfabd0c7972"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga38e714509554e38d29563bf7832f7098"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__udma__api.html#ga38e714509554e38d29563bf7832f7098">uDMAIntRegister</a> (uint32_t ui32IntChannel, void(*pfnHandler)(void))</td></tr>
<tr class="separator:ga38e714509554e38d29563bf7832f7098"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8728732286c8948fd715e58ca04dbd84"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__udma__api.html#ga8728732286c8948fd715e58ca04dbd84">uDMAIntUnregister</a> (uint32_t ui32IntChannel)</td></tr>
<tr class="separator:ga8728732286c8948fd715e58ca04dbd84"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf3ef981569462dff3ebcf00f327be60b"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__udma__api.html#gaf3ef981569462dff3ebcf00f327be60b">uDMAIntStatus</a> (void)</td></tr>
<tr class="separator:gaf3ef981569462dff3ebcf00f327be60b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf06b67b4b30df8188540cd06634c9bb9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__udma__api.html#gaf06b67b4b30df8188540cd06634c9bb9">uDMAIntClear</a> (uint32_t ui32ChanMask)</td></tr>
<tr class="separator:gaf06b67b4b30df8188540cd06634c9bb9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa3c73411a7305843059d0984efaf7770"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__udma__api.html#gaa3c73411a7305843059d0984efaf7770">uDMAChannelAssign</a> (uint32_t ui32Mapping)</td></tr>
<tr class="separator:gaa3c73411a7305843059d0984efaf7770"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8e60984be50a27b696f4caa6628a4f80"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__udma__api.html#ga8e60984be50a27b696f4caa6628a4f80">uDMAChannelSelectSecondary</a> (uint32_t ui32SecPeriphs)</td></tr>
<tr class="separator:ga8e60984be50a27b696f4caa6628a4f80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1b9f47d58dca2859ce11cf9ffd8ab156"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__udma__api.html#ga1b9f47d58dca2859ce11cf9ffd8ab156">uDMAChannelSelectDefault</a> (uint32_t ui32DefPeriphs)</td></tr>
<tr class="separator:ga1b9f47d58dca2859ce11cf9ffd8ab156"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ga6cd46a977652fd018368bb47d018f48e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define uDMATaskStructEntry</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ui32TransferCount, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ui32ItemSize, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ui32SrcIncrement, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">pvSrcAddr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ui32DstIncrement, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">pvDstAddr, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ui32ArbSize, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">ui32Mode&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line">{                                                                         \</div>
<div class="line">        (((ui32SrcIncrement) == <a class="code" href="udma_8h.html#ace9a62c226f2e73cc1a7c56d80efa361">UDMA_SRC_INC_NONE</a>) ? (<span class="keywordtype">void</span> *)(pvSrcAddr) :    \</div>
<div class="line">            ((<span class="keywordtype">void</span> *)(&amp;((uint8_t *)(pvSrcAddr))[((ui32TransferCount) &lt;&lt;       \</div>
<div class="line">                                         ((ui32SrcIncrement) &gt;&gt; 26)) - 1]))), \</div>
<div class="line">            (((ui32DstIncrement) == <a class="code" href="udma_8h.html#aff850520540f2dd5ef6c016ac9bc85f8">UDMA_DST_INC_NONE</a>) ? (<span class="keywordtype">void</span> *)(pvDstAddr) :\</div>
<div class="line">            ((<span class="keywordtype">void</span> *)(&amp;((uint8_t *)(pvDstAddr))[((ui32TransferCount) &lt;&lt;       \</div>
<div class="line">                                         ((ui32DstIncrement) &gt;&gt; 30)) - 1]))), \</div>
<div class="line">        (ui32SrcIncrement) | (ui32DstIncrement) | (ui32ItemSize) |            \</div>
<div class="line">            (ui32ArbSize) |                                                   \</div>
<div class="line">        (((ui32TransferCount) - 1) &lt;&lt; 4) |                                    \</div>
<div class="line">        ((((ui32Mode) == <a class="code" href="udma_8h.html#ab99c1f842fc5873d9639dd5c81f52e96">UDMA_MODE_MEM_SCATTER_GATHER</a>) ||                     \</div>
<div class="line">          ((ui32Mode) == <a class="code" href="udma_8h.html#a45c6f39ddeb623a7d1df04d3e0b15998">UDMA_MODE_PER_SCATTER_GATHER</a>)) ?                     \</div>
<div class="line">                (ui32Mode) | <a class="code" href="udma_8h.html#ade8eb75e2d128f81131a52832c9046d7">UDMA_MODE_ALT_SELECT</a> : (ui32Mode)), 0            \</div>
<div class="line">    }</div>
<div class="ttc" id="udma_8h_html_aff850520540f2dd5ef6c016ac9bc85f8"><div class="ttname"><a href="udma_8h.html#aff850520540f2dd5ef6c016ac9bc85f8">UDMA_DST_INC_NONE</a></div><div class="ttdeci">#define UDMA_DST_INC_NONE</div><div class="ttdef"><b>Definition:</b> <a href="udma_8h_source.html#l00227">udma.h:227</a></div></div>
<div class="ttc" id="udma_8h_html_a45c6f39ddeb623a7d1df04d3e0b15998"><div class="ttname"><a href="udma_8h.html#a45c6f39ddeb623a7d1df04d3e0b15998">UDMA_MODE_PER_SCATTER_GATHER</a></div><div class="ttdeci">#define UDMA_MODE_PER_SCATTER_GATHER</div><div class="ttdef"><b>Definition:</b> <a href="udma_8h_source.html#l00215">udma.h:215</a></div></div>
<div class="ttc" id="udma_8h_html_ace9a62c226f2e73cc1a7c56d80efa361"><div class="ttname"><a href="udma_8h.html#ace9a62c226f2e73cc1a7c56d80efa361">UDMA_SRC_INC_NONE</a></div><div class="ttdeci">#define UDMA_SRC_INC_NONE</div><div class="ttdef"><b>Definition:</b> <a href="udma_8h_source.html#l00231">udma.h:231</a></div></div>
<div class="ttc" id="udma_8h_html_ab99c1f842fc5873d9639dd5c81f52e96"><div class="ttname"><a href="udma_8h.html#ab99c1f842fc5873d9639dd5c81f52e96">UDMA_MODE_MEM_SCATTER_GATHER</a></div><div class="ttdeci">#define UDMA_MODE_MEM_SCATTER_GATHER</div><div class="ttdef"><b>Definition:</b> <a href="udma_8h_source.html#l00213">udma.h:213</a></div></div>
<div class="ttc" id="udma_8h_html_ade8eb75e2d128f81131a52832c9046d7"><div class="ttname"><a href="udma_8h.html#ade8eb75e2d128f81131a52832c9046d7">UDMA_MODE_ALT_SELECT</a></div><div class="ttdeci">#define UDMA_MODE_ALT_SELECT</div><div class="ttdef"><b>Definition:</b> <a href="udma_8h_source.html#l00217">udma.h:217</a></div></div>
</div><!-- fragment --><p>A helper macro for building scatter-gather task table entries.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32TransferCount</td><td>is the count of items to transfer for this task. </td></tr>
    <tr><td class="paramname">ui32ItemSize</td><td>is the bit size of the items to transfer for this task. </td></tr>
    <tr><td class="paramname">ui32SrcIncrement</td><td>is the bit size increment for source data. </td></tr>
    <tr><td class="paramname">pvSrcAddr</td><td>is the starting address of the data to transfer. </td></tr>
    <tr><td class="paramname">ui32DstIncrement</td><td>is the bit size increment for destination data. </td></tr>
    <tr><td class="paramname">pvDstAddr</td><td>is the starting address of the destination data. </td></tr>
    <tr><td class="paramname">ui32ArbSize</td><td>is the arbitration size to use for the transfer task. </td></tr>
    <tr><td class="paramname">ui32Mode</td><td>is the transfer mode for this task.</td></tr>
  </table>
  </dd>
</dl>
<p>This macro is intended to be used to help populate a table of uDMA tasks for a scatter-gather transfer. This macro will calculate the values for the fields of a task structure entry based on the input parameters.</p>
<p>There are specific requirements for the values of each parameter. No checking is done so it is up to the caller to ensure that correct values are used for the parameters.</p>
<p>The <em>ui32TransferCount</em> parameter is the number of items that will be transferred by this task. It must be in the range 1-1024.</p>
<p>The <em>ui32ItemSize</em> parameter is the bit size of the transfer data. It must be one of <b>UDMA_SIZE_8</b>, <b>UDMA_SIZE_16</b>, or <b>UDMA_SIZE_32</b>.</p>
<p>The <em>ui32SrcIncrement</em> parameter is the increment size for the source data. It must be one of <b>UDMA_SRC_INC_8</b>, <b>UDMA_SRC_INC_16</b>, <b>UDMA_SRC_INC_32</b>, or <b>UDMA_SRC_INC_NONE</b>.</p>
<p>The <em>pvSrcAddr</em> parameter is a void pointer to the beginning of the source data.</p>
<p>The <em>ui32DstIncrement</em> parameter is the increment size for the destination data. It must be one of <b>UDMA_DST_INC_8</b>, <b>UDMA_DST_INC_16</b>, <b>UDMA_DST_INC_32</b>, or <b>UDMA_DST_INC_NONE</b>.</p>
<p>The <em>pvDstAddr</em> parameter is a void pointer to the beginning of the location where the data will be transferred.</p>
<p>The <em>ui32ArbSize</em> parameter is the arbitration size for the transfer, and must be one of <b>UDMA_ARB_1</b>, <b>UDMA_ARB_2</b>, <b>UDMA_ARB_4</b>, and so on up to <b>UDMA_ARB_1024</b>. This is used to select the arbitration size in powers of 2, from 1 to 1024.</p>
<p>The <em>ui32Mode</em> parameter is the mode to use for this transfer task. It must be one of <b>UDMA_MODE_BASIC</b>, <b>UDMA_MODE_AUTO</b>, <b>UDMA_MODE_MEM_SCATTER_GATHER</b>, or <b>UDMA_MODE_PER_SCATTER_GATHER</b>. Note that normally all tasks will be one of the scatter-gather modes while the last task is a task list will be AUTO or BASIC.</p>
<p>This macro is intended to be used to initialize individual entries of a structure of <a class="el" href="structt_d_m_a_control_table.html">tDMAControlTable</a> type, like this:</p>
<pre class="fragment">//!     tDMAControlTable MyTaskList[] =
//!     {
//!         uDMATaskStructEntry(Task1Count, UDMA_SIZE_8,
//!                             UDMA_SRC_INC_8, MySourceBuf,
//!                             UDMA_DST_INC_8, MyDestBuf,
//!                             UDMA_ARB_8, UDMA_MODE_MEM_SCATTER_GATHER),
//!         uDMATaskStructEntry(Task2Count, ...),
//!     }
//! </pre> <pre class="fragment">\return Nothing; this is not a function.  </pre> 
<p>Definition at line <a class="el" href="udma_8h_source.html#l00161">161</a> of file <a class="el" href="udma_8h_source.html">udma.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="gaa3c73411a7305843059d0984efaf7770"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void uDMAChannelAssign </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Mapping</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Assigns a peripheral mapping for a uDMA channel.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32Mapping</td><td>is a macro specifying the peripheral assignment for a channel.</td></tr>
  </table>
  </dd>
</dl>
<p>This function assigns a peripheral mapping to a uDMA channel. It is used to select which peripheral is used for a uDMA channel. The parameter <em>ui32Mapping</em> should be one of the macros named <b>UDMA_CHn_tttt</b> from the header file <em><a class="el" href="udma_8h.html">udma.h</a></em>. For example, to assign uDMA channel 0 to the UART2 RX channel, the parameter should be the macro <b>UDMA_CH0_UART2RX</b>.</p>
<p>Please consult the Tiva data sheet for a table showing all the possible peripheral assignments for the uDMA channels for a particular device.</p>
<dl class="section note"><dt>Note</dt><dd>This function is only available on devices that have the DMA Channel Map Select registers (DMACHMAP0-3). Please consult the data sheet for your part.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="udma_8c_source.html#l01224">1224</a> of file <a class="el" href="udma_8c_source.html">udma.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="hw__types_8h_source.html#l00048">HWREG</a>, and <a class="el" href="hw__udma_8h_source.html#l00072">UDMA_CHMAP0</a>.</p>
<div class="fragment"><div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;{</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;    uint32_t ui32MapReg;</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;    uint_fast8_t ui8MapShift;</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;    uint_fast8_t ui8ChannelNum;</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;    <span class="comment">// Check the parameters</span></div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32Mapping &amp; 0xffffff00) &lt; 0x00050000);</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;    <span class="comment">// Extract the channel number and map encoding value from the parameter.</span></div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;    ui8ChannelNum = ui32Mapping &amp; 0xff;</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;    ui32Mapping = ui32Mapping &gt;&gt; 16;</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;    <span class="comment">// Find the uDMA channel mapping register and shift value to use for this</span></div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;    <span class="comment">// channel</span></div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;    ui32MapReg = <a class="code" href="hw__udma_8h.html#ab9541afa3b9eddbc3767c47f76f295ab">UDMA_CHMAP0</a> + (uint32_t)((ui8ChannelNum / 8) * 4);</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;    ui8MapShift = (ui8ChannelNum % 8) * 4;</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;    <span class="comment">// Set the channel map encoding for this channel</span></div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;    <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32MapReg) = (<a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(ui32MapReg) &amp; ~(0xf &lt;&lt; ui8MapShift)) |</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;                        ui32Mapping &lt;&lt; ui8MapShift;</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;}</div>
<div class="ttc" id="hw__types_8h_html_ac9660181819fceac0b5abcd67d76ca6e"><div class="ttname"><a href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a></div><div class="ttdeci">#define HWREG(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00048">hw_types.h:48</a></div></div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="hw__udma_8h_html_ab9541afa3b9eddbc3767c47f76f295ab"><div class="ttname"><a href="hw__udma_8h.html#ab9541afa3b9eddbc3767c47f76f295ab">UDMA_CHMAP0</a></div><div class="ttdeci">#define UDMA_CHMAP0</div><div class="ttdef"><b>Definition:</b> <a href="hw__udma_8h_source.html#l00072">hw_udma.h:72</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga687745cb1ba10bcfbaac4bf0bbfd4132"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void uDMAChannelAttributeDisable </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32ChannelNum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Attr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Disables attributes of a uDMA channel.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32ChannelNum</td><td>is the channel to configure. </td></tr>
    <tr><td class="paramname">ui32Attr</td><td>is a combination of attributes for the channel.</td></tr>
  </table>
  </dd>
</dl>
<p>This function is used to disable attributes of a uDMA channel.</p>
<p>The <em>ui32Attr</em> parameter is the logical OR of any of the following:</p>
<ul>
<li><b>UDMA_ATTR_USEBURST</b> is used to restrict transfers to use only burst mode.</li>
<li><b>UDMA_ATTR_ALTSELECT</b> is used to select the alternate control structure for this channel.</li>
<li><b>UDMA_ATTR_HIGH_PRIORITY</b> is used to set this channel to high priority.</li>
<li><b>UDMA_ATTR_REQMASK</b> is used to mask the hardware request signal from the peripheral for this channel.</li>
</ul>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="udma_8c_source.html#l00429">429</a> of file <a class="el" href="udma_8c_source.html">udma.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="hw__types_8h_source.html#l00048">HWREG</a>, <a class="el" href="hw__udma_8h_source.html#l00065">UDMA_ALTCLR</a>, <a class="el" href="udma_8h_source.html#l00198">UDMA_ATTR_ALTSELECT</a>, <a class="el" href="udma_8h_source.html#l00199">UDMA_ATTR_HIGH_PRIORITY</a>, <a class="el" href="udma_8h_source.html#l00200">UDMA_ATTR_REQMASK</a>, <a class="el" href="udma_8h_source.html#l00197">UDMA_ATTR_USEBURST</a>, <a class="el" href="hw__udma_8h_source.html#l00068">UDMA_PRIOCLR</a>, <a class="el" href="hw__udma_8h_source.html#l00060">UDMA_REQMASKCLR</a>, and <a class="el" href="hw__udma_8h_source.html#l00058">UDMA_USEBURSTCLR</a>.</p>
<div class="fragment"><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;{</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32ChannelNum &amp; 0xffff) &lt; 32);</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32Attr &amp; ~(<a class="code" href="udma_8h.html#a0445fc75f523048196ceb311b12c02ca">UDMA_ATTR_USEBURST</a> | <a class="code" href="udma_8h.html#a0b27e30dfe1f1ec530eda75e94fec571">UDMA_ATTR_ALTSELECT</a> |</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;                         <a class="code" href="udma_8h.html#af9b9ed2a83ed20e155161beb4bff3586">UDMA_ATTR_HIGH_PRIORITY</a> | <a class="code" href="udma_8h.html#aa857541951178e9d8ba488470f3206b6">UDMA_ATTR_REQMASK</a>)) == 0);</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <span class="comment">// In case a channel selector macro (like UDMA_CH0_USB0EP1RX) was</span></div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    <span class="comment">// passed as the ui32ChannelNum parameter, extract just the channel number</span></div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <span class="comment">// from this parameter.</span></div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    ui32ChannelNum &amp;= 0x1f;</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;    <span class="comment">// Clear the useburst bit for this channel if set in ui32Config.</span></div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    <span class="keywordflow">if</span>(ui32Attr &amp; <a class="code" href="udma_8h.html#a0445fc75f523048196ceb311b12c02ca">UDMA_ATTR_USEBURST</a>)</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    {</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;        <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__udma_8h.html#a54570c67d2b37e5750c87393663d19e8">UDMA_USEBURSTCLR</a>) = 1 &lt;&lt; ui32ChannelNum;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    }</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;    <span class="comment">// Clear the alternate control select bit for this channel, if set in</span></div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;    <span class="comment">// ui32Config.</span></div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;    <span class="keywordflow">if</span>(ui32Attr &amp; <a class="code" href="udma_8h.html#a0b27e30dfe1f1ec530eda75e94fec571">UDMA_ATTR_ALTSELECT</a>)</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;    {</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;        <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__udma_8h.html#a297a23ad50e4111b1fbd0690c4c4a1c2">UDMA_ALTCLR</a>) = 1 &lt;&lt; ui32ChannelNum;</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;    }</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;    <span class="comment">// Clear the high priority bit for this channel, if set in ui32Config.</span></div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;    <span class="keywordflow">if</span>(ui32Attr &amp; <a class="code" href="udma_8h.html#af9b9ed2a83ed20e155161beb4bff3586">UDMA_ATTR_HIGH_PRIORITY</a>)</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;    {</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;        <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__udma_8h.html#a4551274bc3f8c607d10e7407030a043d">UDMA_PRIOCLR</a>) = 1 &lt;&lt; ui32ChannelNum;</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;    }</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;    <span class="comment">// Clear the request mask bit for this channel, if set in ui32Config.</span></div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;    <span class="keywordflow">if</span>(ui32Attr &amp; <a class="code" href="udma_8h.html#aa857541951178e9d8ba488470f3206b6">UDMA_ATTR_REQMASK</a>)</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;    {</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__udma_8h.html#a9bf39ed430bce60aff19ce8115120751">UDMA_REQMASKCLR</a>) = 1 &lt;&lt; ui32ChannelNum;</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;    }</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;}</div>
<div class="ttc" id="hw__types_8h_html_ac9660181819fceac0b5abcd67d76ca6e"><div class="ttname"><a href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a></div><div class="ttdeci">#define HWREG(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00048">hw_types.h:48</a></div></div>
<div class="ttc" id="udma_8h_html_a0445fc75f523048196ceb311b12c02ca"><div class="ttname"><a href="udma_8h.html#a0445fc75f523048196ceb311b12c02ca">UDMA_ATTR_USEBURST</a></div><div class="ttdeci">#define UDMA_ATTR_USEBURST</div><div class="ttdef"><b>Definition:</b> <a href="udma_8h_source.html#l00197">udma.h:197</a></div></div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="hw__udma_8h_html_a297a23ad50e4111b1fbd0690c4c4a1c2"><div class="ttname"><a href="hw__udma_8h.html#a297a23ad50e4111b1fbd0690c4c4a1c2">UDMA_ALTCLR</a></div><div class="ttdeci">#define UDMA_ALTCLR</div><div class="ttdef"><b>Definition:</b> <a href="hw__udma_8h_source.html#l00065">hw_udma.h:65</a></div></div>
<div class="ttc" id="udma_8h_html_af9b9ed2a83ed20e155161beb4bff3586"><div class="ttname"><a href="udma_8h.html#af9b9ed2a83ed20e155161beb4bff3586">UDMA_ATTR_HIGH_PRIORITY</a></div><div class="ttdeci">#define UDMA_ATTR_HIGH_PRIORITY</div><div class="ttdef"><b>Definition:</b> <a href="udma_8h_source.html#l00199">udma.h:199</a></div></div>
<div class="ttc" id="udma_8h_html_a0b27e30dfe1f1ec530eda75e94fec571"><div class="ttname"><a href="udma_8h.html#a0b27e30dfe1f1ec530eda75e94fec571">UDMA_ATTR_ALTSELECT</a></div><div class="ttdeci">#define UDMA_ATTR_ALTSELECT</div><div class="ttdef"><b>Definition:</b> <a href="udma_8h_source.html#l00198">udma.h:198</a></div></div>
<div class="ttc" id="hw__udma_8h_html_a9bf39ed430bce60aff19ce8115120751"><div class="ttname"><a href="hw__udma_8h.html#a9bf39ed430bce60aff19ce8115120751">UDMA_REQMASKCLR</a></div><div class="ttdeci">#define UDMA_REQMASKCLR</div><div class="ttdef"><b>Definition:</b> <a href="hw__udma_8h_source.html#l00060">hw_udma.h:60</a></div></div>
<div class="ttc" id="hw__udma_8h_html_a54570c67d2b37e5750c87393663d19e8"><div class="ttname"><a href="hw__udma_8h.html#a54570c67d2b37e5750c87393663d19e8">UDMA_USEBURSTCLR</a></div><div class="ttdeci">#define UDMA_USEBURSTCLR</div><div class="ttdef"><b>Definition:</b> <a href="hw__udma_8h_source.html#l00058">hw_udma.h:58</a></div></div>
<div class="ttc" id="hw__udma_8h_html_a4551274bc3f8c607d10e7407030a043d"><div class="ttname"><a href="hw__udma_8h.html#a4551274bc3f8c607d10e7407030a043d">UDMA_PRIOCLR</a></div><div class="ttdeci">#define UDMA_PRIOCLR</div><div class="ttdef"><b>Definition:</b> <a href="hw__udma_8h_source.html#l00068">hw_udma.h:68</a></div></div>
<div class="ttc" id="udma_8h_html_aa857541951178e9d8ba488470f3206b6"><div class="ttname"><a href="udma_8h.html#aa857541951178e9d8ba488470f3206b6">UDMA_ATTR_REQMASK</a></div><div class="ttdeci">#define UDMA_ATTR_REQMASK</div><div class="ttdef"><b>Definition:</b> <a href="udma_8h_source.html#l00200">udma.h:200</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gadcd88d930702b3773952214e27bba3f6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void uDMAChannelAttributeEnable </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32ChannelNum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Attr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enables attributes of a uDMA channel.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32ChannelNum</td><td>is the channel to configure. </td></tr>
    <tr><td class="paramname">ui32Attr</td><td>is a combination of attributes for the channel.</td></tr>
  </table>
  </dd>
</dl>
<p>This function is used to enable attributes of a uDMA channel.</p>
<p>The <em>ui32Attr</em> parameter is the logical OR of any of the following:</p>
<ul>
<li><b>UDMA_ATTR_USEBURST</b> is used to restrict transfers to use only burst mode.</li>
<li><b>UDMA_ATTR_ALTSELECT</b> is used to select the alternate control structure for this channel (it is very unlikely that this flag should be used).</li>
<li><b>UDMA_ATTR_HIGH_PRIORITY</b> is used to set this channel to high priority.</li>
<li><b>UDMA_ATTR_REQMASK</b> is used to mask the hardware request signal from the peripheral for this channel.</li>
</ul>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="udma_8c_source.html#l00356">356</a> of file <a class="el" href="udma_8c_source.html">udma.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="hw__types_8h_source.html#l00048">HWREG</a>, <a class="el" href="hw__udma_8h_source.html#l00063">UDMA_ALTSET</a>, <a class="el" href="udma_8h_source.html#l00198">UDMA_ATTR_ALTSELECT</a>, <a class="el" href="udma_8h_source.html#l00199">UDMA_ATTR_HIGH_PRIORITY</a>, <a class="el" href="udma_8h_source.html#l00200">UDMA_ATTR_REQMASK</a>, <a class="el" href="udma_8h_source.html#l00197">UDMA_ATTR_USEBURST</a>, <a class="el" href="hw__udma_8h_source.html#l00067">UDMA_PRIOSET</a>, <a class="el" href="hw__udma_8h_source.html#l00059">UDMA_REQMASKSET</a>, and <a class="el" href="hw__udma_8h_source.html#l00057">UDMA_USEBURSTSET</a>.</p>
<div class="fragment"><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;{</div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32ChannelNum &amp; 0xffff) &lt; 32);</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32Attr &amp; ~(<a class="code" href="udma_8h.html#a0445fc75f523048196ceb311b12c02ca">UDMA_ATTR_USEBURST</a> | <a class="code" href="udma_8h.html#a0b27e30dfe1f1ec530eda75e94fec571">UDMA_ATTR_ALTSELECT</a> |</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;                         <a class="code" href="udma_8h.html#af9b9ed2a83ed20e155161beb4bff3586">UDMA_ATTR_HIGH_PRIORITY</a> | <a class="code" href="udma_8h.html#aa857541951178e9d8ba488470f3206b6">UDMA_ATTR_REQMASK</a>)) == 0);</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <span class="comment">// In case a channel selector macro (like UDMA_CH0_USB0EP1RX) was</span></div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <span class="comment">// passed as the ui32ChannelNum parameter, extract just the channel number</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <span class="comment">// from this parameter.</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    ui32ChannelNum &amp;= 0x1f;</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <span class="comment">// Set the useburst bit for this channel if set in ui32Config.</span></div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="keywordflow">if</span>(ui32Attr &amp; <a class="code" href="udma_8h.html#a0445fc75f523048196ceb311b12c02ca">UDMA_ATTR_USEBURST</a>)</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    {</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;        <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__udma_8h.html#a93b7ff36ae2aa59087166fc2445a5f86">UDMA_USEBURSTSET</a>) = 1 &lt;&lt; ui32ChannelNum;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    }</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <span class="comment">// Set the alternate control select bit for this channel,</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <span class="comment">// if set in ui32Config.</span></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="keywordflow">if</span>(ui32Attr &amp; <a class="code" href="udma_8h.html#a0b27e30dfe1f1ec530eda75e94fec571">UDMA_ATTR_ALTSELECT</a>)</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    {</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;        <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__udma_8h.html#aa94840220d20a5befb242b02ad5c5faf">UDMA_ALTSET</a>) = 1 &lt;&lt; ui32ChannelNum;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    }</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="comment">// Set the high priority bit for this channel, if set in ui32Config.</span></div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="keywordflow">if</span>(ui32Attr &amp; <a class="code" href="udma_8h.html#af9b9ed2a83ed20e155161beb4bff3586">UDMA_ATTR_HIGH_PRIORITY</a>)</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    {</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;        <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__udma_8h.html#a616a171071e25adf3b2ffb37b3c4e31b">UDMA_PRIOSET</a>) = 1 &lt;&lt; ui32ChannelNum;</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    }</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <span class="comment">// Set the request mask bit for this channel, if set in ui32Config.</span></div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <span class="keywordflow">if</span>(ui32Attr &amp; <a class="code" href="udma_8h.html#aa857541951178e9d8ba488470f3206b6">UDMA_ATTR_REQMASK</a>)</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    {</div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;        <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__udma_8h.html#abefbeb3ff10b0d9388631bd4b0f4fae5">UDMA_REQMASKSET</a>) = 1 &lt;&lt; ui32ChannelNum;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    }</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;}</div>
<div class="ttc" id="hw__udma_8h_html_aa94840220d20a5befb242b02ad5c5faf"><div class="ttname"><a href="hw__udma_8h.html#aa94840220d20a5befb242b02ad5c5faf">UDMA_ALTSET</a></div><div class="ttdeci">#define UDMA_ALTSET</div><div class="ttdef"><b>Definition:</b> <a href="hw__udma_8h_source.html#l00063">hw_udma.h:63</a></div></div>
<div class="ttc" id="hw__types_8h_html_ac9660181819fceac0b5abcd67d76ca6e"><div class="ttname"><a href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a></div><div class="ttdeci">#define HWREG(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00048">hw_types.h:48</a></div></div>
<div class="ttc" id="udma_8h_html_a0445fc75f523048196ceb311b12c02ca"><div class="ttname"><a href="udma_8h.html#a0445fc75f523048196ceb311b12c02ca">UDMA_ATTR_USEBURST</a></div><div class="ttdeci">#define UDMA_ATTR_USEBURST</div><div class="ttdef"><b>Definition:</b> <a href="udma_8h_source.html#l00197">udma.h:197</a></div></div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="udma_8h_html_af9b9ed2a83ed20e155161beb4bff3586"><div class="ttname"><a href="udma_8h.html#af9b9ed2a83ed20e155161beb4bff3586">UDMA_ATTR_HIGH_PRIORITY</a></div><div class="ttdeci">#define UDMA_ATTR_HIGH_PRIORITY</div><div class="ttdef"><b>Definition:</b> <a href="udma_8h_source.html#l00199">udma.h:199</a></div></div>
<div class="ttc" id="udma_8h_html_a0b27e30dfe1f1ec530eda75e94fec571"><div class="ttname"><a href="udma_8h.html#a0b27e30dfe1f1ec530eda75e94fec571">UDMA_ATTR_ALTSELECT</a></div><div class="ttdeci">#define UDMA_ATTR_ALTSELECT</div><div class="ttdef"><b>Definition:</b> <a href="udma_8h_source.html#l00198">udma.h:198</a></div></div>
<div class="ttc" id="hw__udma_8h_html_a616a171071e25adf3b2ffb37b3c4e31b"><div class="ttname"><a href="hw__udma_8h.html#a616a171071e25adf3b2ffb37b3c4e31b">UDMA_PRIOSET</a></div><div class="ttdeci">#define UDMA_PRIOSET</div><div class="ttdef"><b>Definition:</b> <a href="hw__udma_8h_source.html#l00067">hw_udma.h:67</a></div></div>
<div class="ttc" id="udma_8h_html_aa857541951178e9d8ba488470f3206b6"><div class="ttname"><a href="udma_8h.html#aa857541951178e9d8ba488470f3206b6">UDMA_ATTR_REQMASK</a></div><div class="ttdeci">#define UDMA_ATTR_REQMASK</div><div class="ttdef"><b>Definition:</b> <a href="udma_8h_source.html#l00200">udma.h:200</a></div></div>
<div class="ttc" id="hw__udma_8h_html_abefbeb3ff10b0d9388631bd4b0f4fae5"><div class="ttname"><a href="hw__udma_8h.html#abefbeb3ff10b0d9388631bd4b0f4fae5">UDMA_REQMASKSET</a></div><div class="ttdeci">#define UDMA_REQMASKSET</div><div class="ttdef"><b>Definition:</b> <a href="hw__udma_8h_source.html#l00059">hw_udma.h:59</a></div></div>
<div class="ttc" id="hw__udma_8h_html_a93b7ff36ae2aa59087166fc2445a5f86"><div class="ttname"><a href="hw__udma_8h.html#a93b7ff36ae2aa59087166fc2445a5f86">UDMA_USEBURSTSET</a></div><div class="ttdeci">#define UDMA_USEBURSTSET</div><div class="ttdef"><b>Definition:</b> <a href="hw__udma_8h_source.html#l00057">hw_udma.h:57</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga741cac245ca559d1a1112077a7f46b8c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t uDMAChannelAttributeGet </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32ChannelNum</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets the enabled attributes of a uDMA channel.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32ChannelNum</td><td>is the channel to configure.</td></tr>
  </table>
  </dd>
</dl>
<p>This function returns a combination of flags representing the attributes of the uDMA channel.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns the logical OR of the attributes of the uDMA channel, which can be any of the following:<ul>
<li><b>UDMA_ATTR_USEBURST</b> is used to restrict transfers to use only burst mode.</li>
<li><b>UDMA_ATTR_ALTSELECT</b> is used to select the alternate control structure for this channel.</li>
<li><b>UDMA_ATTR_HIGH_PRIORITY</b> is used to set this channel to high priority.</li>
<li><b>UDMA_ATTR_REQMASK</b> is used to mask the hardware request signal from the peripheral for this channel. </li>
</ul>
</dd></dl>

<p>Definition at line <a class="el" href="udma_8c_source.html#l00500">500</a> of file <a class="el" href="udma_8c_source.html">udma.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="hw__types_8h_source.html#l00048">HWREG</a>, <a class="el" href="hw__udma_8h_source.html#l00063">UDMA_ALTSET</a>, <a class="el" href="udma_8h_source.html#l00198">UDMA_ATTR_ALTSELECT</a>, <a class="el" href="udma_8h_source.html#l00199">UDMA_ATTR_HIGH_PRIORITY</a>, <a class="el" href="udma_8h_source.html#l00200">UDMA_ATTR_REQMASK</a>, <a class="el" href="udma_8h_source.html#l00197">UDMA_ATTR_USEBURST</a>, <a class="el" href="hw__udma_8h_source.html#l00067">UDMA_PRIOSET</a>, <a class="el" href="hw__udma_8h_source.html#l00059">UDMA_REQMASKSET</a>, and <a class="el" href="hw__udma_8h_source.html#l00057">UDMA_USEBURSTSET</a>.</p>
<div class="fragment"><div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;{</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    uint32_t ui32Attr = 0;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32ChannelNum &amp; 0xffff) &lt; 32);</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <span class="comment">// In case a channel selector macro (like UDMA_CH0_USB0EP1RX) was</span></div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;    <span class="comment">// passed as the ui32ChannelNum parameter, extract just the channel number</span></div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    <span class="comment">// from this parameter.</span></div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    ui32ChannelNum &amp;= 0x1f;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <span class="comment">// Check to see if useburst bit is set for this channel.</span></div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__udma_8h.html#a93b7ff36ae2aa59087166fc2445a5f86">UDMA_USEBURSTSET</a>) &amp; (1 &lt;&lt; ui32ChannelNum))</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;    {</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        ui32Attr |= <a class="code" href="udma_8h.html#a0445fc75f523048196ceb311b12c02ca">UDMA_ATTR_USEBURST</a>;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    }</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;    <span class="comment">// Check to see if the alternate control bit is set for this channel.</span></div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__udma_8h.html#aa94840220d20a5befb242b02ad5c5faf">UDMA_ALTSET</a>) &amp; (1 &lt;&lt; ui32ChannelNum))</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;    {</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        ui32Attr |= <a class="code" href="udma_8h.html#a0b27e30dfe1f1ec530eda75e94fec571">UDMA_ATTR_ALTSELECT</a>;</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    }</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    <span class="comment">// Check to see if the high priority bit is set for this channel.</span></div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__udma_8h.html#a616a171071e25adf3b2ffb37b3c4e31b">UDMA_PRIOSET</a>) &amp; (1 &lt;&lt; ui32ChannelNum))</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    {</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;        ui32Attr |= <a class="code" href="udma_8h.html#af9b9ed2a83ed20e155161beb4bff3586">UDMA_ATTR_HIGH_PRIORITY</a>;</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    }</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    <span class="comment">// Check to see if the request mask bit is set for this channel.</span></div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;    <span class="keywordflow">if</span>(<a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__udma_8h.html#abefbeb3ff10b0d9388631bd4b0f4fae5">UDMA_REQMASKSET</a>) &amp; (1 &lt;&lt; ui32ChannelNum))</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;    {</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;        ui32Attr |= <a class="code" href="udma_8h.html#aa857541951178e9d8ba488470f3206b6">UDMA_ATTR_REQMASK</a>;</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    }</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;    <span class="comment">// Return the configuration flags.</span></div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;    <span class="keywordflow">return</span>(ui32Attr);</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;}</div>
<div class="ttc" id="hw__udma_8h_html_aa94840220d20a5befb242b02ad5c5faf"><div class="ttname"><a href="hw__udma_8h.html#aa94840220d20a5befb242b02ad5c5faf">UDMA_ALTSET</a></div><div class="ttdeci">#define UDMA_ALTSET</div><div class="ttdef"><b>Definition:</b> <a href="hw__udma_8h_source.html#l00063">hw_udma.h:63</a></div></div>
<div class="ttc" id="hw__types_8h_html_ac9660181819fceac0b5abcd67d76ca6e"><div class="ttname"><a href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a></div><div class="ttdeci">#define HWREG(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00048">hw_types.h:48</a></div></div>
<div class="ttc" id="udma_8h_html_a0445fc75f523048196ceb311b12c02ca"><div class="ttname"><a href="udma_8h.html#a0445fc75f523048196ceb311b12c02ca">UDMA_ATTR_USEBURST</a></div><div class="ttdeci">#define UDMA_ATTR_USEBURST</div><div class="ttdef"><b>Definition:</b> <a href="udma_8h_source.html#l00197">udma.h:197</a></div></div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="udma_8h_html_af9b9ed2a83ed20e155161beb4bff3586"><div class="ttname"><a href="udma_8h.html#af9b9ed2a83ed20e155161beb4bff3586">UDMA_ATTR_HIGH_PRIORITY</a></div><div class="ttdeci">#define UDMA_ATTR_HIGH_PRIORITY</div><div class="ttdef"><b>Definition:</b> <a href="udma_8h_source.html#l00199">udma.h:199</a></div></div>
<div class="ttc" id="udma_8h_html_a0b27e30dfe1f1ec530eda75e94fec571"><div class="ttname"><a href="udma_8h.html#a0b27e30dfe1f1ec530eda75e94fec571">UDMA_ATTR_ALTSELECT</a></div><div class="ttdeci">#define UDMA_ATTR_ALTSELECT</div><div class="ttdef"><b>Definition:</b> <a href="udma_8h_source.html#l00198">udma.h:198</a></div></div>
<div class="ttc" id="hw__udma_8h_html_a616a171071e25adf3b2ffb37b3c4e31b"><div class="ttname"><a href="hw__udma_8h.html#a616a171071e25adf3b2ffb37b3c4e31b">UDMA_PRIOSET</a></div><div class="ttdeci">#define UDMA_PRIOSET</div><div class="ttdef"><b>Definition:</b> <a href="hw__udma_8h_source.html#l00067">hw_udma.h:67</a></div></div>
<div class="ttc" id="udma_8h_html_aa857541951178e9d8ba488470f3206b6"><div class="ttname"><a href="udma_8h.html#aa857541951178e9d8ba488470f3206b6">UDMA_ATTR_REQMASK</a></div><div class="ttdeci">#define UDMA_ATTR_REQMASK</div><div class="ttdef"><b>Definition:</b> <a href="udma_8h_source.html#l00200">udma.h:200</a></div></div>
<div class="ttc" id="hw__udma_8h_html_abefbeb3ff10b0d9388631bd4b0f4fae5"><div class="ttname"><a href="hw__udma_8h.html#abefbeb3ff10b0d9388631bd4b0f4fae5">UDMA_REQMASKSET</a></div><div class="ttdeci">#define UDMA_REQMASKSET</div><div class="ttdef"><b>Definition:</b> <a href="hw__udma_8h_source.html#l00059">hw_udma.h:59</a></div></div>
<div class="ttc" id="hw__udma_8h_html_a93b7ff36ae2aa59087166fc2445a5f86"><div class="ttname"><a href="hw__udma_8h.html#a93b7ff36ae2aa59087166fc2445a5f86">UDMA_USEBURSTSET</a></div><div class="ttdeci">#define UDMA_USEBURSTSET</div><div class="ttdef"><b>Definition:</b> <a href="hw__udma_8h_source.html#l00057">hw_udma.h:57</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga6f73ab006ff6a593eeeb947130bbdf6f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void uDMAChannelControlSet </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32ChannelStructIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Control</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the control parameters for a uDMA channel control structure.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32ChannelStructIndex</td><td>is the logical OR of the uDMA channel number with <b>UDMA_PRI_SELECT</b> or <b>UDMA_ALT_SELECT</b>. </td></tr>
    <tr><td class="paramname">ui32Control</td><td>is logical OR of several control values to set the control parameters for the channel.</td></tr>
  </table>
  </dd>
</dl>
<p>This function is used to set control parameters for a uDMA transfer. These parameters are typically not changed often.</p>
<p>The <em>ui32ChannelStructIndex</em> parameter should be the logical OR of the channel number with one of <b>UDMA_PRI_SELECT</b> or <b>UDMA_ALT_SELECT</b> to choose whether the primary or alternate data structure is used.</p>
<p>The <em>ui32Control</em> parameter is the logical OR of five values: the data size, the source address increment, the destination address increment, the arbitration size, and the use burst flag. The choices available for each of these values is described below.</p>
<p>Choose the data size from one of <b>UDMA_SIZE_8</b>, <b>UDMA_SIZE_16</b>, or <b>UDMA_SIZE_32</b> to select a data size of 8, 16, or 32 bits.</p>
<p>Choose the source address increment from one of <b>UDMA_SRC_INC_8</b>, <b>UDMA_SRC_INC_16</b>, <b>UDMA_SRC_INC_32</b>, or <b>UDMA_SRC_INC_NONE</b> to select an address increment of 8-bit bytes, 16-bit half-words, 32-bit words, or to select non-incrementing.</p>
<p>Choose the destination address increment from one of <b>UDMA_DST_INC_8</b>, <b>UDMA_DST_INC_16</b>, <b>UDMA_DST_INC_32</b>, or <b>UDMA_DST_INC_NONE</b> to select an address increment of 8-bit bytes, 16-bit half-words, 32-bit words, or to select non-incrementing.</p>
<p>The arbitration size determines how many items are transferred before the uDMA controller re-arbitrates for the bus. Choose the arbitration size from one of <b>UDMA_ARB_1</b>, <b>UDMA_ARB_2</b>, <b>UDMA_ARB_4</b>, <b>UDMA_ARB_8</b>, through <b>UDMA_ARB_1024</b> to select the arbitration size from 1 to 1024 items, in powers of 2.</p>
<p>The value <b>UDMA_NEXT_USEBURST</b> is used to force the channel to only respond to burst requests at the tail end of a scatter-gather transfer.</p>
<dl class="section note"><dt>Note</dt><dd>The address increment cannot be smaller than the data size.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="udma_8c_source.html#l00603">603</a> of file <a class="el" href="udma_8c_source.html">udma.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="hw__types_8h_source.html#l00048">HWREG</a>, <a class="el" href="hw__udma_8h_source.html#l00380">UDMA_CHCTL_ARBSIZE_M</a>, <a class="el" href="hw__udma_8h_source.html#l00360">UDMA_CHCTL_DSTINC_M</a>, <a class="el" href="hw__udma_8h_source.html#l00365">UDMA_CHCTL_DSTSIZE_M</a>, <a class="el" href="hw__udma_8h_source.html#l00393">UDMA_CHCTL_NXTUSEBURST</a>, <a class="el" href="hw__udma_8h_source.html#l00369">UDMA_CHCTL_SRCINC_M</a>, <a class="el" href="hw__udma_8h_source.html#l00374">UDMA_CHCTL_SRCSIZE_M</a>, <a class="el" href="hw__udma_8h_source.html#l00051">UDMA_CTLBASE</a>, and <a class="el" href="udma_8h_source.html#l00083">tDMAControlTable::ui32Control</a>.</p>

<p>Referenced by <a class="el" href="spi__flash_8c_source.html#l00103">SPIFlashIntHandler()</a>.</p>
<div class="fragment"><div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;{</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;    <a class="code" href="structt_d_m_a_control_table.html">tDMAControlTable</a> *psCtl;</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32ChannelStructIndex &amp; 0xffff) &lt; 64);</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(<a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__udma_8h.html#adaa31653cc45c57d88b97a67c25ca7ab">UDMA_CTLBASE</a>) != 0);</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;    <span class="comment">// In case a channel selector macro (like UDMA_CH0_USB0EP1RX) was</span></div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;    <span class="comment">// passed as the ui32ChannelStructIndex parameter, extract just the channel</span></div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;    <span class="comment">// index from this parameter.</span></div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;    ui32ChannelStructIndex &amp;= 0x3f;</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;    <span class="comment">// Get the base address of the control table.</span></div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    psCtl = (<a class="code" href="structt_d_m_a_control_table.html">tDMAControlTable</a> *)<a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__udma_8h.html#adaa31653cc45c57d88b97a67c25ca7ab">UDMA_CTLBASE</a>);</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;    <span class="comment">// Get the current control word value and mask off the fields to be</span></div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;    <span class="comment">// changed, then OR in the new settings.</span></div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    psCtl[ui32ChannelStructIndex].<a class="code" href="structt_d_m_a_control_table.html#a408694668c5a110a70841dcdf90bed3b">ui32Control</a> =</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;        ((psCtl[ui32ChannelStructIndex].<a class="code" href="structt_d_m_a_control_table.html#a408694668c5a110a70841dcdf90bed3b">ui32Control</a> &amp;</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;          ~(<a class="code" href="hw__udma_8h.html#ac1264e9f4d0785fe752f86ea39242574">UDMA_CHCTL_DSTINC_M</a> |</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;            <a class="code" href="hw__udma_8h.html#a4d1a9c7817bc1a46b506451ac66a1cbd">UDMA_CHCTL_DSTSIZE_M</a> |</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;            <a class="code" href="hw__udma_8h.html#acd028d22f870c5e7f7c93759c97d4f93">UDMA_CHCTL_SRCINC_M</a> |</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;            <a class="code" href="hw__udma_8h.html#a998df26f37c42e19df7c5df36a15a9cb">UDMA_CHCTL_SRCSIZE_M</a> |</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;            <a class="code" href="hw__udma_8h.html#a47776240d7ab85f1582acd753443ce75">UDMA_CHCTL_ARBSIZE_M</a> |</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;            <a class="code" href="hw__udma_8h.html#a31de6174f855ff5f8e1fb52f9d60f8a8">UDMA_CHCTL_NXTUSEBURST</a>)) |</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;         ui32Control);</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;}</div>
<div class="ttc" id="hw__udma_8h_html_a31de6174f855ff5f8e1fb52f9d60f8a8"><div class="ttname"><a href="hw__udma_8h.html#a31de6174f855ff5f8e1fb52f9d60f8a8">UDMA_CHCTL_NXTUSEBURST</a></div><div class="ttdeci">#define UDMA_CHCTL_NXTUSEBURST</div><div class="ttdef"><b>Definition:</b> <a href="hw__udma_8h_source.html#l00393">hw_udma.h:393</a></div></div>
<div class="ttc" id="hw__types_8h_html_ac9660181819fceac0b5abcd67d76ca6e"><div class="ttname"><a href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a></div><div class="ttdeci">#define HWREG(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00048">hw_types.h:48</a></div></div>
<div class="ttc" id="hw__udma_8h_html_a998df26f37c42e19df7c5df36a15a9cb"><div class="ttname"><a href="hw__udma_8h.html#a998df26f37c42e19df7c5df36a15a9cb">UDMA_CHCTL_SRCSIZE_M</a></div><div class="ttdeci">#define UDMA_CHCTL_SRCSIZE_M</div><div class="ttdef"><b>Definition:</b> <a href="hw__udma_8h_source.html#l00374">hw_udma.h:374</a></div></div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="structt_d_m_a_control_table_html_a408694668c5a110a70841dcdf90bed3b"><div class="ttname"><a href="structt_d_m_a_control_table.html#a408694668c5a110a70841dcdf90bed3b">tDMAControlTable::ui32Control</a></div><div class="ttdeci">volatile uint32_t ui32Control</div><div class="ttdef"><b>Definition:</b> <a href="udma_8h_source.html#l00083">udma.h:83</a></div></div>
<div class="ttc" id="hw__udma_8h_html_a47776240d7ab85f1582acd753443ce75"><div class="ttname"><a href="hw__udma_8h.html#a47776240d7ab85f1582acd753443ce75">UDMA_CHCTL_ARBSIZE_M</a></div><div class="ttdeci">#define UDMA_CHCTL_ARBSIZE_M</div><div class="ttdef"><b>Definition:</b> <a href="hw__udma_8h_source.html#l00380">hw_udma.h:380</a></div></div>
<div class="ttc" id="hw__udma_8h_html_adaa31653cc45c57d88b97a67c25ca7ab"><div class="ttname"><a href="hw__udma_8h.html#adaa31653cc45c57d88b97a67c25ca7ab">UDMA_CTLBASE</a></div><div class="ttdeci">#define UDMA_CTLBASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__udma_8h_source.html#l00051">hw_udma.h:51</a></div></div>
<div class="ttc" id="hw__udma_8h_html_ac1264e9f4d0785fe752f86ea39242574"><div class="ttname"><a href="hw__udma_8h.html#ac1264e9f4d0785fe752f86ea39242574">UDMA_CHCTL_DSTINC_M</a></div><div class="ttdeci">#define UDMA_CHCTL_DSTINC_M</div><div class="ttdef"><b>Definition:</b> <a href="hw__udma_8h_source.html#l00360">hw_udma.h:360</a></div></div>
<div class="ttc" id="hw__udma_8h_html_acd028d22f870c5e7f7c93759c97d4f93"><div class="ttname"><a href="hw__udma_8h.html#acd028d22f870c5e7f7c93759c97d4f93">UDMA_CHCTL_SRCINC_M</a></div><div class="ttdeci">#define UDMA_CHCTL_SRCINC_M</div><div class="ttdef"><b>Definition:</b> <a href="hw__udma_8h_source.html#l00369">hw_udma.h:369</a></div></div>
<div class="ttc" id="structt_d_m_a_control_table_html"><div class="ttname"><a href="structt_d_m_a_control_table.html">tDMAControlTable</a></div><div class="ttdef"><b>Definition:</b> <a href="udma_8h_source.html#l00068">udma.h:68</a></div></div>
<div class="ttc" id="hw__udma_8h_html_a4d1a9c7817bc1a46b506451ac66a1cbd"><div class="ttname"><a href="hw__udma_8h.html#a4d1a9c7817bc1a46b506451ac66a1cbd">UDMA_CHCTL_DSTSIZE_M</a></div><div class="ttdeci">#define UDMA_CHCTL_DSTSIZE_M</div><div class="ttdef"><b>Definition:</b> <a href="hw__udma_8h_source.html#l00365">hw_udma.h:365</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__udma__api_ga6f73ab006ff6a593eeeb947130bbdf6f_icgraph.png" border="0" usemap="#group__udma__api_ga6f73ab006ff6a593eeeb947130bbdf6f_icgraph" alt=""/></div>
<map name="group__udma__api_ga6f73ab006ff6a593eeeb947130bbdf6f_icgraph" id="group__udma__api_ga6f73ab006ff6a593eeeb947130bbdf6f_icgraph">
<area shape="rect" id="node2" href="group__spi__flash__api.html#ga0d56c3c7817caa138af5f48be143f0f5" title="SPIFlashIntHandler" alt="" coords="233,5,375,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga28ded922b57dbc5772036ddcbb8f28d6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void uDMAChannelDisable </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32ChannelNum</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Disables a uDMA channel for operation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32ChannelNum</td><td>is the channel number to disable.</td></tr>
  </table>
  </dd>
</dl>
<p>This function disables a specific uDMA channel. Once disabled, a channel cannot respond to uDMA transfer requests until re-enabled via <a class="el" href="group__udma__api.html#ga41e21189773539bbc5f302863cd5bf06">uDMAChannelEnable()</a>.</p>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="udma_8c_source.html#l00179">179</a> of file <a class="el" href="udma_8c_source.html">udma.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="hw__types_8h_source.html#l00048">HWREG</a>, and <a class="el" href="hw__udma_8h_source.html#l00062">UDMA_ENACLR</a>.</p>
<div class="fragment"><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;{</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32ChannelNum &amp; 0xffff) &lt; 32);</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="comment">// Set the bit for this channel in the enable clear register.</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__udma_8h.html#ad6083ee9273019db8454bc298c3673e0">UDMA_ENACLR</a>) = 1 &lt;&lt; (ui32ChannelNum &amp; 0x1f);</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;}</div>
<div class="ttc" id="hw__types_8h_html_ac9660181819fceac0b5abcd67d76ca6e"><div class="ttname"><a href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a></div><div class="ttdeci">#define HWREG(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00048">hw_types.h:48</a></div></div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="hw__udma_8h_html_ad6083ee9273019db8454bc298c3673e0"><div class="ttname"><a href="hw__udma_8h.html#ad6083ee9273019db8454bc298c3673e0">UDMA_ENACLR</a></div><div class="ttdeci">#define UDMA_ENACLR</div><div class="ttdef"><b>Definition:</b> <a href="hw__udma_8h_source.html#l00062">hw_udma.h:62</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga41e21189773539bbc5f302863cd5bf06"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void uDMAChannelEnable </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32ChannelNum</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enables a uDMA channel for operation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32ChannelNum</td><td>is the channel number to enable.</td></tr>
  </table>
  </dd>
</dl>
<p>This function enables a specific uDMA channel for use. This function must be used to enable a channel before it can be used to perform a uDMA transfer.</p>
<p>When a uDMA transfer is completed, the channel is automatically disabled by the uDMA controller. Therefore, this function should be called prior to starting up any new transfer.</p>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="udma_8c_source.html#l00152">152</a> of file <a class="el" href="udma_8c_source.html">udma.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="hw__types_8h_source.html#l00048">HWREG</a>, and <a class="el" href="hw__udma_8h_source.html#l00061">UDMA_ENASET</a>.</p>

<p>Referenced by <a class="el" href="spi__flash_8c_source.html#l00103">SPIFlashIntHandler()</a>.</p>
<div class="fragment"><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;{</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32ChannelNum &amp; 0xffff) &lt; 32);</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    <span class="comment">// Set the bit for this channel in the enable set register.</span></div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__udma_8h.html#a864bbe5457eab3890f39e838dd0faebc">UDMA_ENASET</a>) = 1 &lt;&lt; (ui32ChannelNum &amp; 0x1f);</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;}</div>
<div class="ttc" id="hw__types_8h_html_ac9660181819fceac0b5abcd67d76ca6e"><div class="ttname"><a href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a></div><div class="ttdeci">#define HWREG(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00048">hw_types.h:48</a></div></div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="hw__udma_8h_html_a864bbe5457eab3890f39e838dd0faebc"><div class="ttname"><a href="hw__udma_8h.html#a864bbe5457eab3890f39e838dd0faebc">UDMA_ENASET</a></div><div class="ttdeci">#define UDMA_ENASET</div><div class="ttdef"><b>Definition:</b> <a href="hw__udma_8h_source.html#l00061">hw_udma.h:61</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__udma__api_ga41e21189773539bbc5f302863cd5bf06_icgraph.png" border="0" usemap="#group__udma__api_ga41e21189773539bbc5f302863cd5bf06_icgraph" alt=""/></div>
<map name="group__udma__api_ga41e21189773539bbc5f302863cd5bf06_icgraph" id="group__udma__api_ga41e21189773539bbc5f302863cd5bf06_icgraph">
<area shape="rect" id="node2" href="group__spi__flash__api.html#ga0d56c3c7817caa138af5f48be143f0f5" title="SPIFlashIntHandler" alt="" coords="208,5,349,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga71a15b561a538ff126aabac85ee311b2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool uDMAChannelIsEnabled </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32ChannelNum</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Checks if a uDMA channel is enabled for operation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32ChannelNum</td><td>is the channel number to check.</td></tr>
  </table>
  </dd>
</dl>
<p>This function checks to see if a specific uDMA channel is enabled. This function can be used to check the status of a transfer, as the channel is automatically disabled at the end of a transfer.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns <b>true</b> if the channel is enabled, <b>false</b> if disabled. </dd></dl>

<p>Definition at line <a class="el" href="udma_8c_source.html#l00206">206</a> of file <a class="el" href="udma_8c_source.html">udma.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="hw__types_8h_source.html#l00048">HWREG</a>, and <a class="el" href="hw__udma_8h_source.html#l00061">UDMA_ENASET</a>.</p>
<div class="fragment"><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;{</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32ChannelNum &amp; 0xffff) &lt; 32);</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="comment">// AND the specified channel bit with the enable register and return the</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    <span class="comment">// result.</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    <span class="keywordflow">return</span>((<a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__udma_8h.html#a864bbe5457eab3890f39e838dd0faebc">UDMA_ENASET</a>) &amp; (1 &lt;&lt; (ui32ChannelNum &amp; 0x1f))) ? <span class="keyword">true</span> :</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;           <span class="keyword">false</span>);</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;}</div>
<div class="ttc" id="hw__types_8h_html_ac9660181819fceac0b5abcd67d76ca6e"><div class="ttname"><a href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a></div><div class="ttdeci">#define HWREG(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00048">hw_types.h:48</a></div></div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="hw__udma_8h_html_a864bbe5457eab3890f39e838dd0faebc"><div class="ttname"><a href="hw__udma_8h.html#a864bbe5457eab3890f39e838dd0faebc">UDMA_ENASET</a></div><div class="ttdeci">#define UDMA_ENASET</div><div class="ttdef"><b>Definition:</b> <a href="hw__udma_8h_source.html#l00061">hw_udma.h:61</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga84a74cc2b06a6a59506dcdfabd0c7972"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t uDMAChannelModeGet </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32ChannelStructIndex</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets the transfer mode for a uDMA channel control structure.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32ChannelStructIndex</td><td>is the logical OR of the uDMA channel number with either <b>UDMA_PRI_SELECT</b> or <b>UDMA_ALT_SELECT</b>.</td></tr>
  </table>
  </dd>
</dl>
<p>This function is used to get the transfer mode for the uDMA channel and to query the status of a transfer on a channel. When the transfer is complete the mode is <b>UDMA_MODE_STOP</b>.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns the transfer mode of the specified channel and control structure, which is one of the following values: <b>UDMA_MODE_STOP</b>, <b>UDMA_MODE_BASIC</b>, <b>UDMA_MODE_AUTO</b>, <b>UDMA_MODE_PINGPONG</b>, <b>UDMA_MODE_MEM_SCATTER_GATHER</b>, or <b>UDMA_MODE_PER_SCATTER_GATHER</b>. </dd></dl>

<p>Definition at line <a class="el" href="udma_8c_source.html#l01018">1018</a> of file <a class="el" href="udma_8c_source.html">udma.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="hw__types_8h_source.html#l00048">HWREG</a>, <a class="el" href="hw__udma_8h_source.html#l00394">UDMA_CHCTL_XFERMODE_M</a>, <a class="el" href="hw__udma_8h_source.html#l00051">UDMA_CTLBASE</a>, <a class="el" href="udma_8h_source.html#l00217">UDMA_MODE_ALT_SELECT</a>, <a class="el" href="udma_8h_source.html#l00213">UDMA_MODE_MEM_SCATTER_GATHER</a>, <a class="el" href="udma_8h_source.html#l00215">UDMA_MODE_PER_SCATTER_GATHER</a>, and <a class="el" href="udma_8h_source.html#l00083">tDMAControlTable::ui32Control</a>.</p>
<div class="fragment"><div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;{</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;    <a class="code" href="structt_d_m_a_control_table.html">tDMAControlTable</a> *psControlTable;</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;    uint32_t ui32Control;</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32ChannelStructIndex &amp; 0xffff) &lt; 64);</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(<a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__udma_8h.html#adaa31653cc45c57d88b97a67c25ca7ab">UDMA_CTLBASE</a>) != 0);</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;    <span class="comment">// In case a channel selector macro (like UDMA_CH0_USB0EP1RX) was</span></div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;    <span class="comment">// passed as the ui32ChannelStructIndex parameter, extract just the channel</span></div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;    <span class="comment">// index from this parameter.</span></div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;    ui32ChannelStructIndex &amp;= 0x3f;</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;    <span class="comment">// Get the base address of the control table.</span></div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;    psControlTable = (<a class="code" href="structt_d_m_a_control_table.html">tDMAControlTable</a> *)<a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__udma_8h.html#adaa31653cc45c57d88b97a67c25ca7ab">UDMA_CTLBASE</a>);</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    <span class="comment">// Get the current control word value and mask off all but the mode field.</span></div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;    ui32Control = (psControlTable[ui32ChannelStructIndex].<a class="code" href="structt_d_m_a_control_table.html#a408694668c5a110a70841dcdf90bed3b">ui32Control</a> &amp;</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;                   <a class="code" href="hw__udma_8h.html#ae3ea72dfa406ca2a250dd62d271d3566">UDMA_CHCTL_XFERMODE_M</a>);</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;    <span class="comment">// Check if scatter/gather mode, and if so, mask off the alt bit.</span></div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;    <span class="keywordflow">if</span>(((ui32Control &amp; ~<a class="code" href="udma_8h.html#ade8eb75e2d128f81131a52832c9046d7">UDMA_MODE_ALT_SELECT</a>) ==</div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;        <a class="code" href="udma_8h.html#ab99c1f842fc5873d9639dd5c81f52e96">UDMA_MODE_MEM_SCATTER_GATHER</a>) ||</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;       ((ui32Control &amp; ~<a class="code" href="udma_8h.html#ade8eb75e2d128f81131a52832c9046d7">UDMA_MODE_ALT_SELECT</a>) == <a class="code" href="udma_8h.html#a45c6f39ddeb623a7d1df04d3e0b15998">UDMA_MODE_PER_SCATTER_GATHER</a>))</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;    {</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;        ui32Control &amp;= ~<a class="code" href="udma_8h.html#ade8eb75e2d128f81131a52832c9046d7">UDMA_MODE_ALT_SELECT</a>;</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;    }</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;    <span class="comment">// Return the mode to the caller.</span></div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;    <span class="keywordflow">return</span>(ui32Control);</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;}</div>
<div class="ttc" id="udma_8h_html_a45c6f39ddeb623a7d1df04d3e0b15998"><div class="ttname"><a href="udma_8h.html#a45c6f39ddeb623a7d1df04d3e0b15998">UDMA_MODE_PER_SCATTER_GATHER</a></div><div class="ttdeci">#define UDMA_MODE_PER_SCATTER_GATHER</div><div class="ttdef"><b>Definition:</b> <a href="udma_8h_source.html#l00215">udma.h:215</a></div></div>
<div class="ttc" id="hw__types_8h_html_ac9660181819fceac0b5abcd67d76ca6e"><div class="ttname"><a href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a></div><div class="ttdeci">#define HWREG(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00048">hw_types.h:48</a></div></div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="structt_d_m_a_control_table_html_a408694668c5a110a70841dcdf90bed3b"><div class="ttname"><a href="structt_d_m_a_control_table.html#a408694668c5a110a70841dcdf90bed3b">tDMAControlTable::ui32Control</a></div><div class="ttdeci">volatile uint32_t ui32Control</div><div class="ttdef"><b>Definition:</b> <a href="udma_8h_source.html#l00083">udma.h:83</a></div></div>
<div class="ttc" id="hw__udma_8h_html_adaa31653cc45c57d88b97a67c25ca7ab"><div class="ttname"><a href="hw__udma_8h.html#adaa31653cc45c57d88b97a67c25ca7ab">UDMA_CTLBASE</a></div><div class="ttdeci">#define UDMA_CTLBASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__udma_8h_source.html#l00051">hw_udma.h:51</a></div></div>
<div class="ttc" id="structt_d_m_a_control_table_html"><div class="ttname"><a href="structt_d_m_a_control_table.html">tDMAControlTable</a></div><div class="ttdef"><b>Definition:</b> <a href="udma_8h_source.html#l00068">udma.h:68</a></div></div>
<div class="ttc" id="hw__udma_8h_html_ae3ea72dfa406ca2a250dd62d271d3566"><div class="ttname"><a href="hw__udma_8h.html#ae3ea72dfa406ca2a250dd62d271d3566">UDMA_CHCTL_XFERMODE_M</a></div><div class="ttdeci">#define UDMA_CHCTL_XFERMODE_M</div><div class="ttdef"><b>Definition:</b> <a href="hw__udma_8h_source.html#l00394">hw_udma.h:394</a></div></div>
<div class="ttc" id="udma_8h_html_ab99c1f842fc5873d9639dd5c81f52e96"><div class="ttname"><a href="udma_8h.html#ab99c1f842fc5873d9639dd5c81f52e96">UDMA_MODE_MEM_SCATTER_GATHER</a></div><div class="ttdeci">#define UDMA_MODE_MEM_SCATTER_GATHER</div><div class="ttdef"><b>Definition:</b> <a href="udma_8h_source.html#l00213">udma.h:213</a></div></div>
<div class="ttc" id="udma_8h_html_ade8eb75e2d128f81131a52832c9046d7"><div class="ttname"><a href="udma_8h.html#ade8eb75e2d128f81131a52832c9046d7">UDMA_MODE_ALT_SELECT</a></div><div class="ttdeci">#define UDMA_MODE_ALT_SELECT</div><div class="ttdef"><b>Definition:</b> <a href="udma_8h_source.html#l00217">udma.h:217</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga1020903cbcc5a03434c3f5c13f252a72"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void uDMAChannelRequest </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32ChannelNum</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Requests a uDMA channel to start a transfer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32ChannelNum</td><td>is the channel number on which to request a uDMA transfer.</td></tr>
  </table>
  </dd>
</dl>
<p>This function allows software to request a uDMA channel to begin a transfer. This function could be used for performing a memory-to-memory transfer, or if for some reason a transfer needs to be initiated by software instead of the peripheral associated with that channel.</p>
<dl class="section note"><dt>Note</dt><dd>If the channel is <b>UDMA_CHANNEL_SW</b> and interrupts are used, then the completion is signaled on the uDMA dedicated interrupt. If a peripheral channel is used, then the completion is signaled on the peripheral's interrupt.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="udma_8c_source.html#l00320">320</a> of file <a class="el" href="udma_8c_source.html">udma.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="hw__types_8h_source.html#l00048">HWREG</a>, and <a class="el" href="hw__udma_8h_source.html#l00056">UDMA_SWREQ</a>.</p>
<div class="fragment"><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;{</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32ChannelNum &amp; 0xffff) &lt; 32);</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;    <span class="comment">// Set the bit for this channel in the software uDMA request register.</span></div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__udma_8h.html#a72e58ae4b094a0d2c375aa71ff828505">UDMA_SWREQ</a>) = 1 &lt;&lt; (ui32ChannelNum &amp; 0x1f);</div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;}</div>
<div class="ttc" id="hw__types_8h_html_ac9660181819fceac0b5abcd67d76ca6e"><div class="ttname"><a href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a></div><div class="ttdeci">#define HWREG(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00048">hw_types.h:48</a></div></div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="hw__udma_8h_html_a72e58ae4b094a0d2c375aa71ff828505"><div class="ttname"><a href="hw__udma_8h.html#a72e58ae4b094a0d2c375aa71ff828505">UDMA_SWREQ</a></div><div class="ttdeci">#define UDMA_SWREQ</div><div class="ttdef"><b>Definition:</b> <a href="hw__udma_8h_source.html#l00056">hw_udma.h:56</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gaac152bd620c5edc6d2d348ac7771c882"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void uDMAChannelScatterGatherSet </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32ChannelNum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32TaskCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pvTaskList</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32IsPeriphSG</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Configures a uDMA channel for scatter-gather mode.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32ChannelNum</td><td>is the uDMA channel number. </td></tr>
    <tr><td class="paramname">ui32TaskCount</td><td>is the number of scatter-gather tasks to execute. </td></tr>
    <tr><td class="paramname">pvTaskList</td><td>is a pointer to the beginning of the scatter-gather task list. </td></tr>
    <tr><td class="paramname">ui32IsPeriphSG</td><td>is a flag to indicate it is a peripheral scatter-gather transfer (else it is memory scatter-gather transfer)</td></tr>
  </table>
  </dd>
</dl>
<p>This function is used to configure a channel for scatter-gather mode. The caller must have already set up a task list and must pass a pointer to the start of the task list as the <em>pvTaskList</em> parameter. The <em>ui32TaskCount</em> parameter is the count of tasks in the task list, not the size of the task list. The flag <em>bIsPeriphSG</em> should be used to indicate if scatter-gather should be configured for peripheral or memory operation.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__udma__api.html#ga6cd46a977652fd018368bb47d018f48e">uDMATaskStructEntry</a></dd></dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="udma_8c_source.html#l00861">861</a> of file <a class="el" href="udma_8c_source.html">udma.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="hw__types_8h_source.html#l00048">HWREG</a>, <a class="el" href="udma_8h_source.html#l00078">tDMAControlTable::pvDstEndAddr</a>, <a class="el" href="udma_8h_source.html#l00073">tDMAControlTable::pvSrcEndAddr</a>, <a class="el" href="udma_8h_source.html#l00291">UDMA_ALT_SELECT</a>, <a class="el" href="hw__udma_8h_source.html#l00065">UDMA_ALTCLR</a>, <a class="el" href="hw__udma_8h_source.html#l00383">UDMA_CHCTL_ARBSIZE_4</a>, <a class="el" href="hw__udma_8h_source.html#l00363">UDMA_CHCTL_DSTINC_32</a>, <a class="el" href="hw__udma_8h_source.html#l00368">UDMA_CHCTL_DSTSIZE_32</a>, <a class="el" href="hw__udma_8h_source.html#l00372">UDMA_CHCTL_SRCINC_32</a>, <a class="el" href="hw__udma_8h_source.html#l00377">UDMA_CHCTL_SRCSIZE_32</a>, <a class="el" href="hw__udma_8h_source.html#l00403">UDMA_CHCTL_XFERMODE_MEM_SG</a>, <a class="el" href="hw__udma_8h_source.html#l00407">UDMA_CHCTL_XFERMODE_PER_SG</a>, <a class="el" href="hw__udma_8h_source.html#l00412">UDMA_CHCTL_XFERSIZE_S</a>, <a class="el" href="hw__udma_8h_source.html#l00051">UDMA_CTLBASE</a>, <a class="el" href="udma_8h_source.html#l00083">tDMAControlTable::ui32Control</a>, and <a class="el" href="udma_8h_source.html#l00088">tDMAControlTable::ui32Spare</a>.</p>
<div class="fragment"><div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;{</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;    <a class="code" href="structt_d_m_a_control_table.html">tDMAControlTable</a> *psControlTable;</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    <a class="code" href="structt_d_m_a_control_table.html">tDMAControlTable</a> *psTaskTable;</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    <span class="comment">// Check the parameters</span></div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32ChannelNum &amp; 0xffff) &lt; 32);</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(<a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__udma_8h.html#adaa31653cc45c57d88b97a67c25ca7ab">UDMA_CTLBASE</a>) != 0);</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(pvTaskList != 0);</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32TaskCount &lt;= 1024);</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32TaskCount != 0);</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;    <span class="comment">// In case a channel selector macro (like UDMA_CH0_USB0EP1RX) was</span></div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;    <span class="comment">// passed as the ui32ChannelNum parameter, extract just the channel number</span></div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;    <span class="comment">// from this parameter.</span></div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;    ui32ChannelNum &amp;= 0x1f;</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;    <span class="comment">// Get the base address of the control table.</span></div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;    psControlTable = (<a class="code" href="structt_d_m_a_control_table.html">tDMAControlTable</a> *)<a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__udma_8h.html#adaa31653cc45c57d88b97a67c25ca7ab">UDMA_CTLBASE</a>);</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;    <span class="comment">// Get a handy pointer to the task list</span></div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;    psTaskTable = (<a class="code" href="structt_d_m_a_control_table.html">tDMAControlTable</a> *)pvTaskList;</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;    <span class="comment">// Compute the ending address for the source pointer.  This address is the</span></div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;    <span class="comment">// last element of the last task in the task table</span></div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;    psControlTable[ui32ChannelNum].<a class="code" href="structt_d_m_a_control_table.html#a211c562f9f14e09e84cd8c215e69c7a5">pvSrcEndAddr</a> =</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;        &amp;psTaskTable[ui32TaskCount - 1].<a class="code" href="structt_d_m_a_control_table.html#a4f63f0ed18f20f7b81146ad194a259f9">ui32Spare</a>;</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;    <span class="comment">// Compute the ending address for the destination pointer.  This address</span></div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;    <span class="comment">// is the end of the alternate structure for this channel.</span></div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;    psControlTable[ui32ChannelNum].<a class="code" href="structt_d_m_a_control_table.html#a7346504231dcaa51e6da47bb82256c8f">pvDstEndAddr</a> =</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;        &amp;psControlTable[ui32ChannelNum | <a class="code" href="udma_8h.html#a771b6d461c641f0902ce146fe41a3321">UDMA_ALT_SELECT</a>].<a class="code" href="structt_d_m_a_control_table.html#a4f63f0ed18f20f7b81146ad194a259f9">ui32Spare</a>;</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;    <span class="comment">// Compute the control word.  Most configurable items are fixed for</span></div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;    <span class="comment">// scatter-gather.  Item and increment sizes are all 32-bit and arb</span></div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;    <span class="comment">// size must be 4.  The count is the number of items in the task list</span></div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;    <span class="comment">// times 4 (4 words per task).</span></div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;    psControlTable[ui32ChannelNum].<a class="code" href="structt_d_m_a_control_table.html#a408694668c5a110a70841dcdf90bed3b">ui32Control</a> =</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;        (<a class="code" href="hw__udma_8h.html#abd9009cbe6cb94351b44ad0b7c2ce0a1">UDMA_CHCTL_DSTINC_32</a> | <a class="code" href="hw__udma_8h.html#a6e7cba2be4f561a40a1dd154296b06e9">UDMA_CHCTL_DSTSIZE_32</a> |</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;         <a class="code" href="hw__udma_8h.html#a14161ca6906e08c2452e7429067af299">UDMA_CHCTL_SRCINC_32</a> | <a class="code" href="hw__udma_8h.html#ac7de0686f7dbd06d508297492bd68ba9">UDMA_CHCTL_SRCSIZE_32</a> |</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;         <a class="code" href="hw__udma_8h.html#abf5016e197e4f1ea31c6e77902587a43">UDMA_CHCTL_ARBSIZE_4</a> |</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;         (((ui32TaskCount * 4) - 1) &lt;&lt; <a class="code" href="hw__udma_8h.html#a3ba2fb1a3f7c5322d9785e77b5a8e9d4">UDMA_CHCTL_XFERSIZE_S</a>) |</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;         (ui32IsPeriphSG ? <a class="code" href="hw__udma_8h.html#aaa64533f9fdec32bf78225bae7a0509d">UDMA_CHCTL_XFERMODE_PER_SG</a> :</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;          <a class="code" href="hw__udma_8h.html#a9e6063c5a69d1583b8771bd524ac176b">UDMA_CHCTL_XFERMODE_MEM_SG</a>));</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;    <span class="comment">// Scatter-gather operations can leave the alt bit set.  So if doing</span></div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;    <span class="comment">// back to back scatter-gather transfers, the second attempt may not</span></div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    <span class="comment">// work correctly because the alt bit is set.  Therefore, clear the</span></div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;    <span class="comment">// alt bit here to ensure that it is always cleared before a new SG</span></div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;    <span class="comment">// transfer is started.</span></div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;    <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__udma_8h.html#a297a23ad50e4111b1fbd0690c4c4a1c2">UDMA_ALTCLR</a>) = 1 &lt;&lt; ui32ChannelNum;</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;}</div>
<div class="ttc" id="hw__udma_8h_html_abd9009cbe6cb94351b44ad0b7c2ce0a1"><div class="ttname"><a href="hw__udma_8h.html#abd9009cbe6cb94351b44ad0b7c2ce0a1">UDMA_CHCTL_DSTINC_32</a></div><div class="ttdeci">#define UDMA_CHCTL_DSTINC_32</div><div class="ttdef"><b>Definition:</b> <a href="hw__udma_8h_source.html#l00363">hw_udma.h:363</a></div></div>
<div class="ttc" id="structt_d_m_a_control_table_html_a211c562f9f14e09e84cd8c215e69c7a5"><div class="ttname"><a href="structt_d_m_a_control_table.html#a211c562f9f14e09e84cd8c215e69c7a5">tDMAControlTable::pvSrcEndAddr</a></div><div class="ttdeci">volatile void * pvSrcEndAddr</div><div class="ttdef"><b>Definition:</b> <a href="udma_8h_source.html#l00073">udma.h:73</a></div></div>
<div class="ttc" id="hw__types_8h_html_ac9660181819fceac0b5abcd67d76ca6e"><div class="ttname"><a href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a></div><div class="ttdeci">#define HWREG(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00048">hw_types.h:48</a></div></div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="udma_8h_html_a771b6d461c641f0902ce146fe41a3321"><div class="ttname"><a href="udma_8h.html#a771b6d461c641f0902ce146fe41a3321">UDMA_ALT_SELECT</a></div><div class="ttdeci">#define UDMA_ALT_SELECT</div><div class="ttdef"><b>Definition:</b> <a href="udma_8h_source.html#l00291">udma.h:291</a></div></div>
<div class="ttc" id="hw__udma_8h_html_a297a23ad50e4111b1fbd0690c4c4a1c2"><div class="ttname"><a href="hw__udma_8h.html#a297a23ad50e4111b1fbd0690c4c4a1c2">UDMA_ALTCLR</a></div><div class="ttdeci">#define UDMA_ALTCLR</div><div class="ttdef"><b>Definition:</b> <a href="hw__udma_8h_source.html#l00065">hw_udma.h:65</a></div></div>
<div class="ttc" id="hw__udma_8h_html_a6e7cba2be4f561a40a1dd154296b06e9"><div class="ttname"><a href="hw__udma_8h.html#a6e7cba2be4f561a40a1dd154296b06e9">UDMA_CHCTL_DSTSIZE_32</a></div><div class="ttdeci">#define UDMA_CHCTL_DSTSIZE_32</div><div class="ttdef"><b>Definition:</b> <a href="hw__udma_8h_source.html#l00368">hw_udma.h:368</a></div></div>
<div class="ttc" id="structt_d_m_a_control_table_html_a4f63f0ed18f20f7b81146ad194a259f9"><div class="ttname"><a href="structt_d_m_a_control_table.html#a4f63f0ed18f20f7b81146ad194a259f9">tDMAControlTable::ui32Spare</a></div><div class="ttdeci">volatile uint32_t ui32Spare</div><div class="ttdef"><b>Definition:</b> <a href="udma_8h_source.html#l00088">udma.h:88</a></div></div>
<div class="ttc" id="hw__udma_8h_html_ac7de0686f7dbd06d508297492bd68ba9"><div class="ttname"><a href="hw__udma_8h.html#ac7de0686f7dbd06d508297492bd68ba9">UDMA_CHCTL_SRCSIZE_32</a></div><div class="ttdeci">#define UDMA_CHCTL_SRCSIZE_32</div><div class="ttdef"><b>Definition:</b> <a href="hw__udma_8h_source.html#l00377">hw_udma.h:377</a></div></div>
<div class="ttc" id="hw__udma_8h_html_a14161ca6906e08c2452e7429067af299"><div class="ttname"><a href="hw__udma_8h.html#a14161ca6906e08c2452e7429067af299">UDMA_CHCTL_SRCINC_32</a></div><div class="ttdeci">#define UDMA_CHCTL_SRCINC_32</div><div class="ttdef"><b>Definition:</b> <a href="hw__udma_8h_source.html#l00372">hw_udma.h:372</a></div></div>
<div class="ttc" id="hw__udma_8h_html_aaa64533f9fdec32bf78225bae7a0509d"><div class="ttname"><a href="hw__udma_8h.html#aaa64533f9fdec32bf78225bae7a0509d">UDMA_CHCTL_XFERMODE_PER_SG</a></div><div class="ttdeci">#define UDMA_CHCTL_XFERMODE_PER_SG</div><div class="ttdef"><b>Definition:</b> <a href="hw__udma_8h_source.html#l00407">hw_udma.h:407</a></div></div>
<div class="ttc" id="structt_d_m_a_control_table_html_a408694668c5a110a70841dcdf90bed3b"><div class="ttname"><a href="structt_d_m_a_control_table.html#a408694668c5a110a70841dcdf90bed3b">tDMAControlTable::ui32Control</a></div><div class="ttdeci">volatile uint32_t ui32Control</div><div class="ttdef"><b>Definition:</b> <a href="udma_8h_source.html#l00083">udma.h:83</a></div></div>
<div class="ttc" id="structt_d_m_a_control_table_html_a7346504231dcaa51e6da47bb82256c8f"><div class="ttname"><a href="structt_d_m_a_control_table.html#a7346504231dcaa51e6da47bb82256c8f">tDMAControlTable::pvDstEndAddr</a></div><div class="ttdeci">volatile void * pvDstEndAddr</div><div class="ttdef"><b>Definition:</b> <a href="udma_8h_source.html#l00078">udma.h:78</a></div></div>
<div class="ttc" id="hw__udma_8h_html_adaa31653cc45c57d88b97a67c25ca7ab"><div class="ttname"><a href="hw__udma_8h.html#adaa31653cc45c57d88b97a67c25ca7ab">UDMA_CTLBASE</a></div><div class="ttdeci">#define UDMA_CTLBASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__udma_8h_source.html#l00051">hw_udma.h:51</a></div></div>
<div class="ttc" id="structt_d_m_a_control_table_html"><div class="ttname"><a href="structt_d_m_a_control_table.html">tDMAControlTable</a></div><div class="ttdef"><b>Definition:</b> <a href="udma_8h_source.html#l00068">udma.h:68</a></div></div>
<div class="ttc" id="hw__udma_8h_html_abf5016e197e4f1ea31c6e77902587a43"><div class="ttname"><a href="hw__udma_8h.html#abf5016e197e4f1ea31c6e77902587a43">UDMA_CHCTL_ARBSIZE_4</a></div><div class="ttdeci">#define UDMA_CHCTL_ARBSIZE_4</div><div class="ttdef"><b>Definition:</b> <a href="hw__udma_8h_source.html#l00383">hw_udma.h:383</a></div></div>
<div class="ttc" id="hw__udma_8h_html_a9e6063c5a69d1583b8771bd524ac176b"><div class="ttname"><a href="hw__udma_8h.html#a9e6063c5a69d1583b8771bd524ac176b">UDMA_CHCTL_XFERMODE_MEM_SG</a></div><div class="ttdeci">#define UDMA_CHCTL_XFERMODE_MEM_SG</div><div class="ttdef"><b>Definition:</b> <a href="hw__udma_8h_source.html#l00403">hw_udma.h:403</a></div></div>
<div class="ttc" id="hw__udma_8h_html_a3ba2fb1a3f7c5322d9785e77b5a8e9d4"><div class="ttname"><a href="hw__udma_8h.html#a3ba2fb1a3f7c5322d9785e77b5a8e9d4">UDMA_CHCTL_XFERSIZE_S</a></div><div class="ttdeci">#define UDMA_CHCTL_XFERSIZE_S</div><div class="ttdef"><b>Definition:</b> <a href="hw__udma_8h_source.html#l00412">hw_udma.h:412</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga1b9f47d58dca2859ce11cf9ffd8ab156"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void uDMAChannelSelectDefault </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32DefPeriphs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Selects the default peripheral for a set of uDMA channels.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32DefPeriphs</td><td>is the logical OR of the uDMA channels for which to use the default peripheral, instead of the secondary peripheral.</td></tr>
  </table>
  </dd>
</dl>
<p>This function is used to select the default peripheral assignment for a set of uDMA channels.</p>
<p>The parameter <em>ui32DefPeriphs</em> can be the logical OR of any of the following macros. If one of the macros below is in the list passed to this function, then the default peripheral (marked as <b><em>DEF</em></b>) is selected.</p>
<ul>
<li><b>UDMA_DEF_USBEP1RX_SEC_UART2RX</b> </li>
<li><b>UDMA_DEF_USBEP1TX_SEC_UART2TX</b> </li>
<li><b>UDMA_DEF_USBEP2RX_SEC_TMR3A</b> </li>
<li><b>UDMA_DEF_USBEP2TX_SEC_TMR3B</b> </li>
<li><b>UDMA_DEF_USBEP3RX_SEC_TMR2A</b> </li>
<li><b>UDMA_DEF_USBEP3TX_SEC_TMR2B</b> </li>
<li><b>UDMA_DEF_ETH0RX_SEC_TMR2A</b> </li>
<li><b>UDMA_DEF_ETH0TX_SEC_TMR2B</b> </li>
<li><b>UDMA_DEF_UART0RX_SEC_UART1RX</b> </li>
<li><b>UDMA_DEF_UART0TX_SEC_UART1TX</b> </li>
<li><b>UDMA_DEF_SSI0RX_SEC_SSI1RX</b> </li>
<li><b>UDMA_DEF_SSI0TX_SEC_SSI1TX</b> </li>
<li><b>UDMA_DEF_RESERVED_SEC_UART2RX</b> </li>
<li><b>UDMA_DEF_RESERVED_SEC_UART2TX</b> </li>
<li><b>UDMA_DEF_ADC00_SEC_TMR2A</b> </li>
<li><b>UDMA_DEF_ADC01_SEC_TMR2B</b> </li>
<li><b>UDMA_DEF_ADC02_SEC_RESERVED</b> </li>
<li><b>UDMA_DEF_ADC03_SEC_RESERVED</b> </li>
<li><b>UDMA_DEF_TMR0A_SEC_TMR1A</b> </li>
<li><b>UDMA_DEF_TMR0B_SEC_TMR1B</b> </li>
<li><b>UDMA_DEF_TMR1A_SEC_EPI0RX</b> </li>
<li><b>UDMA_DEF_TMR1B_SEC_EPI0TX</b> </li>
<li><b>UDMA_DEF_UART1RX_SEC_RESERVED</b> </li>
<li><b>UDMA_DEF_UART1TX_SEC_RESERVED</b> </li>
<li><b>UDMA_DEF_SSI1RX_SEC_ADC10</b> </li>
<li><b>UDMA_DEF_SSI1TX_SEC_ADC11</b> </li>
<li><b>UDMA_DEF_RESERVED_SEC_ADC12</b> </li>
<li><b>UDMA_DEF_RESERVED_SEC_ADC13</b> </li>
<li><b>UDMA_DEF_I2S0RX_SEC_RESERVED</b> </li>
<li><b>UDMA_DEF_I2S0TX_SEC_RESERVED</b> </li>
</ul>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="udma_8c_source.html#l01370">1370</a> of file <a class="el" href="udma_8c_source.html">udma.c</a>.</p>

<p>References <a class="el" href="hw__types_8h_source.html#l00048">HWREG</a>, and <a class="el" href="hw__udma_8h_source.html#l00070">UDMA_CHASGN</a>.</p>
<div class="fragment"><div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;{</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;    <span class="comment">// Select the default peripheral for the specified channels.</span></div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;    <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__udma_8h.html#a3c99c817c1f9e0a5863b590a443d6970">UDMA_CHASGN</a>) &amp;= ~ui32DefPeriphs;</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;}</div>
<div class="ttc" id="hw__types_8h_html_ac9660181819fceac0b5abcd67d76ca6e"><div class="ttname"><a href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a></div><div class="ttdeci">#define HWREG(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00048">hw_types.h:48</a></div></div>
<div class="ttc" id="hw__udma_8h_html_a3c99c817c1f9e0a5863b590a443d6970"><div class="ttname"><a href="hw__udma_8h.html#a3c99c817c1f9e0a5863b590a443d6970">UDMA_CHASGN</a></div><div class="ttdeci">#define UDMA_CHASGN</div><div class="ttdef"><b>Definition:</b> <a href="hw__udma_8h_source.html#l00070">hw_udma.h:70</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga8e60984be50a27b696f4caa6628a4f80"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void uDMAChannelSelectSecondary </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32SecPeriphs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Selects the secondary peripheral for a set of uDMA channels.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32SecPeriphs</td><td>is the logical OR of the uDMA channels for which to use the secondary peripheral, instead of the default peripheral.</td></tr>
  </table>
  </dd>
</dl>
<p>This function is used to select the secondary peripheral assignment for a set of uDMA channels. By selecting the secondary peripheral assignment for a channel, the default peripheral assignment is no longer available for that channel.</p>
<p>The parameter <em>ui32SecPeriphs</em> can be the logical OR of any of the following macros. If one of the macros below is in the list passed to this function, then the secondary peripheral (marked as <b><em>SEC</em></b>) is selected.</p>
<ul>
<li><b>UDMA_DEF_USBEP1RX_SEC_UART2RX</b> </li>
<li><b>UDMA_DEF_USBEP1TX_SEC_UART2TX</b> </li>
<li><b>UDMA_DEF_USBEP2RX_SEC_TMR3A</b> </li>
<li><b>UDMA_DEF_USBEP2TX_SEC_TMR3B</b> </li>
<li><b>UDMA_DEF_USBEP3RX_SEC_TMR2A</b> </li>
<li><b>UDMA_DEF_USBEP3TX_SEC_TMR2B</b> </li>
<li><b>UDMA_DEF_ETH0RX_SEC_TMR2A</b> </li>
<li><b>UDMA_DEF_ETH0TX_SEC_TMR2B</b> </li>
<li><b>UDMA_DEF_UART0RX_SEC_UART1RX</b> </li>
<li><b>UDMA_DEF_UART0TX_SEC_UART1TX</b> </li>
<li><b>UDMA_DEF_SSI0RX_SEC_SSI1RX</b> </li>
<li><b>UDMA_DEF_SSI0TX_SEC_SSI1TX</b> </li>
<li><b>UDMA_DEF_RESERVED_SEC_UART2RX</b> </li>
<li><b>UDMA_DEF_RESERVED_SEC_UART2TX</b> </li>
<li><b>UDMA_DEF_ADC00_SEC_TMR2A</b> </li>
<li><b>UDMA_DEF_ADC01_SEC_TMR2B</b> </li>
<li><b>UDMA_DEF_ADC02_SEC_RESERVED</b> </li>
<li><b>UDMA_DEF_ADC03_SEC_RESERVED</b> </li>
<li><b>UDMA_DEF_TMR0A_SEC_TMR1A</b> </li>
<li><b>UDMA_DEF_TMR0B_SEC_TMR1B</b> </li>
<li><b>UDMA_DEF_TMR1A_SEC_EPI0RX</b> </li>
<li><b>UDMA_DEF_TMR1B_SEC_EPI0TX</b> </li>
<li><b>UDMA_DEF_UART1RX_SEC_RESERVED</b> </li>
<li><b>UDMA_DEF_UART1TX_SEC_RESERVED</b> </li>
<li><b>UDMA_DEF_SSI1RX_SEC_ADC10</b> </li>
<li><b>UDMA_DEF_SSI1TX_SEC_ADC11</b> </li>
<li><b>UDMA_DEF_RESERVED_SEC_ADC12</b> </li>
<li><b>UDMA_DEF_RESERVED_SEC_ADC13</b> </li>
<li><b>UDMA_DEF_I2S0RX_SEC_RESERVED</b> </li>
<li><b>UDMA_DEF_I2S0TX_SEC_RESERVED</b> </li>
</ul>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="udma_8c_source.html#l01313">1313</a> of file <a class="el" href="udma_8c_source.html">udma.c</a>.</p>

<p>References <a class="el" href="hw__types_8h_source.html#l00048">HWREG</a>, and <a class="el" href="hw__udma_8h_source.html#l00070">UDMA_CHASGN</a>.</p>
<div class="fragment"><div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;{</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;    <span class="comment">// Select the secondary peripheral for the specified channels.</span></div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;    <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__udma_8h.html#a3c99c817c1f9e0a5863b590a443d6970">UDMA_CHASGN</a>) |= ui32SecPeriphs;</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;}</div>
<div class="ttc" id="hw__types_8h_html_ac9660181819fceac0b5abcd67d76ca6e"><div class="ttname"><a href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a></div><div class="ttdeci">#define HWREG(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00048">hw_types.h:48</a></div></div>
<div class="ttc" id="hw__udma_8h_html_a3c99c817c1f9e0a5863b590a443d6970"><div class="ttname"><a href="hw__udma_8h.html#a3c99c817c1f9e0a5863b590a443d6970">UDMA_CHASGN</a></div><div class="ttdeci">#define UDMA_CHASGN</div><div class="ttdef"><b>Definition:</b> <a href="hw__udma_8h_source.html#l00070">hw_udma.h:70</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga52908962d5fdc8ad21d14a3ebb19c0b9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t uDMAChannelSizeGet </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32ChannelStructIndex</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets the current transfer size for a uDMA channel control structure.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32ChannelStructIndex</td><td>is the logical OR of the uDMA channel number with either <b>UDMA_PRI_SELECT</b> or <b>UDMA_ALT_SELECT</b>.</td></tr>
  </table>
  </dd>
</dl>
<p>This function is used to get the uDMA transfer size for a channel. The transfer size is the number of items to transfer, where the size of an item might be 8, 16, or 32 bits. If a partial transfer has already occurred, then the number of remaining items is returned. If the transfer is complete, then 0 is returned.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns the number of items remaining to transfer. </dd></dl>

<p>Definition at line <a class="el" href="udma_8c_source.html#l00948">948</a> of file <a class="el" href="udma_8c_source.html">udma.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="hw__types_8h_source.html#l00048">HWREG</a>, <a class="el" href="hw__udma_8h_source.html#l00394">UDMA_CHCTL_XFERMODE_M</a>, <a class="el" href="hw__udma_8h_source.html#l00392">UDMA_CHCTL_XFERSIZE_M</a>, <a class="el" href="hw__udma_8h_source.html#l00051">UDMA_CTLBASE</a>, and <a class="el" href="udma_8h_source.html#l00083">tDMAControlTable::ui32Control</a>.</p>
<div class="fragment"><div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;{</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;    <a class="code" href="structt_d_m_a_control_table.html">tDMAControlTable</a> *psControlTable;</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;    uint32_t ui32Control;</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32ChannelStructIndex &amp; 0xffff) &lt; 64);</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(<a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__udma_8h.html#adaa31653cc45c57d88b97a67c25ca7ab">UDMA_CTLBASE</a>) != 0);</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;    <span class="comment">// In case a channel selector macro (like UDMA_CH0_USB0EP1RX) was</span></div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    <span class="comment">// passed as the ui32ChannelStructIndex parameter, extract just the channel</span></div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    <span class="comment">// index from this parameter.</span></div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;    ui32ChannelStructIndex &amp;= 0x3f;</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;    <span class="comment">// Get the base address of the control table.</span></div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;    psControlTable = (<a class="code" href="structt_d_m_a_control_table.html">tDMAControlTable</a> *)<a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__udma_8h.html#adaa31653cc45c57d88b97a67c25ca7ab">UDMA_CTLBASE</a>);</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;    <span class="comment">// Get the current control word value and mask off all but the size field</span></div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;    <span class="comment">// and the mode field.</span></div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;    ui32Control = (psControlTable[ui32ChannelStructIndex].<a class="code" href="structt_d_m_a_control_table.html#a408694668c5a110a70841dcdf90bed3b">ui32Control</a> &amp;</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;                   (<a class="code" href="hw__udma_8h.html#ab20c09d0d72e80b1556c0215454ea1d8">UDMA_CHCTL_XFERSIZE_M</a> | <a class="code" href="hw__udma_8h.html#ae3ea72dfa406ca2a250dd62d271d3566">UDMA_CHCTL_XFERMODE_M</a>));</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;    <span class="comment">// If the size field and mode field are 0 then the transfer is finished</span></div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;    <span class="comment">// and there are no more items to transfer</span></div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;    <span class="keywordflow">if</span>(ui32Control == 0)</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;    {</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;        <span class="keywordflow">return</span>(0);</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;    }</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;    <span class="comment">// Otherwise, if either the size field or more field is non-zero, then</span></div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;    <span class="comment">// not all the items have been transferred.</span></div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;    {</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;        <span class="comment">// Shift the size field and add one, then return to user.</span></div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;        <span class="keywordflow">return</span>((ui32Control &gt;&gt; 4) + 1);</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;    }</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;}</div>
<div class="ttc" id="hw__types_8h_html_ac9660181819fceac0b5abcd67d76ca6e"><div class="ttname"><a href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a></div><div class="ttdeci">#define HWREG(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00048">hw_types.h:48</a></div></div>
<div class="ttc" id="hw__udma_8h_html_ab20c09d0d72e80b1556c0215454ea1d8"><div class="ttname"><a href="hw__udma_8h.html#ab20c09d0d72e80b1556c0215454ea1d8">UDMA_CHCTL_XFERSIZE_M</a></div><div class="ttdeci">#define UDMA_CHCTL_XFERSIZE_M</div><div class="ttdef"><b>Definition:</b> <a href="hw__udma_8h_source.html#l00392">hw_udma.h:392</a></div></div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="structt_d_m_a_control_table_html_a408694668c5a110a70841dcdf90bed3b"><div class="ttname"><a href="structt_d_m_a_control_table.html#a408694668c5a110a70841dcdf90bed3b">tDMAControlTable::ui32Control</a></div><div class="ttdeci">volatile uint32_t ui32Control</div><div class="ttdef"><b>Definition:</b> <a href="udma_8h_source.html#l00083">udma.h:83</a></div></div>
<div class="ttc" id="hw__udma_8h_html_adaa31653cc45c57d88b97a67c25ca7ab"><div class="ttname"><a href="hw__udma_8h.html#adaa31653cc45c57d88b97a67c25ca7ab">UDMA_CTLBASE</a></div><div class="ttdeci">#define UDMA_CTLBASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__udma_8h_source.html#l00051">hw_udma.h:51</a></div></div>
<div class="ttc" id="structt_d_m_a_control_table_html"><div class="ttname"><a href="structt_d_m_a_control_table.html">tDMAControlTable</a></div><div class="ttdef"><b>Definition:</b> <a href="udma_8h_source.html#l00068">udma.h:68</a></div></div>
<div class="ttc" id="hw__udma_8h_html_ae3ea72dfa406ca2a250dd62d271d3566"><div class="ttname"><a href="hw__udma_8h.html#ae3ea72dfa406ca2a250dd62d271d3566">UDMA_CHCTL_XFERMODE_M</a></div><div class="ttdeci">#define UDMA_CHCTL_XFERMODE_M</div><div class="ttdef"><b>Definition:</b> <a href="hw__udma_8h_source.html#l00394">hw_udma.h:394</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga938c21dc70cb6e11e6eb826de0fa21c3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void uDMAChannelTransferSet </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32ChannelStructIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pvSrcAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>pvDstAddr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32TransferSize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the transfer parameters for a uDMA channel control structure.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32ChannelStructIndex</td><td>is the logical OR of the uDMA channel number with either <b>UDMA_PRI_SELECT</b> or <b>UDMA_ALT_SELECT</b>. </td></tr>
    <tr><td class="paramname">ui32Mode</td><td>is the type of uDMA transfer. </td></tr>
    <tr><td class="paramname">pvSrcAddr</td><td>is the source address for the transfer. </td></tr>
    <tr><td class="paramname">pvDstAddr</td><td>is the destination address for the transfer. </td></tr>
    <tr><td class="paramname">ui32TransferSize</td><td>is the number of data items to transfer.</td></tr>
  </table>
  </dd>
</dl>
<p>This function is used to configure the parameters for a uDMA transfer. These parameters are not typically changed often. The function <a class="el" href="group__udma__api.html#ga6f73ab006ff6a593eeeb947130bbdf6f">uDMAChannelControlSet()</a> MUST be called at least once for this channel prior to calling this function.</p>
<p>The <em>ui32ChannelStructIndex</em> parameter should be the logical OR of the channel number with one of <b>UDMA_PRI_SELECT</b> or <b>UDMA_ALT_SELECT</b> to choose whether the primary or alternate data structure is used.</p>
<p>The <em>ui32Mode</em> parameter should be one of the following values:</p>
<ul>
<li><b>UDMA_MODE_STOP</b> stops the uDMA transfer. The controller sets the mode to this value at the end of a transfer.</li>
<li><b>UDMA_MODE_BASIC</b> to perform a basic transfer based on request.</li>
<li><b>UDMA_MODE_AUTO</b> to perform a transfer that always completes once started even if the request is removed.</li>
<li><b>UDMA_MODE_PINGPONG</b> to set up a transfer that switches between the primary and alternate control structures for the channel. This mode allows use of ping-pong buffering for uDMA transfers.</li>
<li><b>UDMA_MODE_MEM_SCATTER_GATHER</b> to set up a memory scatter-gather transfer.</li>
<li><b>UDMA_MODE_PER_SCATTER_GATHER</b> to set up a peripheral scatter-gather transfer.</li>
</ul>
<p>The <em>pvSrcAddr</em> and <em>pvDstAddr</em> parameters are pointers to the first location of the data to be transferred. These addresses should be aligned according to the item size. The compiler takes care of this alignment if the pointers are pointing to storage of the appropriate data type.</p>
<p>The <em>ui32TransferSize</em> parameter is the number of data items, not the number of bytes.</p>
<p>The two scatter-gather modes, memory and peripheral, are actually different depending on whether the primary or alternate control structure is selected. This function looks for the <b>UDMA_PRI_SELECT</b> and <b>UDMA_ALT_SELECT</b> flag along with the channel number and sets the scatter-gather mode as appropriate for the primary or alternate control structure.</p>
<p>The channel must also be enabled using <a class="el" href="group__udma__api.html#ga41e21189773539bbc5f302863cd5bf06">uDMAChannelEnable()</a> after calling this function. The transfer does not begin until the channel has been configured and enabled. Note that the channel is automatically disabled after the transfer is completed, meaning that <a class="el" href="group__udma__api.html#ga41e21189773539bbc5f302863cd5bf06">uDMAChannelEnable()</a> must be called again after setting up the next transfer.</p>
<dl class="section note"><dt>Note</dt><dd>Great care must be taken to not modify a channel control structure that is in use or else the results are unpredictable, including the possibility of undesired data transfers to or from memory or peripherals. For BASIC and AUTO modes, it is safe to make changes when the channel is disabled, or the <a class="el" href="group__udma__api.html#ga84a74cc2b06a6a59506dcdfabd0c7972">uDMAChannelModeGet()</a> returns <b>UDMA_MODE_STOP</b>. For PINGPONG or one of the SCATTER_GATHER modes, it is safe to modify the primary or alternate control structure only when the other is being used. The <a class="el" href="group__udma__api.html#ga84a74cc2b06a6a59506dcdfabd0c7972">uDMAChannelModeGet()</a> function returns <b>UDMA_MODE_STOP</b> when a channel control structure is inactive and safe to modify.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="udma_8c_source.html#l00710">710</a> of file <a class="el" href="udma_8c_source.html">udma.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="hw__types_8h_source.html#l00048">HWREG</a>, <a class="el" href="udma_8h_source.html#l00078">tDMAControlTable::pvDstEndAddr</a>, <a class="el" href="udma_8h_source.html#l00073">tDMAControlTable::pvSrcEndAddr</a>, <a class="el" href="udma_8h_source.html#l00291">UDMA_ALT_SELECT</a>, <a class="el" href="hw__udma_8h_source.html#l00360">UDMA_CHCTL_DSTINC_M</a>, <a class="el" href="hw__udma_8h_source.html#l00369">UDMA_CHCTL_SRCINC_M</a>, <a class="el" href="hw__udma_8h_source.html#l00394">UDMA_CHCTL_XFERMODE_M</a>, <a class="el" href="hw__udma_8h_source.html#l00392">UDMA_CHCTL_XFERSIZE_M</a>, <a class="el" href="hw__udma_8h_source.html#l00051">UDMA_CTLBASE</a>, <a class="el" href="udma_8h_source.html#l00227">UDMA_DST_INC_NONE</a>, <a class="el" href="udma_8h_source.html#l00217">UDMA_MODE_ALT_SELECT</a>, <a class="el" href="udma_8h_source.html#l00213">UDMA_MODE_MEM_SCATTER_GATHER</a>, <a class="el" href="udma_8h_source.html#l00215">UDMA_MODE_PER_SCATTER_GATHER</a>, <a class="el" href="udma_8h_source.html#l00231">UDMA_SRC_INC_NONE</a>, and <a class="el" href="udma_8h_source.html#l00083">tDMAControlTable::ui32Control</a>.</p>

<p>Referenced by <a class="el" href="spi__flash_8c_source.html#l00103">SPIFlashIntHandler()</a>.</p>
<div class="fragment"><div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;{</div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;    <a class="code" href="structt_d_m_a_control_table.html">tDMAControlTable</a> *psControlTable;</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    uint32_t ui32Control;</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;    uint32_t ui32Inc;</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;    uint32_t ui32BufferBytes;</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32ChannelStructIndex &amp; 0xffff) &lt; 64);</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(<a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__udma_8h.html#adaa31653cc45c57d88b97a67c25ca7ab">UDMA_CTLBASE</a>) != 0);</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Mode &lt;= <a class="code" href="udma_8h.html#a45c6f39ddeb623a7d1df04d3e0b15998">UDMA_MODE_PER_SCATTER_GATHER</a>);</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((uint32_t)pvSrcAddr &gt;= 0x20000000);</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((uint32_t)pvDstAddr &gt;= 0x20000000);</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32TransferSize != 0) &amp;&amp; (ui32TransferSize &lt;= 1024));</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    <span class="comment">// In case a channel selector macro (like UDMA_CH0_USB0EP1RX) was</span></div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;    <span class="comment">// passed as the ui32ChannelStructIndex parameter, extract just the channel</span></div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;    <span class="comment">// index from this parameter.</span></div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;    ui32ChannelStructIndex &amp;= 0x3f;</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;    <span class="comment">// Get the base address of the control table.</span></div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;    psControlTable = (<a class="code" href="structt_d_m_a_control_table.html">tDMAControlTable</a> *)<a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__udma_8h.html#adaa31653cc45c57d88b97a67c25ca7ab">UDMA_CTLBASE</a>);</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;    <span class="comment">// Get the current control word value and mask off the mode and size</span></div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    <span class="comment">// fields.</span></div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;    ui32Control = (psControlTable[ui32ChannelStructIndex].<a class="code" href="structt_d_m_a_control_table.html#a408694668c5a110a70841dcdf90bed3b">ui32Control</a> &amp;</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;                   ~(<a class="code" href="hw__udma_8h.html#ab20c09d0d72e80b1556c0215454ea1d8">UDMA_CHCTL_XFERSIZE_M</a> | <a class="code" href="hw__udma_8h.html#ae3ea72dfa406ca2a250dd62d271d3566">UDMA_CHCTL_XFERMODE_M</a>));</div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    <span class="comment">// Adjust the mode if the alt control structure is selected.</span></div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    <span class="keywordflow">if</span>(ui32ChannelStructIndex &amp; <a class="code" href="udma_8h.html#a771b6d461c641f0902ce146fe41a3321">UDMA_ALT_SELECT</a>)</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;    {</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;        <span class="keywordflow">if</span>((ui32Mode == <a class="code" href="udma_8h.html#ab99c1f842fc5873d9639dd5c81f52e96">UDMA_MODE_MEM_SCATTER_GATHER</a>) ||</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;           (ui32Mode == <a class="code" href="udma_8h.html#a45c6f39ddeb623a7d1df04d3e0b15998">UDMA_MODE_PER_SCATTER_GATHER</a>))</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;        {</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;            ui32Mode |= <a class="code" href="udma_8h.html#ade8eb75e2d128f81131a52832c9046d7">UDMA_MODE_ALT_SELECT</a>;</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;        }</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    }</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    <span class="comment">// Set the transfer size and mode in the control word (but don&#39;t write the</span></div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    <span class="comment">// control word yet as it could kick off a transfer).</span></div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    ui32Control |= ui32Mode | ((ui32TransferSize - 1) &lt;&lt; 4);</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;    <span class="comment">// Get the address increment value for the source, from the control word.</span></div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;    ui32Inc = (ui32Control &amp; <a class="code" href="hw__udma_8h.html#acd028d22f870c5e7f7c93759c97d4f93">UDMA_CHCTL_SRCINC_M</a>);</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;    <span class="comment">// Compute the ending source address of the transfer.  If the source</span></div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;    <span class="comment">// increment is set to none, then the ending address is the same as the</span></div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    <span class="comment">// beginning.</span></div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    <span class="keywordflow">if</span>(ui32Inc != <a class="code" href="udma_8h.html#ace9a62c226f2e73cc1a7c56d80efa361">UDMA_SRC_INC_NONE</a>)</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    {</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;        ui32Inc = ui32Inc &gt;&gt; 26;</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;        ui32BufferBytes = ui32TransferSize &lt;&lt; ui32Inc;</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;        pvSrcAddr = (<span class="keywordtype">void</span> *)((uint32_t)pvSrcAddr + ui32BufferBytes - 1);</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;    }</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;    <span class="comment">// Load the source ending address into the control block.</span></div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;    psControlTable[ui32ChannelStructIndex].<a class="code" href="structt_d_m_a_control_table.html#a211c562f9f14e09e84cd8c215e69c7a5">pvSrcEndAddr</a> = pvSrcAddr;</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    <span class="comment">// Get the address increment value for the destination, from the control</span></div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;    <span class="comment">// word.</span></div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    ui32Inc = ui32Control &amp; <a class="code" href="hw__udma_8h.html#ac1264e9f4d0785fe752f86ea39242574">UDMA_CHCTL_DSTINC_M</a>;</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    <span class="comment">// Compute the ending destination address of the transfer.  If the</span></div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    <span class="comment">// destination increment is set to none, then the ending address is the</span></div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;    <span class="comment">// same as the beginning.</span></div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;    <span class="keywordflow">if</span>(ui32Inc != <a class="code" href="udma_8h.html#aff850520540f2dd5ef6c016ac9bc85f8">UDMA_DST_INC_NONE</a>)</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    {</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;        <span class="comment">// There is a special case if this is setting up a scatter-gather</span></div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;        <span class="comment">// transfer.  The destination pointer must point to the end of</span></div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;        <span class="comment">// the alternate structure for this channel instead of calculating</span></div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;        <span class="comment">// the end of the buffer in the normal way.</span></div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;        <span class="keywordflow">if</span>((ui32Mode == <a class="code" href="udma_8h.html#ab99c1f842fc5873d9639dd5c81f52e96">UDMA_MODE_MEM_SCATTER_GATHER</a>) ||</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;           (ui32Mode == <a class="code" href="udma_8h.html#a45c6f39ddeb623a7d1df04d3e0b15998">UDMA_MODE_PER_SCATTER_GATHER</a>))</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;        {</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;            pvDstAddr =</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;                (<span class="keywordtype">void</span> *)&amp;psControlTable[ui32ChannelStructIndex |</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;                                        UDMA_ALT_SELECT].ui32Spare;</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;        }</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;        <span class="comment">// Not a scatter-gather transfer, calculate end pointer normally.</span></div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;        {</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;            ui32Inc = ui32Inc &gt;&gt; 30;</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;            ui32BufferBytes = ui32TransferSize &lt;&lt; ui32Inc;</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;            pvDstAddr = (<span class="keywordtype">void</span> *)((uint32_t)pvDstAddr + ui32BufferBytes - 1);</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;        }</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;    }</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;    <span class="comment">// Load the destination ending address into the control block.</span></div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;    psControlTable[ui32ChannelStructIndex].<a class="code" href="structt_d_m_a_control_table.html#a7346504231dcaa51e6da47bb82256c8f">pvDstEndAddr</a> = pvDstAddr;</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    <span class="comment">// Write the new control word value.</span></div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00833"></a><span class="lineno">  833</span>&#160;    psControlTable[ui32ChannelStructIndex].<a class="code" href="structt_d_m_a_control_table.html#a408694668c5a110a70841dcdf90bed3b">ui32Control</a> = ui32Control;</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;}</div>
<div class="ttc" id="structt_d_m_a_control_table_html_a211c562f9f14e09e84cd8c215e69c7a5"><div class="ttname"><a href="structt_d_m_a_control_table.html#a211c562f9f14e09e84cd8c215e69c7a5">tDMAControlTable::pvSrcEndAddr</a></div><div class="ttdeci">volatile void * pvSrcEndAddr</div><div class="ttdef"><b>Definition:</b> <a href="udma_8h_source.html#l00073">udma.h:73</a></div></div>
<div class="ttc" id="udma_8h_html_aff850520540f2dd5ef6c016ac9bc85f8"><div class="ttname"><a href="udma_8h.html#aff850520540f2dd5ef6c016ac9bc85f8">UDMA_DST_INC_NONE</a></div><div class="ttdeci">#define UDMA_DST_INC_NONE</div><div class="ttdef"><b>Definition:</b> <a href="udma_8h_source.html#l00227">udma.h:227</a></div></div>
<div class="ttc" id="udma_8h_html_a45c6f39ddeb623a7d1df04d3e0b15998"><div class="ttname"><a href="udma_8h.html#a45c6f39ddeb623a7d1df04d3e0b15998">UDMA_MODE_PER_SCATTER_GATHER</a></div><div class="ttdeci">#define UDMA_MODE_PER_SCATTER_GATHER</div><div class="ttdef"><b>Definition:</b> <a href="udma_8h_source.html#l00215">udma.h:215</a></div></div>
<div class="ttc" id="hw__types_8h_html_ac9660181819fceac0b5abcd67d76ca6e"><div class="ttname"><a href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a></div><div class="ttdeci">#define HWREG(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00048">hw_types.h:48</a></div></div>
<div class="ttc" id="hw__udma_8h_html_ab20c09d0d72e80b1556c0215454ea1d8"><div class="ttname"><a href="hw__udma_8h.html#ab20c09d0d72e80b1556c0215454ea1d8">UDMA_CHCTL_XFERSIZE_M</a></div><div class="ttdeci">#define UDMA_CHCTL_XFERSIZE_M</div><div class="ttdef"><b>Definition:</b> <a href="hw__udma_8h_source.html#l00392">hw_udma.h:392</a></div></div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="udma_8h_html_a771b6d461c641f0902ce146fe41a3321"><div class="ttname"><a href="udma_8h.html#a771b6d461c641f0902ce146fe41a3321">UDMA_ALT_SELECT</a></div><div class="ttdeci">#define UDMA_ALT_SELECT</div><div class="ttdef"><b>Definition:</b> <a href="udma_8h_source.html#l00291">udma.h:291</a></div></div>
<div class="ttc" id="udma_8h_html_ace9a62c226f2e73cc1a7c56d80efa361"><div class="ttname"><a href="udma_8h.html#ace9a62c226f2e73cc1a7c56d80efa361">UDMA_SRC_INC_NONE</a></div><div class="ttdeci">#define UDMA_SRC_INC_NONE</div><div class="ttdef"><b>Definition:</b> <a href="udma_8h_source.html#l00231">udma.h:231</a></div></div>
<div class="ttc" id="structt_d_m_a_control_table_html_a408694668c5a110a70841dcdf90bed3b"><div class="ttname"><a href="structt_d_m_a_control_table.html#a408694668c5a110a70841dcdf90bed3b">tDMAControlTable::ui32Control</a></div><div class="ttdeci">volatile uint32_t ui32Control</div><div class="ttdef"><b>Definition:</b> <a href="udma_8h_source.html#l00083">udma.h:83</a></div></div>
<div class="ttc" id="structt_d_m_a_control_table_html_a7346504231dcaa51e6da47bb82256c8f"><div class="ttname"><a href="structt_d_m_a_control_table.html#a7346504231dcaa51e6da47bb82256c8f">tDMAControlTable::pvDstEndAddr</a></div><div class="ttdeci">volatile void * pvDstEndAddr</div><div class="ttdef"><b>Definition:</b> <a href="udma_8h_source.html#l00078">udma.h:78</a></div></div>
<div class="ttc" id="hw__udma_8h_html_adaa31653cc45c57d88b97a67c25ca7ab"><div class="ttname"><a href="hw__udma_8h.html#adaa31653cc45c57d88b97a67c25ca7ab">UDMA_CTLBASE</a></div><div class="ttdeci">#define UDMA_CTLBASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__udma_8h_source.html#l00051">hw_udma.h:51</a></div></div>
<div class="ttc" id="hw__udma_8h_html_ac1264e9f4d0785fe752f86ea39242574"><div class="ttname"><a href="hw__udma_8h.html#ac1264e9f4d0785fe752f86ea39242574">UDMA_CHCTL_DSTINC_M</a></div><div class="ttdeci">#define UDMA_CHCTL_DSTINC_M</div><div class="ttdef"><b>Definition:</b> <a href="hw__udma_8h_source.html#l00360">hw_udma.h:360</a></div></div>
<div class="ttc" id="hw__udma_8h_html_acd028d22f870c5e7f7c93759c97d4f93"><div class="ttname"><a href="hw__udma_8h.html#acd028d22f870c5e7f7c93759c97d4f93">UDMA_CHCTL_SRCINC_M</a></div><div class="ttdeci">#define UDMA_CHCTL_SRCINC_M</div><div class="ttdef"><b>Definition:</b> <a href="hw__udma_8h_source.html#l00369">hw_udma.h:369</a></div></div>
<div class="ttc" id="structt_d_m_a_control_table_html"><div class="ttname"><a href="structt_d_m_a_control_table.html">tDMAControlTable</a></div><div class="ttdef"><b>Definition:</b> <a href="udma_8h_source.html#l00068">udma.h:68</a></div></div>
<div class="ttc" id="hw__udma_8h_html_ae3ea72dfa406ca2a250dd62d271d3566"><div class="ttname"><a href="hw__udma_8h.html#ae3ea72dfa406ca2a250dd62d271d3566">UDMA_CHCTL_XFERMODE_M</a></div><div class="ttdeci">#define UDMA_CHCTL_XFERMODE_M</div><div class="ttdef"><b>Definition:</b> <a href="hw__udma_8h_source.html#l00394">hw_udma.h:394</a></div></div>
<div class="ttc" id="udma_8h_html_ab99c1f842fc5873d9639dd5c81f52e96"><div class="ttname"><a href="udma_8h.html#ab99c1f842fc5873d9639dd5c81f52e96">UDMA_MODE_MEM_SCATTER_GATHER</a></div><div class="ttdeci">#define UDMA_MODE_MEM_SCATTER_GATHER</div><div class="ttdef"><b>Definition:</b> <a href="udma_8h_source.html#l00213">udma.h:213</a></div></div>
<div class="ttc" id="udma_8h_html_ade8eb75e2d128f81131a52832c9046d7"><div class="ttname"><a href="udma_8h.html#ade8eb75e2d128f81131a52832c9046d7">UDMA_MODE_ALT_SELECT</a></div><div class="ttdeci">#define UDMA_MODE_ALT_SELECT</div><div class="ttdef"><b>Definition:</b> <a href="udma_8h_source.html#l00217">udma.h:217</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__udma__api_ga938c21dc70cb6e11e6eb826de0fa21c3_icgraph.png" border="0" usemap="#group__udma__api_ga938c21dc70cb6e11e6eb826de0fa21c3_icgraph" alt=""/></div>
<map name="group__udma__api_ga938c21dc70cb6e11e6eb826de0fa21c3_icgraph" id="group__udma__api_ga938c21dc70cb6e11e6eb826de0fa21c3_icgraph">
<area shape="rect" id="node2" href="group__spi__flash__api.html#ga0d56c3c7817caa138af5f48be143f0f5" title="SPIFlashIntHandler" alt="" coords="237,5,379,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga3d755ac6e59821949a57d1ceca7082ae"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* uDMAControlAlternateBaseGet </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets the base address for the channel control table alternate structures.</p>
<p>This function gets the base address of the second half of the channel control table that holds the alternate control structures for each channel.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns a pointer to the base address of the second half of the channel control table. </dd></dl>

<p>Definition at line <a class="el" href="udma_8c_source.html#l00290">290</a> of file <a class="el" href="udma_8c_source.html">udma.c</a>.</p>

<p>References <a class="el" href="hw__types_8h_source.html#l00048">HWREG</a>, and <a class="el" href="hw__udma_8h_source.html#l00052">UDMA_ALTBASE</a>.</p>
<div class="fragment"><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;{</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <span class="comment">// Read the current value of the control base register and return it to</span></div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;    <span class="comment">// the caller.</span></div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;    <span class="keywordflow">return</span>((<span class="keywordtype">void</span> *)<a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__udma_8h.html#af548a1ff8481f3f9c2ca6251f9f7ea1b">UDMA_ALTBASE</a>));</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;}</div>
<div class="ttc" id="hw__types_8h_html_ac9660181819fceac0b5abcd67d76ca6e"><div class="ttname"><a href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a></div><div class="ttdeci">#define HWREG(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00048">hw_types.h:48</a></div></div>
<div class="ttc" id="hw__udma_8h_html_af548a1ff8481f3f9c2ca6251f9f7ea1b"><div class="ttname"><a href="hw__udma_8h.html#af548a1ff8481f3f9c2ca6251f9f7ea1b">UDMA_ALTBASE</a></div><div class="ttdeci">#define UDMA_ALTBASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__udma_8h_source.html#l00052">hw_udma.h:52</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga09c51018a10f41216497396e4ec5a6fd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* uDMAControlBaseGet </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets the base address for the channel control table.</p>
<p>This function gets the base address of the channel control table. This table resides in system memory and holds control information for each uDMA channel.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns a pointer to the base address of the channel control table. </dd></dl>

<p>Definition at line <a class="el" href="udma_8c_source.html#l00269">269</a> of file <a class="el" href="udma_8c_source.html">udma.c</a>.</p>

<p>References <a class="el" href="hw__types_8h_source.html#l00048">HWREG</a>, and <a class="el" href="hw__udma_8h_source.html#l00051">UDMA_CTLBASE</a>.</p>
<div class="fragment"><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;{</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;    <span class="comment">// Read the current value of the control base register and return it to</span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;    <span class="comment">// the caller.</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;    <span class="keywordflow">return</span>((<span class="keywordtype">void</span> *)<a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__udma_8h.html#adaa31653cc45c57d88b97a67c25ca7ab">UDMA_CTLBASE</a>));</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;}</div>
<div class="ttc" id="hw__types_8h_html_ac9660181819fceac0b5abcd67d76ca6e"><div class="ttname"><a href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a></div><div class="ttdeci">#define HWREG(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00048">hw_types.h:48</a></div></div>
<div class="ttc" id="hw__udma_8h_html_adaa31653cc45c57d88b97a67c25ca7ab"><div class="ttname"><a href="hw__udma_8h.html#adaa31653cc45c57d88b97a67c25ca7ab">UDMA_CTLBASE</a></div><div class="ttdeci">#define UDMA_CTLBASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__udma_8h_source.html#l00051">hw_udma.h:51</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga1bc352c5b9404649922a555873619498"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void uDMAControlBaseSet </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>psControlTable</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the base address for the channel control table.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">psControlTable</td><td>is a pointer to the 1024-byte-aligned base address of the uDMA channel control table.</td></tr>
  </table>
  </dd>
</dl>
<p>This function configures the base address of the channel control table. This table resides in system memory and holds control information for each uDMA channel. The table must be aligned on a 1024-byte boundary. The base address must be configured before any of the channel functions can be used.</p>
<p>The size of the channel control table depends on the number of uDMA channels and the transfer modes that are used. Refer to the introductory text and the microcontroller datasheet for more information about the channel control table.</p>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="udma_8c_source.html#l00242">242</a> of file <a class="el" href="udma_8c_source.html">udma.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="hw__types_8h_source.html#l00048">HWREG</a>, and <a class="el" href="hw__udma_8h_source.html#l00051">UDMA_CTLBASE</a>.</p>
<div class="fragment"><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;{</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(((uint32_t)psControlTable &amp; ~0x3FF) ==</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;           (uint32_t)psControlTable);</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((uint32_t)psControlTable &gt;= 0x20000000);</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;    <span class="comment">// Program the base address into the register.</span></div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;    <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__udma_8h.html#adaa31653cc45c57d88b97a67c25ca7ab">UDMA_CTLBASE</a>) = (uint32_t)psControlTable;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;}</div>
<div class="ttc" id="hw__types_8h_html_ac9660181819fceac0b5abcd67d76ca6e"><div class="ttname"><a href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a></div><div class="ttdeci">#define HWREG(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00048">hw_types.h:48</a></div></div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="hw__udma_8h_html_adaa31653cc45c57d88b97a67c25ca7ab"><div class="ttname"><a href="hw__udma_8h.html#adaa31653cc45c57d88b97a67c25ca7ab">UDMA_CTLBASE</a></div><div class="ttdeci">#define UDMA_CTLBASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__udma_8h_source.html#l00051">hw_udma.h:51</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga850808381da300573a6101e5a27f4675"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void uDMADisable </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Disables the uDMA controller for use.</p>
<p>This function disables the uDMA controller. Once disabled, the uDMA controller cannot operate until re-enabled with <a class="el" href="group__udma__api.html#ga9c2c43120f113a79cbabf894f5503f41">uDMAEnable()</a>.</p>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="udma_8c_source.html#l00086">86</a> of file <a class="el" href="udma_8c_source.html">udma.c</a>.</p>

<p>References <a class="el" href="hw__types_8h_source.html#l00048">HWREG</a>, and <a class="el" href="hw__udma_8h_source.html#l00050">UDMA_CFG</a>.</p>
<div class="fragment"><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;{</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="comment">// Clear the master enable bit in the config register.</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__udma_8h.html#a4319542243c34e0b6c8c428978eb43f9">UDMA_CFG</a>) = 0;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;}</div>
<div class="ttc" id="hw__types_8h_html_ac9660181819fceac0b5abcd67d76ca6e"><div class="ttname"><a href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a></div><div class="ttdeci">#define HWREG(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00048">hw_types.h:48</a></div></div>
<div class="ttc" id="hw__udma_8h_html_a4319542243c34e0b6c8c428978eb43f9"><div class="ttname"><a href="hw__udma_8h.html#a4319542243c34e0b6c8c428978eb43f9">UDMA_CFG</a></div><div class="ttdeci">#define UDMA_CFG</div><div class="ttdef"><b>Definition:</b> <a href="hw__udma_8h_source.html#l00050">hw_udma.h:50</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga9c2c43120f113a79cbabf894f5503f41"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void uDMAEnable </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enables the uDMA controller for use.</p>
<p>This function enables the uDMA controller. The uDMA controller must be enabled before it can be configured and used.</p>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="udma_8c_source.html#l00067">67</a> of file <a class="el" href="udma_8c_source.html">udma.c</a>.</p>

<p>References <a class="el" href="hw__types_8h_source.html#l00048">HWREG</a>, <a class="el" href="hw__udma_8h_source.html#l00050">UDMA_CFG</a>, and <a class="el" href="hw__udma_8h_source.html#l00108">UDMA_CFG_MASTEN</a>.</p>
<div class="fragment"><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;{</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    <span class="comment">// Set the master enable bit in the config register.</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__udma_8h.html#a4319542243c34e0b6c8c428978eb43f9">UDMA_CFG</a>) = <a class="code" href="hw__udma_8h.html#afd62e359f3db2c3d56285d06390f77d7">UDMA_CFG_MASTEN</a>;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;}</div>
<div class="ttc" id="hw__udma_8h_html_afd62e359f3db2c3d56285d06390f77d7"><div class="ttname"><a href="hw__udma_8h.html#afd62e359f3db2c3d56285d06390f77d7">UDMA_CFG_MASTEN</a></div><div class="ttdeci">#define UDMA_CFG_MASTEN</div><div class="ttdef"><b>Definition:</b> <a href="hw__udma_8h_source.html#l00108">hw_udma.h:108</a></div></div>
<div class="ttc" id="hw__types_8h_html_ac9660181819fceac0b5abcd67d76ca6e"><div class="ttname"><a href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a></div><div class="ttdeci">#define HWREG(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00048">hw_types.h:48</a></div></div>
<div class="ttc" id="hw__udma_8h_html_a4319542243c34e0b6c8c428978eb43f9"><div class="ttname"><a href="hw__udma_8h.html#a4319542243c34e0b6c8c428978eb43f9">UDMA_CFG</a></div><div class="ttdeci">#define UDMA_CFG</div><div class="ttdef"><b>Definition:</b> <a href="hw__udma_8h_source.html#l00050">hw_udma.h:50</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga875220775201c33cd3c97ebcbca83ac2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void uDMAErrorStatusClear </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Clears the uDMA error interrupt.</p>
<p>This function clears a pending uDMA error interrupt. This function should be called from within the uDMA error interrupt handler to clear the interrupt.</p>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="udma_8c_source.html#l00126">126</a> of file <a class="el" href="udma_8c_source.html">udma.c</a>.</p>

<p>References <a class="el" href="hw__types_8h_source.html#l00048">HWREG</a>, and <a class="el" href="hw__udma_8h_source.html#l00069">UDMA_ERRCLR</a>.</p>
<div class="fragment"><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;{</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="comment">// Clear the uDMA error interrupt.</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__udma_8h.html#a1faac050767fa7399b52d21ecbeace7b">UDMA_ERRCLR</a>) = 1;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;}</div>
<div class="ttc" id="hw__types_8h_html_ac9660181819fceac0b5abcd67d76ca6e"><div class="ttname"><a href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a></div><div class="ttdeci">#define HWREG(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00048">hw_types.h:48</a></div></div>
<div class="ttc" id="hw__udma_8h_html_a1faac050767fa7399b52d21ecbeace7b"><div class="ttname"><a href="hw__udma_8h.html#a1faac050767fa7399b52d21ecbeace7b">UDMA_ERRCLR</a></div><div class="ttdeci">#define UDMA_ERRCLR</div><div class="ttdef"><b>Definition:</b> <a href="hw__udma_8h_source.html#l00069">hw_udma.h:69</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gad01185c0d570c65da3642e6c60ea4973"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t uDMAErrorStatusGet </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets the uDMA error status.</p>
<p>This function returns the uDMA error status. It should be called from within the uDMA error interrupt handler to determine if a uDMA error occurred.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns non-zero if a uDMA error is pending. </dd></dl>

<p>Definition at line <a class="el" href="udma_8c_source.html#l00106">106</a> of file <a class="el" href="udma_8c_source.html">udma.c</a>.</p>

<p>References <a class="el" href="hw__types_8h_source.html#l00048">HWREG</a>, and <a class="el" href="hw__udma_8h_source.html#l00069">UDMA_ERRCLR</a>.</p>
<div class="fragment"><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;{</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <span class="comment">// Return the uDMA error status.</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <span class="keywordflow">return</span>(<a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__udma_8h.html#a1faac050767fa7399b52d21ecbeace7b">UDMA_ERRCLR</a>));</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;}</div>
<div class="ttc" id="hw__types_8h_html_ac9660181819fceac0b5abcd67d76ca6e"><div class="ttname"><a href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a></div><div class="ttdeci">#define HWREG(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00048">hw_types.h:48</a></div></div>
<div class="ttc" id="hw__udma_8h_html_a1faac050767fa7399b52d21ecbeace7b"><div class="ttname"><a href="hw__udma_8h.html#a1faac050767fa7399b52d21ecbeace7b">UDMA_ERRCLR</a></div><div class="ttdeci">#define UDMA_ERRCLR</div><div class="ttdef"><b>Definition:</b> <a href="hw__udma_8h_source.html#l00069">hw_udma.h:69</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gaf06b67b4b30df8188540cd06634c9bb9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void uDMAIntClear </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32ChanMask</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Clears uDMA interrupt status.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32ChanMask</td><td>is a 32-bit mask with one bit for each uDMA channel.</td></tr>
  </table>
  </dd>
</dl>
<p>This function clears bits in the uDMA interrupt status register according to which bits are set in <em>ui32ChanMask</em>. There is one bit for each channel. If a a bit is set in <em>ui32ChanMask</em>, then that corresponding channel's interrupt status is cleared (if it was set).</p>
<dl class="section note"><dt>Note</dt><dd>This function is only available on devices that have the DMA Channel Interrupt Status Register (DMACHIS). Please consult the data sheet for your part. Devices without the DMACHIS register have uDMA done status in the interrupt registers in the peripheral memory maps.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="udma_8c_source.html#l01191">1191</a> of file <a class="el" href="udma_8c_source.html">udma.c</a>.</p>

<p>References <a class="el" href="hw__types_8h_source.html#l00048">HWREG</a>, and <a class="el" href="hw__udma_8h_source.html#l00071">UDMA_CHIS</a>.</p>
<div class="fragment"><div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;{</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;    <span class="comment">// Clear the requested bits in the uDMA interrupt status register</span></div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;    <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__udma_8h.html#aa31e0f4a3bf036bb6350e642dc10e7bb">UDMA_CHIS</a>) = ui32ChanMask;</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;}</div>
<div class="ttc" id="hw__types_8h_html_ac9660181819fceac0b5abcd67d76ca6e"><div class="ttname"><a href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a></div><div class="ttdeci">#define HWREG(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00048">hw_types.h:48</a></div></div>
<div class="ttc" id="hw__udma_8h_html_aa31e0f4a3bf036bb6350e642dc10e7bb"><div class="ttname"><a href="hw__udma_8h.html#aa31e0f4a3bf036bb6350e642dc10e7bb">UDMA_CHIS</a></div><div class="ttdeci">#define UDMA_CHIS</div><div class="ttdef"><b>Definition:</b> <a href="hw__udma_8h_source.html#l00071">hw_udma.h:71</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga38e714509554e38d29563bf7832f7098"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void uDMAIntRegister </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32IntChannel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(void)&#160;</td>
          <td class="paramname"><em>pfnHandler</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Registers an interrupt handler for the uDMA controller.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32IntChannel</td><td>identifies which uDMA interrupt is to be registered. </td></tr>
    <tr><td class="paramname">pfnHandler</td><td>is a pointer to the function to be called when the interrupt is activated.</td></tr>
  </table>
  </dd>
</dl>
<p>This function registers and enables the handler to be called when the uDMA controller generates an interrupt. The <em>ui32IntChannel</em> parameter should be one of the following:</p>
<ul>
<li><b>UDMA_INT_SW</b> to register an interrupt handler to process interrupts from the uDMA software channel (UDMA_CHANNEL_SW)</li>
<li><b>UDMA_INT_ERR</b> to register an interrupt handler to process uDMA error interrupts</li>
</ul>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__interrupt__api.html#ga0a32aafea7f4904d2a64ee18b45f96c9">IntRegister()</a> for important information about registering interrupt handlers.</dd></dl>
<dl class="section note"><dt>Note</dt><dd>The interrupt handler for the uDMA is for transfer completion when the channel UDMA_CHANNEL_SW is used and for error interrupts. The interrupts for each peripheral channel are handled through the individual peripheral interrupt handlers.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="udma_8c_source.html#l01092">1092</a> of file <a class="el" href="udma_8c_source.html">udma.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="interrupt_8c_source.html#l00610">IntEnable()</a>, <a class="el" href="interrupt_8c_source.html#l00309">IntRegister()</a>, <a class="el" href="udma_8h_source.html#l00300">UDMA_INT_ERR</a>, and <a class="el" href="udma_8h_source.html#l00299">UDMA_INT_SW</a>.</p>
<div class="fragment"><div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;{</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(pfnHandler);</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32IntChannel == <a class="code" href="udma_8h.html#a1ed46ea0214af919de4ac8071d74a47d">UDMA_INT_SW</a>) ||</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;           (ui32IntChannel == <a class="code" href="udma_8h.html#a96c6b1fbbddcae0d5215adacd3a693f6">UDMA_INT_ERR</a>));</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    <span class="comment">// Register the interrupt handler.</span></div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;    <a class="code" href="group__interrupt__api.html#ga0a32aafea7f4904d2a64ee18b45f96c9">IntRegister</a>(ui32IntChannel, pfnHandler);</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;    <span class="comment">// Enable the memory management fault.</span></div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;    <a class="code" href="group__interrupt__api.html#ga49fc9c3d1a0f8c42a20249f8c5d360ce">IntEnable</a>(ui32IntChannel);</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;}</div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="udma_8h_html_a1ed46ea0214af919de4ac8071d74a47d"><div class="ttname"><a href="udma_8h.html#a1ed46ea0214af919de4ac8071d74a47d">UDMA_INT_SW</a></div><div class="ttdeci">#define UDMA_INT_SW</div><div class="ttdef"><b>Definition:</b> <a href="udma_8h_source.html#l00299">udma.h:299</a></div></div>
<div class="ttc" id="udma_8h_html_a96c6b1fbbddcae0d5215adacd3a693f6"><div class="ttname"><a href="udma_8h.html#a96c6b1fbbddcae0d5215adacd3a693f6">UDMA_INT_ERR</a></div><div class="ttdeci">#define UDMA_INT_ERR</div><div class="ttdef"><b>Definition:</b> <a href="udma_8h_source.html#l00300">udma.h:300</a></div></div>
<div class="ttc" id="group__interrupt__api_html_ga0a32aafea7f4904d2a64ee18b45f96c9"><div class="ttname"><a href="group__interrupt__api.html#ga0a32aafea7f4904d2a64ee18b45f96c9">IntRegister</a></div><div class="ttdeci">void IntRegister(uint32_t ui32Interrupt, void(*pfnHandler)(void))</div><div class="ttdef"><b>Definition:</b> <a href="interrupt_8c_source.html#l00309">interrupt.c:309</a></div></div>
<div class="ttc" id="group__interrupt__api_html_ga49fc9c3d1a0f8c42a20249f8c5d360ce"><div class="ttname"><a href="group__interrupt__api.html#ga49fc9c3d1a0f8c42a20249f8c5d360ce">IntEnable</a></div><div class="ttdeci">void IntEnable(uint32_t ui32Interrupt)</div><div class="ttdef"><b>Definition:</b> <a href="interrupt_8c_source.html#l00610">interrupt.c:610</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__udma__api_ga38e714509554e38d29563bf7832f7098_cgraph.png" border="0" usemap="#group__udma__api_ga38e714509554e38d29563bf7832f7098_cgraph" alt=""/></div>
<map name="group__udma__api_ga38e714509554e38d29563bf7832f7098_cgraph" id="group__udma__api_ga38e714509554e38d29563bf7832f7098_cgraph">
<area shape="rect" id="node2" href="group__interrupt__api.html#ga49fc9c3d1a0f8c42a20249f8c5d360ce" title="IntEnable" alt="" coords="184,5,265,32"/><area shape="rect" id="node3" href="group__interrupt__api.html#ga0a32aafea7f4904d2a64ee18b45f96c9" title="IntRegister" alt="" coords="180,56,269,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaf3ef981569462dff3ebcf00f327be60b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t uDMAIntStatus </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets the uDMA controller channel interrupt status.</p>
<p>This function is used to get the interrupt status of the uDMA controller. The returned value is a 32-bit bit mask that indicates which channels are requesting an interrupt. This function can be used from within an interrupt handler to determine or confirm which uDMA channel has requested an interrupt.</p>
<dl class="section note"><dt>Note</dt><dd>This function is only available on devices that have the DMA Channel Interrupt Status Register (DMACHIS). Please consult the data sheet for your part.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>Returns a 32-bit mask which indicates requesting uDMA channels. There is a bit for each channel and a 1 indicates that the channel is requesting an interrupt. Multiple bits can be set. </dd></dl>

<p>Definition at line <a class="el" href="udma_8c_source.html#l01163">1163</a> of file <a class="el" href="udma_8c_source.html">udma.c</a>.</p>

<p>References <a class="el" href="hw__types_8h_source.html#l00048">HWREG</a>, and <a class="el" href="hw__udma_8h_source.html#l00071">UDMA_CHIS</a>.</p>
<div class="fragment"><div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;{</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;    <span class="comment">// Return the value of the uDMA interrupt status register</span></div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;    <span class="keywordflow">return</span>(<a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__udma_8h.html#aa31e0f4a3bf036bb6350e642dc10e7bb">UDMA_CHIS</a>));</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;}</div>
<div class="ttc" id="hw__types_8h_html_ac9660181819fceac0b5abcd67d76ca6e"><div class="ttname"><a href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a></div><div class="ttdeci">#define HWREG(x)</div><div class="ttdef"><b>Definition:</b> <a href="hw__types_8h_source.html#l00048">hw_types.h:48</a></div></div>
<div class="ttc" id="hw__udma_8h_html_aa31e0f4a3bf036bb6350e642dc10e7bb"><div class="ttname"><a href="hw__udma_8h.html#aa31e0f4a3bf036bb6350e642dc10e7bb">UDMA_CHIS</a></div><div class="ttdeci">#define UDMA_CHIS</div><div class="ttdef"><b>Definition:</b> <a href="hw__udma_8h_source.html#l00071">hw_udma.h:71</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga8728732286c8948fd715e58ca04dbd84"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void uDMAIntUnregister </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32IntChannel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Unregisters an interrupt handler for the uDMA controller.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32IntChannel</td><td>identifies which uDMA interrupt to unregister.</td></tr>
  </table>
  </dd>
</dl>
<p>This function disables and unregisters the handler to be called for the specified uDMA interrupt. The <em>ui32IntChannel</em> parameter should be one of <b>UDMA_INT_SW</b> or <b>UDMA_INT_ERR</b> as documented for the function <a class="el" href="group__udma__api.html#ga38e714509554e38d29563bf7832f7098">uDMAIntRegister()</a>.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__interrupt__api.html#ga0a32aafea7f4904d2a64ee18b45f96c9">IntRegister()</a> for important information about registering interrupt handlers.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="udma_8c_source.html#l01130">1130</a> of file <a class="el" href="udma_8c_source.html">udma.c</a>.</p>

<p>References <a class="el" href="interrupt_8c_source.html#l00684">IntDisable()</a>, and <a class="el" href="interrupt_8c_source.html#l00381">IntUnregister()</a>.</p>
<div class="fragment"><div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;{</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;    <span class="comment">// Disable the interrupt.</span></div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;    <a class="code" href="group__interrupt__api.html#ga9af6b00884dc44e92b3d05ff821b5334">IntDisable</a>(ui32IntChannel);</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;    <span class="comment">// Unregister the interrupt handler.</span></div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;    <a class="code" href="group__interrupt__api.html#ga5dffc81c27c005f83e9bfc30f775982a">IntUnregister</a>(ui32IntChannel);</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;}</div>
<div class="ttc" id="group__interrupt__api_html_ga5dffc81c27c005f83e9bfc30f775982a"><div class="ttname"><a href="group__interrupt__api.html#ga5dffc81c27c005f83e9bfc30f775982a">IntUnregister</a></div><div class="ttdeci">void IntUnregister(uint32_t ui32Interrupt)</div><div class="ttdef"><b>Definition:</b> <a href="interrupt_8c_source.html#l00381">interrupt.c:381</a></div></div>
<div class="ttc" id="group__interrupt__api_html_ga9af6b00884dc44e92b3d05ff821b5334"><div class="ttname"><a href="group__interrupt__api.html#ga9af6b00884dc44e92b3d05ff821b5334">IntDisable</a></div><div class="ttdeci">void IntDisable(uint32_t ui32Interrupt)</div><div class="ttdef"><b>Definition:</b> <a href="interrupt_8c_source.html#l00684">interrupt.c:684</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__udma__api_ga8728732286c8948fd715e58ca04dbd84_cgraph.png" border="0" usemap="#group__udma__api_ga8728732286c8948fd715e58ca04dbd84_cgraph" alt=""/></div>
<map name="group__udma__api_ga8728732286c8948fd715e58ca04dbd84_cgraph" id="group__udma__api_ga8728732286c8948fd715e58ca04dbd84_cgraph">
<area shape="rect" id="node2" href="group__interrupt__api.html#ga9af6b00884dc44e92b3d05ff821b5334" title="IntDisable" alt="" coords="206,5,291,32"/><area shape="rect" id="node3" href="group__interrupt__api.html#ga5dffc81c27c005f83e9bfc30f775982a" title="IntUnregister" alt="" coords="196,56,301,83"/><area shape="rect" id="node4" href="group__interrupt__api.html#gaef37c406caeeb884ba343265b953120d" title="_IntDefaultHandler" alt="" coords="349,56,491,83"/></map>
</div>
</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Mon Feb 16 2015 10:10:13 for EE445M RTOS by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.9.1 </li>
  </ul>
</div>
</body>
</html>
