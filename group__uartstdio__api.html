<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>EE445M RTOS: Uartstdio_api</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">EE445M RTOS
   </div>
   <div id="projectbrief">Taken at the University of Texas Spring 2015</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__uartstdio__api.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">Uartstdio_api</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaa413007c81e82b6d58bbbc9414660eae"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__uartstdio__api.html#gaa413007c81e82b6d58bbbc9414660eae">UARTStdioConfig</a> (uint32_t ui32PortNum, uint32_t ui32Baud, uint32_t ui32SrcClock)</td></tr>
<tr class="separator:gaa413007c81e82b6d58bbbc9414660eae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf9a30a1e04e8b5b7a9cfc07b56040d72"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__uartstdio__api.html#gaf9a30a1e04e8b5b7a9cfc07b56040d72">UARTwrite</a> (const char *pcBuf, uint32_t ui32Len)</td></tr>
<tr class="separator:gaf9a30a1e04e8b5b7a9cfc07b56040d72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3eb95fa6af501db544ac635fc6eab80b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__uartstdio__api.html#ga3eb95fa6af501db544ac635fc6eab80b">UARTgets</a> (char *pcBuf, uint32_t ui32Len)</td></tr>
<tr class="separator:ga3eb95fa6af501db544ac635fc6eab80b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga057774397b6eff0d0fd99f4d9790c9db"><td class="memItemLeft" align="right" valign="top">unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__uartstdio__api.html#ga057774397b6eff0d0fd99f4d9790c9db">UARTgetc</a> (void)</td></tr>
<tr class="separator:ga057774397b6eff0d0fd99f4d9790c9db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac24c8a911d71d799981ea44353f472de"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__uartstdio__api.html#gac24c8a911d71d799981ea44353f472de">UARTvprintf</a> (const char *pcString, va_list vaArgP)</td></tr>
<tr class="separator:gac24c8a911d71d799981ea44353f472de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9df4748a317174f7cf3c20ffc072abb0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__uartstdio__api.html#ga9df4748a317174f7cf3c20ffc072abb0">UARTprintf</a> (const char *pcString,...)</td></tr>
<tr class="separator:ga9df4748a317174f7cf3c20ffc072abb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:gadb8aca9d8f50bc3c8dda7f7060702336"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__uartstdio__api.html#gadb8aca9d8f50bc3c8dda7f7060702336">g_ui32Base</a> = 0</td></tr>
<tr class="separator:gadb8aca9d8f50bc3c8dda7f7060702336"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae2ac426587be82ba1a5b5eed7067fd0c"><td class="memItemLeft" align="right" valign="top">static const char *const&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__uartstdio__api.html#gae2ac426587be82ba1a5b5eed7067fd0c">g_pcHex</a> = &quot;0123456789abcdef&quot;</td></tr>
<tr class="separator:gae2ac426587be82ba1a5b5eed7067fd0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga16c40bb7b23b7e31df04c21496307c26"><td class="memItemLeft" align="right" valign="top">static const uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__uartstdio__api.html#ga16c40bb7b23b7e31df04c21496307c26">g_ui32UARTBase</a> [3]</td></tr>
<tr class="separator:ga16c40bb7b23b7e31df04c21496307c26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1e1f8817bef6e16ff7987620ea6c2650"><td class="memItemLeft" align="right" valign="top">static const uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__uartstdio__api.html#ga1e1f8817bef6e16ff7987620ea6c2650">g_ui32UARTPeriph</a> [3]</td></tr>
<tr class="separator:ga1e1f8817bef6e16ff7987620ea6c2650"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga057774397b6eff0d0fd99f4d9790c9db"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned char UARTgetc </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read a single character from the UART, blocking if necessary.</p>
<p>This function will receive a single character from the UART and store it at the supplied address.</p>
<p>In both buffered and unbuffered modes, this function will block until a character is received. If non-blocking operation is required in buffered mode, a call to UARTRxAvail() may be made to determine whether any characters are currently available for reading.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns the character read. </dd></dl>

<p>Definition at line <a class="el" href="uartstdio_8c_source.html#l00786">786</a> of file <a class="el" href="uartstdio_8c_source.html">uartstdio.c</a>.</p>

<p>References <a class="el" href="uartstdio_8c_source.html#l00126">g_ui32Base</a>, and <a class="el" href="rom__map_8h_source.html#l05177">MAP_UARTCharGet</a>.</p>
<div class="fragment"><div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;{</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;<span class="preprocessor">#ifdef UART_BUFFERED</span></div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> cChar;</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;    <span class="comment">// Wait for a character to be received.</span></div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    <span class="keywordflow">while</span>(RX_BUFFER_EMPTY)</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;    {</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;        <span class="comment">// Block waiting for a character to be received (if the buffer is</span></div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;        <span class="comment">// currently empty).</span></div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;    }</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;    <span class="comment">// Read a character from the buffer.</span></div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    cChar = g_pcUARTRxBuffer[g_ui32UARTRxReadIndex];</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    ADVANCE_RX_BUFFER_INDEX(g_ui32UARTRxReadIndex);</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;    <span class="comment">// Return the character to the caller.</span></div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    <span class="keywordflow">return</span>(cChar);</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    <span class="comment">// Block until a character is received by the UART then return it to</span></div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    <span class="comment">// the caller.</span></div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;    <span class="keywordflow">return</span>(<a class="code" href="rom__map_8h.html#ae32668e5fbd8089d8a70d375a0c66aac">MAP_UARTCharGet</a>(<a class="code" href="group__uartstdio__api.html#gadb8aca9d8f50bc3c8dda7f7060702336">g_ui32Base</a>));</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;}</div>
<div class="ttc" id="group__uartstdio__api_html_gadb8aca9d8f50bc3c8dda7f7060702336"><div class="ttname"><a href="group__uartstdio__api.html#gadb8aca9d8f50bc3c8dda7f7060702336">g_ui32Base</a></div><div class="ttdeci">static uint32_t g_ui32Base</div><div class="ttdef"><b>Definition:</b> <a href="uartstdio_8c_source.html#l00126">uartstdio.c:126</a></div></div>
<div class="ttc" id="rom__map_8h_html_ae32668e5fbd8089d8a70d375a0c66aac"><div class="ttname"><a href="rom__map_8h.html#ae32668e5fbd8089d8a70d375a0c66aac">MAP_UARTCharGet</a></div><div class="ttdeci">#define MAP_UARTCharGet</div><div class="ttdef"><b>Definition:</b> <a href="rom__map_8h_source.html#l05177">rom_map.h:5177</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ga3eb95fa6af501db544ac635fc6eab80b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int UARTgets </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>pcBuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A simple UART based get string function, with some line processing.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pcBuf</td><td>points to a buffer for the incoming string from the UART. </td></tr>
    <tr><td class="paramname">ui32Len</td><td>is the length of the buffer for storage of the string, including the trailing 0.</td></tr>
  </table>
  </dd>
</dl>
<p>This function will receive a string from the UART input and store the characters in the buffer pointed to by <em>pcBuf</em>. The characters will continue to be stored until a termination character is received. The termination characters are CR, LF, or ESC. A CRLF pair is treated as a single termination character. The termination characters are not stored in the string. The string will be terminated with a 0 and the function will return.</p>
<p>In both buffered and unbuffered modes, this function will block until a termination character is received. If non-blocking operation is required in buffered mode, a call to UARTPeek() may be made to determine whether a termination character already exists in the receive buffer prior to calling <a class="el" href="group__uartstdio__api.html#ga3eb95fa6af501db544ac635fc6eab80b">UARTgets()</a>.</p>
<p>Since the string will be null terminated, the user must ensure that the buffer is sized to allow for the additional null character.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns the count of characters that were stored, not including the trailing 0. </dd></dl>

<p>Definition at line <a class="el" href="uartstdio_8c_source.html#l00569">569</a> of file <a class="el" href="uartstdio_8c_source.html">uartstdio.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="uartstdio_8c_source.html#l00126">g_ui32Base</a>, <a class="el" href="rom__map_8h_source.html#l05177">MAP_UARTCharGet</a>, <a class="el" href="rom__map_8h_source.html#l05079">MAP_UARTCharPut</a>, and <a class="el" href="uartstdio_8c_source.html#l00436">UARTwrite()</a>.</p>
<div class="fragment"><div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;{</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;<span class="preprocessor">#ifdef UART_BUFFERED</span></div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;    uint32_t ui32Count = 0;</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;    int8_t cChar;</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(pcBuf != 0);</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Len != 0);</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(<a class="code" href="group__uartstdio__api.html#gadb8aca9d8f50bc3c8dda7f7060702336">g_ui32Base</a> != 0);</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;    <span class="comment">// Adjust the length back by 1 to leave space for the trailing</span></div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;    <span class="comment">// null terminator.</span></div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;    ui32Len--;</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;    <span class="comment">// Process characters until a newline is received.</span></div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;    <span class="keywordflow">while</span>(1)</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;    {</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;        <span class="comment">// Read the next character from the receive buffer.</span></div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;        <span class="keywordflow">if</span>(!RX_BUFFER_EMPTY)</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;        {</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;            cChar = g_pcUARTRxBuffer[g_ui32UARTRxReadIndex];</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;            ADVANCE_RX_BUFFER_INDEX(g_ui32UARTRxReadIndex);</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;            <span class="comment">// See if a newline or escape character was received.</span></div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;            <span class="keywordflow">if</span>((cChar == <span class="charliteral">&#39;\r&#39;</span>) || (cChar == <span class="charliteral">&#39;\n&#39;</span>) || (cChar == 0x1b))</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;            {</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;                <span class="comment">// Stop processing the input and end the line.</span></div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;            }</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;            <span class="comment">// Process the received character as long as we are not at the end</span></div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;            <span class="comment">// of the buffer.  If the end of the buffer has been reached then</span></div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;            <span class="comment">// all additional characters are ignored until a newline is</span></div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;            <span class="comment">// received.</span></div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;            <span class="keywordflow">if</span>(ui32Count &lt; ui32Len)</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;            {</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;                <span class="comment">// Store the character in the caller supplied buffer.</span></div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;                pcBuf[ui32Count] = cChar;</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;                <span class="comment">// Increment the count of characters received.</span></div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;                ui32Count++;</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;            }</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;        }</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;    }</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;    <span class="comment">// Add a null termination to the string.</span></div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;    pcBuf[ui32Count] = 0;</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;    <span class="comment">// Return the count of int8_ts in the buffer, not counting the trailing 0.</span></div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    <span class="keywordflow">return</span>(ui32Count);</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;    uint32_t ui32Count = 0;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;    int8_t cChar;</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;    <span class="keyword">static</span> int8_t bLastWasCR = 0;</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(pcBuf != 0);</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Len != 0);</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(<a class="code" href="group__uartstdio__api.html#gadb8aca9d8f50bc3c8dda7f7060702336">g_ui32Base</a> != 0);</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;    <span class="comment">// Adjust the length back by 1 to leave space for the trailing</span></div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    <span class="comment">// null terminator.</span></div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    ui32Len--;</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;    <span class="comment">// Process characters until a newline is received.</span></div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    <span class="keywordflow">while</span>(1)</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;    {</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;        <span class="comment">// Read the next character from the console.</span></div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;        cChar = <a class="code" href="rom__map_8h.html#ae32668e5fbd8089d8a70d375a0c66aac">MAP_UARTCharGet</a>(<a class="code" href="group__uartstdio__api.html#gadb8aca9d8f50bc3c8dda7f7060702336">g_ui32Base</a>);</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;        <span class="comment">// See if the backspace key was pressed.</span></div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;        <span class="keywordflow">if</span>(cChar == <span class="charliteral">&#39;\b&#39;</span>)</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;        {</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;            <span class="comment">// If there are any characters already in the buffer, then delete</span></div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;            <span class="comment">// the last.</span></div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;            <span class="keywordflow">if</span>(ui32Count)</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;            {</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;                <span class="comment">// Rub out the previous character.</span></div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;                <a class="code" href="group__uartstdio__api.html#gaf9a30a1e04e8b5b7a9cfc07b56040d72">UARTwrite</a>(<span class="stringliteral">&quot;\b \b&quot;</span>, 3);</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;                <span class="comment">// Decrement the number of characters in the buffer.</span></div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;                ui32Count--;</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;            }</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;            <span class="comment">// Skip ahead to read the next character.</span></div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;        }</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;        <span class="comment">// If this character is LF and last was CR, then just gobble up the</span></div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;        <span class="comment">// character because the EOL processing was taken care of with the CR.</span></div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;        <span class="keywordflow">if</span>((cChar == <span class="charliteral">&#39;\n&#39;</span>) &amp;&amp; bLastWasCR)</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;        {</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;            bLastWasCR = 0;</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;            <span class="keywordflow">continue</span>;</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;        }</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;        <span class="comment">// See if a newline or escape character was received.</span></div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;        <span class="keywordflow">if</span>((cChar == <span class="charliteral">&#39;\r&#39;</span>) || (cChar == <span class="charliteral">&#39;\n&#39;</span>) || (cChar == 0x1b))</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;        {</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;            <span class="comment">// If the character is a CR, then it may be followed by a LF which</span></div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;            <span class="comment">// should be paired with the CR.  So remember that a CR was</span></div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;            <span class="comment">// received.</span></div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;            <span class="keywordflow">if</span>(cChar == <span class="charliteral">&#39;\r&#39;</span>)</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;            {</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;                bLastWasCR = 1;</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;            }</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;            <span class="comment">// Stop processing the input and end the line.</span></div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;        }</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;        <span class="comment">// Process the received character as long as we are not at the end of</span></div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;        <span class="comment">// the buffer.  If the end of the buffer has been reached then all</span></div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;        <span class="comment">// additional characters are ignored until a newline is received.</span></div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;        <span class="keywordflow">if</span>(ui32Count &lt; ui32Len)</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;        {</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;            <span class="comment">// Store the character in the caller supplied buffer.</span></div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;            pcBuf[ui32Count] = cChar;</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;            <span class="comment">// Increment the count of characters received.</span></div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;            ui32Count++;</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;</div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;            <span class="comment">// Reflect the character back to the user.</span></div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;            <a class="code" href="rom__map_8h.html#abba9a17b77ceb5459fd53bdaec8ac907">MAP_UARTCharPut</a>(<a class="code" href="group__uartstdio__api.html#gadb8aca9d8f50bc3c8dda7f7060702336">g_ui32Base</a>, cChar);</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;        }</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;    }</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    <span class="comment">// Add a null termination to the string.</span></div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    pcBuf[ui32Count] = 0;</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    <span class="comment">// Send a CRLF pair to the terminal to end the line.</span></div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    <a class="code" href="group__uartstdio__api.html#gaf9a30a1e04e8b5b7a9cfc07b56040d72">UARTwrite</a>(<span class="stringliteral">&quot;\r\n&quot;</span>, 2);</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    <span class="comment">// Return the count of int8_ts in the buffer, not counting the trailing 0.</span></div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;    <span class="keywordflow">return</span>(ui32Count);</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;}</div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="rom__map_8h_html_abba9a17b77ceb5459fd53bdaec8ac907"><div class="ttname"><a href="rom__map_8h.html#abba9a17b77ceb5459fd53bdaec8ac907">MAP_UARTCharPut</a></div><div class="ttdeci">#define MAP_UARTCharPut</div><div class="ttdef"><b>Definition:</b> <a href="rom__map_8h_source.html#l05079">rom_map.h:5079</a></div></div>
<div class="ttc" id="group__uartstdio__api_html_gadb8aca9d8f50bc3c8dda7f7060702336"><div class="ttname"><a href="group__uartstdio__api.html#gadb8aca9d8f50bc3c8dda7f7060702336">g_ui32Base</a></div><div class="ttdeci">static uint32_t g_ui32Base</div><div class="ttdef"><b>Definition:</b> <a href="uartstdio_8c_source.html#l00126">uartstdio.c:126</a></div></div>
<div class="ttc" id="group__uartstdio__api_html_gaf9a30a1e04e8b5b7a9cfc07b56040d72"><div class="ttname"><a href="group__uartstdio__api.html#gaf9a30a1e04e8b5b7a9cfc07b56040d72">UARTwrite</a></div><div class="ttdeci">int UARTwrite(const char *pcBuf, uint32_t ui32Len)</div><div class="ttdef"><b>Definition:</b> <a href="uartstdio_8c_source.html#l00436">uartstdio.c:436</a></div></div>
<div class="ttc" id="rom__map_8h_html_ae32668e5fbd8089d8a70d375a0c66aac"><div class="ttname"><a href="rom__map_8h.html#ae32668e5fbd8089d8a70d375a0c66aac">MAP_UARTCharGet</a></div><div class="ttdeci">#define MAP_UARTCharGet</div><div class="ttdef"><b>Definition:</b> <a href="rom__map_8h_source.html#l05177">rom_map.h:5177</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__uartstdio__api_ga3eb95fa6af501db544ac635fc6eab80b_cgraph.png" border="0" usemap="#group__uartstdio__api_ga3eb95fa6af501db544ac635fc6eab80b_cgraph" alt=""/></div>
<map name="group__uartstdio__api_ga3eb95fa6af501db544ac635fc6eab80b_cgraph" id="group__uartstdio__api_ga3eb95fa6af501db544ac635fc6eab80b_cgraph">
<area shape="rect" id="node2" href="group__uartstdio__api.html#gaf9a30a1e04e8b5b7a9cfc07b56040d72" title="UARTwrite" alt="" coords="136,5,219,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga9df4748a317174f7cf3c20ffc072abb0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UARTprintf </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pcString</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A simple UART based printf function supporting %c, %d, %p, %s, %u, %x, and %X.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pcString</td><td>is the format string. </td></tr>
    <tr><td class="paramname">...</td><td>are the optional arguments, which depend on the contents of the format string.</td></tr>
  </table>
  </dd>
</dl>
<p>This function is very similar to the C library <code>fprintf()</code> function. All of its output will be sent to the UART. Only the following formatting characters are supported:</p>
<ul>
<li>%c to print a character</li>
<li>%d or %i to print a decimal value</li>
<li>%s to print a string</li>
<li>%u to print an unsigned decimal value</li>
<li>%x to print a hexadecimal value using lower case letters</li>
<li>%X to print a hexadecimal value using lower case letters (not upper case letters as would typically be used)</li>
<li>%p to print a pointer as a hexadecimal value</li>
<li>%% to print out a % character</li>
</ul>
<p>For %s, %d, %i, %u, %p, %x, and %X, an optional number may reside between the % and the format character, which specifies the minimum number of characters to use for that value; if preceded by a 0 then the extra characters will be filled with zeros instead of spaces. For example, <code>\%8d'' will use eight characters to print the decimal value with spaces added to reach eight;</code>%08d'' will use eight characters as well but will add zeroes instead of spaces.</p>
<p>The type of the arguments after <em>pcString</em> must match the requirements of the format string. For example, if an integer was passed where a string was expected, an error of some kind will most likely occur.</p>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="uartstdio_8c_source.html#l01292">1292</a> of file <a class="el" href="uartstdio_8c_source.html">uartstdio.c</a>.</p>

<p>References <a class="el" href="uartstdio_8c_source.html#l00860">UARTvprintf()</a>.</p>
<div class="fragment"><div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;{</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;    va_list vaArgP;</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;    <span class="comment">// Start the varargs processing.</span></div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;    va_start(vaArgP, pcString);</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;    <a class="code" href="group__uartstdio__api.html#gac24c8a911d71d799981ea44353f472de">UARTvprintf</a>(pcString, vaArgP);</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;    <span class="comment">// We&#39;re finished with the varargs now.</span></div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;    va_end(vaArgP);</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;}</div>
<div class="ttc" id="group__uartstdio__api_html_gac24c8a911d71d799981ea44353f472de"><div class="ttname"><a href="group__uartstdio__api.html#gac24c8a911d71d799981ea44353f472de">UARTvprintf</a></div><div class="ttdeci">void UARTvprintf(const char *pcString, va_list vaArgP)</div><div class="ttdef"><b>Definition:</b> <a href="uartstdio_8c_source.html#l00860">uartstdio.c:860</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__uartstdio__api_ga9df4748a317174f7cf3c20ffc072abb0_cgraph.png" border="0" usemap="#group__uartstdio__api_ga9df4748a317174f7cf3c20ffc072abb0_cgraph" alt=""/></div>
<map name="group__uartstdio__api_ga9df4748a317174f7cf3c20ffc072abb0_cgraph" id="group__uartstdio__api_ga9df4748a317174f7cf3c20ffc072abb0_cgraph">
<area shape="rect" id="node2" href="group__uartstdio__api.html#gac24c8a911d71d799981ea44353f472de" title="UARTvprintf" alt="" coords="141,5,236,32"/><area shape="rect" id="node3" href="group__uartstdio__api.html#gaf9a30a1e04e8b5b7a9cfc07b56040d72" title="UARTwrite" alt="" coords="284,5,367,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaa413007c81e82b6d58bbbc9414660eae"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UARTStdioConfig </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32PortNum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Baud</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32SrcClock</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Determines whether the ring buffer whose pointers and size are provided is full or not.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pui32Read</td><td>points to the read index for the buffer. </td></tr>
    <tr><td class="paramname">pui32Write</td><td>points to the write index for the buffer. </td></tr>
    <tr><td class="paramname">ui32Size</td><td>is the size of the buffer in bytes.</td></tr>
  </table>
  </dd>
</dl>
<p>This function is used to determine whether or not a given ring buffer is full. The structure of the code is specifically to ensure that we do not see warnings from the compiler related to the order of volatile accesses being undefined.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns <b>true</b> if the buffer is full or <b>false</b> otherwise. Determines whether the ring buffer whose pointers and size are provided is empty or not.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pui32Read</td><td>points to the read index for the buffer. </td></tr>
    <tr><td class="paramname">pui32Write</td><td>points to the write index for the buffer.</td></tr>
  </table>
  </dd>
</dl>
<p>This function is used to determine whether or not a given ring buffer is empty. The structure of the code is specifically to ensure that we do not see warnings from the compiler related to the order of volatile accesses being undefined.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns <b>true</b> if the buffer is empty or <b>false</b> otherwise. Determines the number of bytes of data contained in a ring buffer.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pui32Read</td><td>points to the read index for the buffer. </td></tr>
    <tr><td class="paramname">pui32Write</td><td>points to the write index for the buffer. </td></tr>
    <tr><td class="paramname">ui32Size</td><td>is the size of the buffer in bytes.</td></tr>
  </table>
  </dd>
</dl>
<p>This function is used to determine how many bytes of data a given ring buffer currently contains. The structure of the code is specifically to ensure that we do not see warnings from the compiler related to the order of volatile accesses being undefined.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns the number of bytes of data currently in the buffer. Configures the UART console.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ui32PortNum</td><td>is the number of UART port to use for the serial console (0-2) </td></tr>
    <tr><td class="paramname">ui32Baud</td><td>is the bit rate that the UART is to be configured to use. </td></tr>
    <tr><td class="paramname">ui32SrcClock</td><td>is the frequency of the source clock for the UART module.</td></tr>
  </table>
  </dd>
</dl>
<p>This function will configure the specified serial port to be used as a serial console. The serial parameters are set to the baud rate specified by the <em>ui32Baud</em> parameter and use 8 bit, no parity, and 1 stop bit.</p>
<p>This function must be called prior to using any of the other UART console functions: <a class="el" href="group__uartstdio__api.html#ga9df4748a317174f7cf3c20ffc072abb0">UARTprintf()</a> or <a class="el" href="group__uartstdio__api.html#ga3eb95fa6af501db544ac635fc6eab80b">UARTgets()</a>. This function assumes that the caller has previously configured the relevant UART pins for operation as a UART rather than as GPIOs.</p>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="uartstdio_8c_source.html#l00334">334</a> of file <a class="el" href="uartstdio_8c_source.html">uartstdio.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="uartstdio_8c_source.html#l00126">g_ui32Base</a>, <a class="el" href="uartstdio_8c_source.html#l00141">g_ui32UARTBase</a>, <a class="el" href="uartstdio_8c_source.html#l00170">g_ui32UARTPeriph</a>, <a class="el" href="rom__map_8h_source.html#l02769">MAP_IntEnable</a>, <a class="el" href="rom__map_8h_source.html#l04453">MAP_SysCtlPeripheralEnable</a>, <a class="el" href="rom__map_8h_source.html#l04439">MAP_SysCtlPeripheralPresent</a>, <a class="el" href="rom__map_8h_source.html#l05114">MAP_UARTConfigSetExpClk</a>, <a class="el" href="rom__map_8h_source.html#l05128">MAP_UARTEnable</a>, <a class="el" href="rom__map_8h_source.html#l05100">MAP_UARTFIFOLevelSet</a>, <a class="el" href="rom__map_8h_source.html#l05205">MAP_UARTIntDisable</a>, <a class="el" href="rom__map_8h_source.html#l05198">MAP_UARTIntEnable</a>, <a class="el" href="driverlib_2uart_8h_source.html#l00093">UART_CONFIG_PAR_NONE</a>, <a class="el" href="driverlib_2uart_8h_source.html#l00090">UART_CONFIG_STOP_ONE</a>, <a class="el" href="driverlib_2uart_8h_source.html#l00085">UART_CONFIG_WLEN_8</a>, <a class="el" href="driverlib_2uart_8h_source.html#l00117">UART_FIFO_RX1_8</a>, <a class="el" href="driverlib_2uart_8h_source.html#l00105">UART_FIFO_TX1_8</a>, <a class="el" href="driverlib_2uart_8h_source.html#l00067">UART_INT_RT</a>, and <a class="el" href="driverlib_2uart_8h_source.html#l00069">UART_INT_RX</a>.</p>
<div class="fragment"><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;{</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32PortNum == 0) || (ui32PortNum == 1) ||</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;           (ui32PortNum == 2));</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<span class="preprocessor">#ifdef UART_BUFFERED</span></div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <span class="comment">// In buffered mode, we only allow a single instance to be opened.</span></div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(<a class="code" href="group__uartstdio__api.html#gadb8aca9d8f50bc3c8dda7f7060702336">g_ui32Base</a> == 0);</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;    <span class="comment">// Check to make sure the UART peripheral is present.</span></div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    <span class="keywordflow">if</span>(!<a class="code" href="rom__map_8h.html#ab2b2662f336d481afa95e1410afe6154">MAP_SysCtlPeripheralPresent</a>(<a class="code" href="group__uartstdio__api.html#ga1e1f8817bef6e16ff7987620ea6c2650">g_ui32UARTPeriph</a>[ui32PortNum]))</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    {</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;    }</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;    <span class="comment">// Select the base address of the UART.</span></div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;    <a class="code" href="group__uartstdio__api.html#gadb8aca9d8f50bc3c8dda7f7060702336">g_ui32Base</a> = <a class="code" href="group__uartstdio__api.html#ga16c40bb7b23b7e31df04c21496307c26">g_ui32UARTBase</a>[ui32PortNum];</div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;    <span class="comment">// Enable the UART peripheral for use.</span></div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    <a class="code" href="rom__map_8h.html#a05715f4fb9622c13b13a79d8f631d257">MAP_SysCtlPeripheralEnable</a>(<a class="code" href="group__uartstdio__api.html#ga1e1f8817bef6e16ff7987620ea6c2650">g_ui32UARTPeriph</a>[ui32PortNum]);</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;    <span class="comment">// Configure the UART for 115200, n, 8, 1</span></div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;    <a class="code" href="rom__map_8h.html#ab60cff0cb3c8e1f2c3d322891a9be455">MAP_UARTConfigSetExpClk</a>(<a class="code" href="group__uartstdio__api.html#gadb8aca9d8f50bc3c8dda7f7060702336">g_ui32Base</a>, ui32SrcClock, ui32Baud,</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                            (<a class="code" href="driverlib_2uart_8h.html#a195d4b28a36df1b8588ca5380a442174">UART_CONFIG_PAR_NONE</a> | <a class="code" href="driverlib_2uart_8h.html#af7c4abbd28a43e145c39404aeba2043c">UART_CONFIG_STOP_ONE</a> |</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                             <a class="code" href="driverlib_2uart_8h.html#a00030434646d741635d32f955eb9460c">UART_CONFIG_WLEN_8</a>));</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;<span class="preprocessor">#ifdef UART_BUFFERED</span></div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="comment">// Set the UART to interrupt whenever the TX FIFO is almost empty or</span></div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <span class="comment">// when any character is received.</span></div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <a class="code" href="rom__map_8h.html#ab2934ecd61c3cfa1964cb07af0776693">MAP_UARTFIFOLevelSet</a>(<a class="code" href="group__uartstdio__api.html#gadb8aca9d8f50bc3c8dda7f7060702336">g_ui32Base</a>, <a class="code" href="driverlib_2uart_8h.html#aa84f336878fba36489b6f7d690f6bc16">UART_FIFO_TX1_8</a>, <a class="code" href="driverlib_2uart_8h.html#ad896f5a0717ed18124fb2b50d96574bb">UART_FIFO_RX1_8</a>);</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;    <span class="comment">// Flush both the buffers.</span></div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    UARTFlushRx();</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    UARTFlushTx(<span class="keyword">true</span>);</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="comment">// Remember which interrupt we are dealing with.</span></div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    g_ui32PortNum = ui32PortNum;</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <span class="comment">// We are configured for buffered output so enable the master interrupt</span></div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;    <span class="comment">// for this UART and the receive interrupts.  We don&#39;t actually enable the</span></div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <span class="comment">// transmit interrupt in the UART itself until some data has been placed</span></div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <span class="comment">// in the transmit buffer.</span></div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;    <a class="code" href="rom__map_8h.html#a078b6771d8dbafe9432172512556e758">MAP_UARTIntDisable</a>(<a class="code" href="group__uartstdio__api.html#gadb8aca9d8f50bc3c8dda7f7060702336">g_ui32Base</a>, 0xFFFFFFFF);</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;    <a class="code" href="rom__map_8h.html#add2e9529772cb51ff467f2cbc6e15c40">MAP_UARTIntEnable</a>(<a class="code" href="group__uartstdio__api.html#gadb8aca9d8f50bc3c8dda7f7060702336">g_ui32Base</a>, <a class="code" href="driverlib_2uart_8h.html#a62a4b9cc83e120b3eee5a0a7636b558c">UART_INT_RX</a> | <a class="code" href="driverlib_2uart_8h.html#a6d6d4d5d9fd23170c5f48fefa14e147c">UART_INT_RT</a>);</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <a class="code" href="rom__map_8h.html#a3cbba8af107d6d706f05574f814d8a49">MAP_IntEnable</a>(g_ui32UARTInt[ui32PortNum]);</div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;    <span class="comment">// Enable the UART operation.</span></div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;    <a class="code" href="rom__map_8h.html#a4a656eb2b8b4d42b6469a08050061ddc">MAP_UARTEnable</a>(<a class="code" href="group__uartstdio__api.html#gadb8aca9d8f50bc3c8dda7f7060702336">g_ui32Base</a>);</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;}</div>
<div class="ttc" id="driverlib_2uart_8h_html_a62a4b9cc83e120b3eee5a0a7636b558c"><div class="ttname"><a href="driverlib_2uart_8h.html#a62a4b9cc83e120b3eee5a0a7636b558c">UART_INT_RX</a></div><div class="ttdeci">#define UART_INT_RX</div><div class="ttdef"><b>Definition:</b> <a href="driverlib_2uart_8h_source.html#l00069">uart.h:69</a></div></div>
<div class="ttc" id="group__uartstdio__api_html_ga16c40bb7b23b7e31df04c21496307c26"><div class="ttname"><a href="group__uartstdio__api.html#ga16c40bb7b23b7e31df04c21496307c26">g_ui32UARTBase</a></div><div class="ttdeci">static const uint32_t g_ui32UARTBase[3]</div><div class="ttdef"><b>Definition:</b> <a href="uartstdio_8c_source.html#l00141">uartstdio.c:141</a></div></div>
<div class="ttc" id="rom__map_8h_html_ab60cff0cb3c8e1f2c3d322891a9be455"><div class="ttname"><a href="rom__map_8h.html#ab60cff0cb3c8e1f2c3d322891a9be455">MAP_UARTConfigSetExpClk</a></div><div class="ttdeci">#define MAP_UARTConfigSetExpClk</div><div class="ttdef"><b>Definition:</b> <a href="rom__map_8h_source.html#l05114">rom_map.h:5114</a></div></div>
<div class="ttc" id="group__uartstdio__api_html_ga1e1f8817bef6e16ff7987620ea6c2650"><div class="ttname"><a href="group__uartstdio__api.html#ga1e1f8817bef6e16ff7987620ea6c2650">g_ui32UARTPeriph</a></div><div class="ttdeci">static const uint32_t g_ui32UARTPeriph[3]</div><div class="ttdef"><b>Definition:</b> <a href="uartstdio_8c_source.html#l00170">uartstdio.c:170</a></div></div>
<div class="ttc" id="rom__map_8h_html_a05715f4fb9622c13b13a79d8f631d257"><div class="ttname"><a href="rom__map_8h.html#a05715f4fb9622c13b13a79d8f631d257">MAP_SysCtlPeripheralEnable</a></div><div class="ttdeci">#define MAP_SysCtlPeripheralEnable</div><div class="ttdef"><b>Definition:</b> <a href="rom__map_8h_source.html#l04453">rom_map.h:4453</a></div></div>
<div class="ttc" id="driverlib_2uart_8h_html_ad896f5a0717ed18124fb2b50d96574bb"><div class="ttname"><a href="driverlib_2uart_8h.html#ad896f5a0717ed18124fb2b50d96574bb">UART_FIFO_RX1_8</a></div><div class="ttdeci">#define UART_FIFO_RX1_8</div><div class="ttdef"><b>Definition:</b> <a href="driverlib_2uart_8h_source.html#l00117">uart.h:117</a></div></div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="group__uartstdio__api_html_gadb8aca9d8f50bc3c8dda7f7060702336"><div class="ttname"><a href="group__uartstdio__api.html#gadb8aca9d8f50bc3c8dda7f7060702336">g_ui32Base</a></div><div class="ttdeci">static uint32_t g_ui32Base</div><div class="ttdef"><b>Definition:</b> <a href="uartstdio_8c_source.html#l00126">uartstdio.c:126</a></div></div>
<div class="ttc" id="rom__map_8h_html_add2e9529772cb51ff467f2cbc6e15c40"><div class="ttname"><a href="rom__map_8h.html#add2e9529772cb51ff467f2cbc6e15c40">MAP_UARTIntEnable</a></div><div class="ttdeci">#define MAP_UARTIntEnable</div><div class="ttdef"><b>Definition:</b> <a href="rom__map_8h_source.html#l05198">rom_map.h:5198</a></div></div>
<div class="ttc" id="driverlib_2uart_8h_html_af7c4abbd28a43e145c39404aeba2043c"><div class="ttname"><a href="driverlib_2uart_8h.html#af7c4abbd28a43e145c39404aeba2043c">UART_CONFIG_STOP_ONE</a></div><div class="ttdeci">#define UART_CONFIG_STOP_ONE</div><div class="ttdef"><b>Definition:</b> <a href="driverlib_2uart_8h_source.html#l00090">uart.h:90</a></div></div>
<div class="ttc" id="driverlib_2uart_8h_html_a00030434646d741635d32f955eb9460c"><div class="ttname"><a href="driverlib_2uart_8h.html#a00030434646d741635d32f955eb9460c">UART_CONFIG_WLEN_8</a></div><div class="ttdeci">#define UART_CONFIG_WLEN_8</div><div class="ttdef"><b>Definition:</b> <a href="driverlib_2uart_8h_source.html#l00085">uart.h:85</a></div></div>
<div class="ttc" id="rom__map_8h_html_ab2934ecd61c3cfa1964cb07af0776693"><div class="ttname"><a href="rom__map_8h.html#ab2934ecd61c3cfa1964cb07af0776693">MAP_UARTFIFOLevelSet</a></div><div class="ttdeci">#define MAP_UARTFIFOLevelSet</div><div class="ttdef"><b>Definition:</b> <a href="rom__map_8h_source.html#l05100">rom_map.h:5100</a></div></div>
<div class="ttc" id="rom__map_8h_html_a078b6771d8dbafe9432172512556e758"><div class="ttname"><a href="rom__map_8h.html#a078b6771d8dbafe9432172512556e758">MAP_UARTIntDisable</a></div><div class="ttdeci">#define MAP_UARTIntDisable</div><div class="ttdef"><b>Definition:</b> <a href="rom__map_8h_source.html#l05205">rom_map.h:5205</a></div></div>
<div class="ttc" id="driverlib_2uart_8h_html_aa84f336878fba36489b6f7d690f6bc16"><div class="ttname"><a href="driverlib_2uart_8h.html#aa84f336878fba36489b6f7d690f6bc16">UART_FIFO_TX1_8</a></div><div class="ttdeci">#define UART_FIFO_TX1_8</div><div class="ttdef"><b>Definition:</b> <a href="driverlib_2uart_8h_source.html#l00105">uart.h:105</a></div></div>
<div class="ttc" id="rom__map_8h_html_a4a656eb2b8b4d42b6469a08050061ddc"><div class="ttname"><a href="rom__map_8h.html#a4a656eb2b8b4d42b6469a08050061ddc">MAP_UARTEnable</a></div><div class="ttdeci">#define MAP_UARTEnable</div><div class="ttdef"><b>Definition:</b> <a href="rom__map_8h_source.html#l05128">rom_map.h:5128</a></div></div>
<div class="ttc" id="rom__map_8h_html_a3cbba8af107d6d706f05574f814d8a49"><div class="ttname"><a href="rom__map_8h.html#a3cbba8af107d6d706f05574f814d8a49">MAP_IntEnable</a></div><div class="ttdeci">#define MAP_IntEnable</div><div class="ttdef"><b>Definition:</b> <a href="rom__map_8h_source.html#l02769">rom_map.h:2769</a></div></div>
<div class="ttc" id="driverlib_2uart_8h_html_a195d4b28a36df1b8588ca5380a442174"><div class="ttname"><a href="driverlib_2uart_8h.html#a195d4b28a36df1b8588ca5380a442174">UART_CONFIG_PAR_NONE</a></div><div class="ttdeci">#define UART_CONFIG_PAR_NONE</div><div class="ttdef"><b>Definition:</b> <a href="driverlib_2uart_8h_source.html#l00093">uart.h:93</a></div></div>
<div class="ttc" id="driverlib_2uart_8h_html_a6d6d4d5d9fd23170c5f48fefa14e147c"><div class="ttname"><a href="driverlib_2uart_8h.html#a6d6d4d5d9fd23170c5f48fefa14e147c">UART_INT_RT</a></div><div class="ttdeci">#define UART_INT_RT</div><div class="ttdef"><b>Definition:</b> <a href="driverlib_2uart_8h_source.html#l00067">uart.h:67</a></div></div>
<div class="ttc" id="rom__map_8h_html_ab2b2662f336d481afa95e1410afe6154"><div class="ttname"><a href="rom__map_8h.html#ab2b2662f336d481afa95e1410afe6154">MAP_SysCtlPeripheralPresent</a></div><div class="ttdeci">#define MAP_SysCtlPeripheralPresent</div><div class="ttdef"><b>Definition:</b> <a href="rom__map_8h_source.html#l04439">rom_map.h:4439</a></div></div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="gac24c8a911d71d799981ea44353f472de"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void UARTvprintf </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pcString</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">va_list&#160;</td>
          <td class="paramname"><em>vaArgP</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>A simple UART based vprintf function supporting %c, %d, %p, %s, %u, %x, and %X.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pcString</td><td>is the format string. </td></tr>
    <tr><td class="paramname">vaArgP</td><td>is a variable argument list pointer whose content will depend upon the format string passed in <em>pcString</em>.</td></tr>
  </table>
  </dd>
</dl>
<p>This function is very similar to the C library <code>vprintf()</code> function. All of its output will be sent to the UART. Only the following formatting characters are supported:</p>
<ul>
<li>%c to print a character</li>
<li>%d or %i to print a decimal value</li>
<li>%s to print a string</li>
<li>%u to print an unsigned decimal value</li>
<li>%x to print a hexadecimal value using lower case letters</li>
<li>%X to print a hexadecimal value using lower case letters (not upper case letters as would typically be used)</li>
<li>%p to print a pointer as a hexadecimal value</li>
<li>%% to print out a % character</li>
</ul>
<p>For %s, %d, %i, %u, %p, %x, and %X, an optional number may reside between the % and the format character, which specifies the minimum number of characters to use for that value; if preceded by a 0 then the extra characters will be filled with zeros instead of spaces. For example, <code>\%8d'' will use eight characters to print the decimal value with spaces added to reach eight;</code>%08d'' will use eight characters as well but will add zeroes instead of spaces.</p>
<p>The type of the arguments in the variable arguments list must match the requirements of the format string. For example, if an integer was passed where a string was expected, an error of some kind will most likely occur.</p>
<dl class="section return"><dt>Returns</dt><dd>None. </dd></dl>

<p>Definition at line <a class="el" href="uartstdio_8c_source.html#l00860">860</a> of file <a class="el" href="uartstdio_8c_source.html">uartstdio.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="uartstdio_8c_source.html#l00134">g_pcHex</a>, and <a class="el" href="uartstdio_8c_source.html#l00436">UARTwrite()</a>.</p>

<p>Referenced by <a class="el" href="uartstdio_8c_source.html#l01292">UARTprintf()</a>.</p>
<div class="fragment"><div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;{</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    uint32_t ui32Idx, ui32Value, ui32Pos, ui32Count, ui32Base, ui32Neg;</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;    <span class="keywordtype">char</span> *pcStr, pcBuf[16], cFill;</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;    <span class="comment">// Check the arguments.</span></div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(pcString != 0);</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;    <span class="comment">// Loop while there are more characters in the string.</span></div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;    <span class="keywordflow">while</span>(*pcString)</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;    {</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;        <span class="comment">// Find the first non-% character, or the end of the string.</span></div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;        <span class="keywordflow">for</span>(ui32Idx = 0;</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;            (pcString[ui32Idx] != <span class="charliteral">&#39;%&#39;</span>) &amp;&amp; (pcString[ui32Idx] != <span class="charliteral">&#39;\0&#39;</span>);</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;            ui32Idx++)</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;        {</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;        }</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;        <span class="comment">// Write this portion of the string.</span></div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;        <a class="code" href="group__uartstdio__api.html#gaf9a30a1e04e8b5b7a9cfc07b56040d72">UARTwrite</a>(pcString, ui32Idx);</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;        <span class="comment">// Skip the portion of the string that was written.</span></div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;        pcString += ui32Idx;</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;        <span class="comment">// See if the next character is a %.</span></div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;        <span class="keywordflow">if</span>(*pcString == <span class="charliteral">&#39;%&#39;</span>)</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;        {</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;            <span class="comment">// Skip the %.</span></div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;            pcString++;</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;</div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;            <span class="comment">// Set the digit count to zero, and the fill character to space</span></div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;            <span class="comment">// (in other words, to the defaults).</span></div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;            ui32Count = 0;</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;            cFill = <span class="charliteral">&#39; &#39;</span>;</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;            <span class="comment">// It may be necessary to get back here to process more characters.</span></div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;            <span class="comment">// Goto&#39;s aren&#39;t pretty, but effective.  I feel extremely dirty for</span></div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;            <span class="comment">// using not one but two of the beasts.</span></div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;again:</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;            <span class="comment">// Determine how to handle the next character.</span></div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;            <span class="keywordflow">switch</span>(*pcString++)</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;            {</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;                <span class="comment">// Handle the digit characters.</span></div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;                <span class="keywordflow">case</span> <span class="charliteral">&#39;0&#39;</span>:</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;                <span class="keywordflow">case</span> <span class="charliteral">&#39;1&#39;</span>:</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;                <span class="keywordflow">case</span> <span class="charliteral">&#39;2&#39;</span>:</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;                <span class="keywordflow">case</span> <span class="charliteral">&#39;3&#39;</span>:</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;                <span class="keywordflow">case</span> <span class="charliteral">&#39;4&#39;</span>:</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;                <span class="keywordflow">case</span> <span class="charliteral">&#39;5&#39;</span>:</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;                <span class="keywordflow">case</span> <span class="charliteral">&#39;6&#39;</span>:</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;                <span class="keywordflow">case</span> <span class="charliteral">&#39;7&#39;</span>:</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;                <span class="keywordflow">case</span> <span class="charliteral">&#39;8&#39;</span>:</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;                <span class="keywordflow">case</span> <span class="charliteral">&#39;9&#39;</span>:</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;                {</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;                    <span class="comment">// If this is a zero, and it is the first digit, then the</span></div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;                    <span class="comment">// fill character is a zero instead of a space.</span></div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;                    <span class="keywordflow">if</span>((pcString[-1] == <span class="charliteral">&#39;0&#39;</span>) &amp;&amp; (ui32Count == 0))</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;                    {</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;                        cFill = <span class="charliteral">&#39;0&#39;</span>;</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;                    }</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;                    <span class="comment">// Update the digit count.</span></div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;                    ui32Count *= 10;</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;                    ui32Count += pcString[-1] - <span class="charliteral">&#39;0&#39;</span>;</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;                    <span class="comment">// Get the next character.</span></div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;                    <span class="keywordflow">goto</span> again;</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;                }</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;                <span class="comment">// Handle the %c command.</span></div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;                <span class="keywordflow">case</span> <span class="charliteral">&#39;c&#39;</span>:</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;                {</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;                    <span class="comment">// Get the value from the varargs.</span></div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;                    ui32Value = va_arg(vaArgP, uint32_t);</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;                    <span class="comment">// Print out the character.</span></div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;                    <a class="code" href="group__uartstdio__api.html#gaf9a30a1e04e8b5b7a9cfc07b56040d72">UARTwrite</a>((<span class="keywordtype">char</span> *)&amp;ui32Value, 1);</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;                    <span class="comment">// This command has been handled.</span></div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;                }</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;                <span class="comment">// Handle the %d and %i commands.</span></div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;                <span class="keywordflow">case</span> <span class="charliteral">&#39;d&#39;</span>:</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;                <span class="keywordflow">case</span> <span class="charliteral">&#39;i&#39;</span>:</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;                {</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;                    <span class="comment">// Get the value from the varargs.</span></div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;                    ui32Value = va_arg(vaArgP, uint32_t);</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;                    <span class="comment">// Reset the buffer position.</span></div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;                    ui32Pos = 0;</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;                    <span class="comment">// If the value is negative, make it positive and indicate</span></div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;                    <span class="comment">// that a minus sign is needed.</span></div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;                    <span class="keywordflow">if</span>((int32_t)ui32Value &lt; 0)</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;                    {</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;                        <span class="comment">//</span></div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;                        <span class="comment">// Make the value positive.</span></div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;                        <span class="comment">//</span></div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;                        ui32Value = -(int32_t)ui32Value;</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;                        <span class="comment">//</span></div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;                        <span class="comment">// Indicate that the value is negative.</span></div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;                        <span class="comment">//</span></div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;                        ui32Neg = 1;</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;                    }</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;                    {</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;                        <span class="comment">//</span></div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;                        <span class="comment">// Indicate that the value is positive so that a minus</span></div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;                        <span class="comment">// sign isn&#39;t inserted.</span></div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;                        <span class="comment">//</span></div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;                        ui32Neg = 0;</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;                    }</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;                    <span class="comment">// Set the base to 10.</span></div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;                    ui32Base = 10;</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;                    <span class="comment">// Convert the value to ASCII.</span></div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;                    <span class="keywordflow">goto</span> convert;</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;                }</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;                <span class="comment">// Handle the %s command.</span></div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;                <span class="keywordflow">case</span> <span class="charliteral">&#39;s&#39;</span>:</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;                {</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;                    <span class="comment">// Get the string pointer from the varargs.</span></div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;                    pcStr = va_arg(vaArgP, <span class="keywordtype">char</span> *);</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;                    <span class="comment">// Determine the length of the string.</span></div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;                    <span class="keywordflow">for</span>(ui32Idx = 0; pcStr[ui32Idx] != <span class="charliteral">&#39;\0&#39;</span>; ui32Idx++)</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;                    {</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;                    }</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;                    <span class="comment">// Write the string.</span></div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;                    <a class="code" href="group__uartstdio__api.html#gaf9a30a1e04e8b5b7a9cfc07b56040d72">UARTwrite</a>(pcStr, ui32Idx);</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;                    <span class="comment">// Write any required padding spaces</span></div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;                    <span class="keywordflow">if</span>(ui32Count &gt; ui32Idx)</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;                    {</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;                        ui32Count -= ui32Idx;</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;                        <span class="keywordflow">while</span>(ui32Count--)</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;                        {</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;                            <a class="code" href="group__uartstdio__api.html#gaf9a30a1e04e8b5b7a9cfc07b56040d72">UARTwrite</a>(<span class="stringliteral">&quot; &quot;</span>, 1);</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;                        }</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;                    }</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;                    <span class="comment">// This command has been handled.</span></div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;                }</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;                <span class="comment">// Handle the %u command.</span></div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;                <span class="keywordflow">case</span> <span class="charliteral">&#39;u&#39;</span>:</div>
<div class="line"><a name="l01075"></a><span class="lineno"> 1075</span>&#160;                {</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;                    <span class="comment">// Get the value from the varargs.</span></div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;                    ui32Value = va_arg(vaArgP, uint32_t);</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;                    <span class="comment">// Reset the buffer position.</span></div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;                    ui32Pos = 0;</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;                    <span class="comment">// Set the base to 10.</span></div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;                    ui32Base = 10;</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;                    <span class="comment">// Indicate that the value is positive so that a minus sign</span></div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;                    <span class="comment">// isn&#39;t inserted.</span></div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;                    ui32Neg = 0;</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;                    <span class="comment">// Convert the value to ASCII.</span></div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;                    <span class="keywordflow">goto</span> convert;</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;                }</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;                <span class="comment">// Handle the %x and %X commands.  Note that they are treated</span></div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;                <span class="comment">// identically; in other words, %X will use lower case letters</span></div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;                <span class="comment">// for a-f instead of the upper case letters it should use.  We</span></div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;                <span class="comment">// also alias %p to %x.</span></div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;                <span class="keywordflow">case</span> <span class="charliteral">&#39;x&#39;</span>:</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;                <span class="keywordflow">case</span> <span class="charliteral">&#39;X&#39;</span>:</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;                <span class="keywordflow">case</span> <span class="charliteral">&#39;p&#39;</span>:</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;                {</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;                    <span class="comment">// Get the value from the varargs.</span></div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;                    ui32Value = va_arg(vaArgP, uint32_t);</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;                    <span class="comment">// Reset the buffer position.</span></div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;                    ui32Pos = 0;</div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;                    <span class="comment">// Set the base to 16.</span></div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;                    ui32Base = 16;</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;                    <span class="comment">// Indicate that the value is positive so that a minus sign</span></div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;                    <span class="comment">// isn&#39;t inserted.</span></div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;                    ui32Neg = 0;</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;                    <span class="comment">// Determine the number of digits in the string version of</span></div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;                    <span class="comment">// the value.</span></div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;convert:</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;                    <span class="keywordflow">for</span>(ui32Idx = 1;</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;                        (((ui32Idx * ui32Base) &lt;= ui32Value) &amp;&amp;</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;                         (((ui32Idx * ui32Base) / ui32Base) == ui32Idx));</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;                        ui32Idx *= ui32Base, ui32Count--)</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;                    {</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;                    }</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;                    <span class="comment">// If the value is negative, reduce the count of padding</span></div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;                    <span class="comment">// characters needed.</span></div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;                    <span class="keywordflow">if</span>(ui32Neg)</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;                    {</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;                        ui32Count--;</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;                    }</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;                    <span class="comment">// If the value is negative and the value is padded with</span></div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;                    <span class="comment">// zeros, then place the minus sign before the padding.</span></div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;                    <span class="keywordflow">if</span>(ui32Neg &amp;&amp; (cFill == <span class="charliteral">&#39;0&#39;</span>))</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;                    {</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;                        <span class="comment">//</span></div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;                        <span class="comment">// Place the minus sign in the output buffer.</span></div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;                        <span class="comment">//</span></div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;                        pcBuf[ui32Pos++] = <span class="charliteral">&#39;-&#39;</span>;</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;                        <span class="comment">//</span></div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;                        <span class="comment">// The minus sign has been placed, so turn off the</span></div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;                        <span class="comment">// negative flag.</span></div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;                        <span class="comment">//</span></div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;                        ui32Neg = 0;</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;                    }</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;                    <span class="comment">// Provide additional padding at the beginning of the</span></div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;                    <span class="comment">// string conversion if needed.</span></div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;                    <span class="keywordflow">if</span>((ui32Count &gt; 1) &amp;&amp; (ui32Count &lt; 16))</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;                    {</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;                        <span class="keywordflow">for</span>(ui32Count--; ui32Count; ui32Count--)</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;                        {</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;                            pcBuf[ui32Pos++] = cFill;</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;                        }</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;                    }</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;                    <span class="comment">// If the value is negative, then place the minus sign</span></div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;                    <span class="comment">// before the number.</span></div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;                    <span class="keywordflow">if</span>(ui32Neg)</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;                    {</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;                        <span class="comment">//</span></div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;                        <span class="comment">// Place the minus sign in the output buffer.</span></div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;                        <span class="comment">//</span></div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;                        pcBuf[ui32Pos++] = <span class="charliteral">&#39;-&#39;</span>;</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;                    }</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;                    <span class="comment">// Convert the value into a string.</span></div>
<div class="line"><a name="l01199"></a><span class="lineno"> 1199</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;                    <span class="keywordflow">for</span>(; ui32Idx; ui32Idx /= ui32Base)</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;                    {</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;                        pcBuf[ui32Pos++] =</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;                            <a class="code" href="group__uartstdio__api.html#gae2ac426587be82ba1a5b5eed7067fd0c">g_pcHex</a>[(ui32Value / ui32Idx) % ui32Base];</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;                    }</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;                    <span class="comment">// Write the string.</span></div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;                    <a class="code" href="group__uartstdio__api.html#gaf9a30a1e04e8b5b7a9cfc07b56040d72">UARTwrite</a>(pcBuf, ui32Pos);</div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;                    <span class="comment">// This command has been handled.</span></div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;                }</div>
<div class="line"><a name="l01216"></a><span class="lineno"> 1216</span>&#160;</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;                <span class="comment">// Handle the %% command.</span></div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;                <span class="keywordflow">case</span> <span class="charliteral">&#39;%&#39;</span>:</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;                {</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;                    <span class="comment">// Simply write a single %.</span></div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;                    <a class="code" href="group__uartstdio__api.html#gaf9a30a1e04e8b5b7a9cfc07b56040d72">UARTwrite</a>(pcString - 1, 1);</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;                    <span class="comment">// This command has been handled.</span></div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;                }</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;                <span class="comment">// Handle all other commands.</span></div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;                <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;                {</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;                    <span class="comment">// Indicate an error.</span></div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;                    <a class="code" href="group__uartstdio__api.html#gaf9a30a1e04e8b5b7a9cfc07b56040d72">UARTwrite</a>(<span class="stringliteral">&quot;ERROR&quot;</span>, 5);</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;                    <span class="comment">// This command has been handled.</span></div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;                    <span class="comment">//</span></div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;                }</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;            }</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;        }</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;    }</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;}</div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="group__uartstdio__api_html_gae2ac426587be82ba1a5b5eed7067fd0c"><div class="ttname"><a href="group__uartstdio__api.html#gae2ac426587be82ba1a5b5eed7067fd0c">g_pcHex</a></div><div class="ttdeci">static const char *const g_pcHex</div><div class="ttdef"><b>Definition:</b> <a href="uartstdio_8c_source.html#l00134">uartstdio.c:134</a></div></div>
<div class="ttc" id="group__uartstdio__api_html_gaf9a30a1e04e8b5b7a9cfc07b56040d72"><div class="ttname"><a href="group__uartstdio__api.html#gaf9a30a1e04e8b5b7a9cfc07b56040d72">UARTwrite</a></div><div class="ttdeci">int UARTwrite(const char *pcBuf, uint32_t ui32Len)</div><div class="ttdef"><b>Definition:</b> <a href="uartstdio_8c_source.html#l00436">uartstdio.c:436</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__uartstdio__api_gac24c8a911d71d799981ea44353f472de_cgraph.png" border="0" usemap="#group__uartstdio__api_gac24c8a911d71d799981ea44353f472de_cgraph" alt=""/></div>
<map name="group__uartstdio__api_gac24c8a911d71d799981ea44353f472de_cgraph" id="group__uartstdio__api_gac24c8a911d71d799981ea44353f472de_cgraph">
<area shape="rect" id="node2" href="group__uartstdio__api.html#gaf9a30a1e04e8b5b7a9cfc07b56040d72" title="UARTwrite" alt="" coords="148,5,231,32"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__uartstdio__api_gac24c8a911d71d799981ea44353f472de_icgraph.png" border="0" usemap="#group__uartstdio__api_gac24c8a911d71d799981ea44353f472de_icgraph" alt=""/></div>
<map name="group__uartstdio__api_gac24c8a911d71d799981ea44353f472de_icgraph" id="group__uartstdio__api_gac24c8a911d71d799981ea44353f472de_icgraph">
<area shape="rect" id="node2" href="group__uartstdio__api.html#ga9df4748a317174f7cf3c20ffc072abb0" title="UARTprintf" alt="" coords="148,5,236,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="gaf9a30a1e04e8b5b7a9cfc07b56040d72"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int UARTwrite </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>pcBuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>ui32Len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Writes a string of characters to the UART output.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pcBuf</td><td>points to a buffer containing the string to transmit. </td></tr>
    <tr><td class="paramname">ui32Len</td><td>is the length of the string to transmit.</td></tr>
  </table>
  </dd>
</dl>
<p>This function will transmit the string to the UART output. The number of characters transmitted is determined by the <em>ui32Len</em> parameter. This function does no interpretation or translation of any characters. Since the output is sent to a UART, any LF (/n) characters encountered will be replaced with a CRLF pair.</p>
<p>Besides using the <em>ui32Len</em> parameter to stop transmitting the string, if a null character (0) is encountered, then no more characters will be transmitted and the function will return.</p>
<p>In non-buffered mode, this function is blocking and will not return until all the characters have been written to the output FIFO. In buffered mode, the characters are written to the UART transmit buffer and the call returns immediately. If insufficient space remains in the transmit buffer, additional characters are discarded.</p>
<dl class="section return"><dt>Returns</dt><dd>Returns the count of characters written. </dd></dl>

<p>Definition at line <a class="el" href="uartstdio_8c_source.html#l00436">436</a> of file <a class="el" href="uartstdio_8c_source.html">uartstdio.c</a>.</p>

<p>References <a class="el" href="debug_8h_source.html#l00067">ASSERT</a>, <a class="el" href="uartstdio_8c_source.html#l00126">g_ui32Base</a>, <a class="el" href="rom__map_8h_source.html#l05079">MAP_UARTCharPut</a>, <a class="el" href="rom__map_8h_source.html#l05198">MAP_UARTIntEnable</a>, and <a class="el" href="driverlib_2uart_8h_source.html#l00068">UART_INT_TX</a>.</p>

<p>Referenced by <a class="el" href="uartstdio_8c_source.html#l00569">UARTgets()</a>, and <a class="el" href="uartstdio_8c_source.html#l00860">UARTvprintf()</a>.</p>
<div class="fragment"><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;{</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;<span class="preprocessor">#ifdef UART_BUFFERED</span></div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> uIdx;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <span class="comment">// Check for valid arguments.</span></div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(pcBuf != 0);</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(<a class="code" href="group__uartstdio__api.html#gadb8aca9d8f50bc3c8dda7f7060702336">g_ui32Base</a> != 0);</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;    <span class="comment">// Send the characters</span></div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;    <span class="keywordflow">for</span>(uIdx = 0; uIdx &lt; ui32Len; uIdx++)</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;    {</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        <span class="comment">// If the character to the UART is \n, then add a \r before it so that</span></div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;        <span class="comment">// \n is translated to \n\r in the output.</span></div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;        <span class="keywordflow">if</span>(pcBuf[uIdx] == <span class="charliteral">&#39;\n&#39;</span>)</div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;        {</div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;            <span class="keywordflow">if</span>(!TX_BUFFER_FULL)</div>
<div class="line"><a name="l00459"></a><span class="lineno">  459</span>&#160;            {</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;                g_pcUARTTxBuffer[g_ui32UARTTxWriteIndex] = <span class="charliteral">&#39;\r&#39;</span>;</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;                ADVANCE_TX_BUFFER_INDEX(g_ui32UARTTxWriteIndex);</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;            }</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;            {</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;                <span class="comment">// Buffer is full - discard remaining characters and return.</span></div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;                <span class="comment">//</span></div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;            }</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        }</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;        <span class="comment">// Send the character to the UART output.</span></div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        <span class="keywordflow">if</span>(!TX_BUFFER_FULL)</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;        {</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;            g_pcUARTTxBuffer[g_ui32UARTTxWriteIndex] = pcBuf[uIdx];</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;            ADVANCE_TX_BUFFER_INDEX(g_ui32UARTTxWriteIndex);</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;        }</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;        {</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;            <span class="comment">// Buffer is full - discard remaining characters and return.</span></div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        }</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;    }</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;    <span class="comment">// If we have anything in the buffer, make sure that the UART is set</span></div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;    <span class="comment">// up to transmit it.</span></div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;    <span class="keywordflow">if</span>(!TX_BUFFER_EMPTY)</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;    {</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;        UARTPrimeTransmit(<a class="code" href="group__uartstdio__api.html#gadb8aca9d8f50bc3c8dda7f7060702336">g_ui32Base</a>);</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        <a class="code" href="rom__map_8h.html#add2e9529772cb51ff467f2cbc6e15c40">MAP_UARTIntEnable</a>(<a class="code" href="group__uartstdio__api.html#gadb8aca9d8f50bc3c8dda7f7060702336">g_ui32Base</a>, <a class="code" href="driverlib_2uart_8h.html#a5edf87050364febe668e42a5f973dd1a">UART_INT_TX</a>);</div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;    }</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;    <span class="comment">// Return the number of characters written.</span></div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;    <span class="keywordflow">return</span>(uIdx);</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> uIdx;</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;    <span class="comment">// Check for valid UART base address, and valid arguments.</span></div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(<a class="code" href="group__uartstdio__api.html#gadb8aca9d8f50bc3c8dda7f7060702336">g_ui32Base</a> != 0);</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;    <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(pcBuf != 0);</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;    <span class="comment">// Send the characters</span></div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;    <span class="keywordflow">for</span>(uIdx = 0; uIdx &lt; ui32Len; uIdx++)</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    {</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        <span class="comment">// If the character to the UART is \n, then add a \r before it so that</span></div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;        <span class="comment">// \n is translated to \n\r in the output.</span></div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;        <span class="keywordflow">if</span>(pcBuf[uIdx] == <span class="charliteral">&#39;\n&#39;</span>)</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        {</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;            <a class="code" href="rom__map_8h.html#abba9a17b77ceb5459fd53bdaec8ac907">MAP_UARTCharPut</a>(<a class="code" href="group__uartstdio__api.html#gadb8aca9d8f50bc3c8dda7f7060702336">g_ui32Base</a>, <span class="charliteral">&#39;\r&#39;</span>);</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        }</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        <span class="comment">// Send the character to the UART output.</span></div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;        <a class="code" href="rom__map_8h.html#abba9a17b77ceb5459fd53bdaec8ac907">MAP_UARTCharPut</a>(<a class="code" href="group__uartstdio__api.html#gadb8aca9d8f50bc3c8dda7f7060702336">g_ui32Base</a>, pcBuf[uIdx]);</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;    }</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    <span class="comment">// Return the number of characters written.</span></div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;    <span class="keywordflow">return</span>(uIdx);</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;}</div>
<div class="ttc" id="driverlib_2uart_8h_html_a5edf87050364febe668e42a5f973dd1a"><div class="ttname"><a href="driverlib_2uart_8h.html#a5edf87050364febe668e42a5f973dd1a">UART_INT_TX</a></div><div class="ttdeci">#define UART_INT_TX</div><div class="ttdef"><b>Definition:</b> <a href="driverlib_2uart_8h_source.html#l00068">uart.h:68</a></div></div>
<div class="ttc" id="debug_8h_html_a28301f76c53b643912da7c538f74e2c6"><div class="ttname"><a href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a></div><div class="ttdeci">#define ASSERT(expr)</div><div class="ttdef"><b>Definition:</b> <a href="debug_8h_source.html#l00067">debug.h:67</a></div></div>
<div class="ttc" id="rom__map_8h_html_abba9a17b77ceb5459fd53bdaec8ac907"><div class="ttname"><a href="rom__map_8h.html#abba9a17b77ceb5459fd53bdaec8ac907">MAP_UARTCharPut</a></div><div class="ttdeci">#define MAP_UARTCharPut</div><div class="ttdef"><b>Definition:</b> <a href="rom__map_8h_source.html#l05079">rom_map.h:5079</a></div></div>
<div class="ttc" id="group__uartstdio__api_html_gadb8aca9d8f50bc3c8dda7f7060702336"><div class="ttname"><a href="group__uartstdio__api.html#gadb8aca9d8f50bc3c8dda7f7060702336">g_ui32Base</a></div><div class="ttdeci">static uint32_t g_ui32Base</div><div class="ttdef"><b>Definition:</b> <a href="uartstdio_8c_source.html#l00126">uartstdio.c:126</a></div></div>
<div class="ttc" id="rom__map_8h_html_add2e9529772cb51ff467f2cbc6e15c40"><div class="ttname"><a href="rom__map_8h.html#add2e9529772cb51ff467f2cbc6e15c40">MAP_UARTIntEnable</a></div><div class="ttdeci">#define MAP_UARTIntEnable</div><div class="ttdef"><b>Definition:</b> <a href="rom__map_8h_source.html#l05198">rom_map.h:5198</a></div></div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="group__uartstdio__api_gaf9a30a1e04e8b5b7a9cfc07b56040d72_icgraph.png" border="0" usemap="#group__uartstdio__api_gaf9a30a1e04e8b5b7a9cfc07b56040d72_icgraph" alt=""/></div>
<map name="group__uartstdio__api_gaf9a30a1e04e8b5b7a9cfc07b56040d72_icgraph" id="group__uartstdio__api_gaf9a30a1e04e8b5b7a9cfc07b56040d72_icgraph">
<area shape="rect" id="node2" href="group__uartstdio__api.html#ga3eb95fa6af501db544ac635fc6eab80b" title="UARTgets" alt="" coords="142,5,225,32"/><area shape="rect" id="node3" href="group__uartstdio__api.html#gac24c8a911d71d799981ea44353f472de" title="UARTvprintf" alt="" coords="136,56,231,83"/><area shape="rect" id="node4" href="group__uartstdio__api.html#ga9df4748a317174f7cf3c20ffc072abb0" title="UARTprintf" alt="" coords="279,56,367,83"/></map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="gae2ac426587be82ba1a5b5eed7067fd0c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* const g_pcHex = &quot;0123456789abcdef&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="uartstdio_8c_source.html#l00134">134</a> of file <a class="el" href="uartstdio_8c_source.html">uartstdio.c</a>.</p>

<p>Referenced by <a class="el" href="uartstdio_8c_source.html#l00860">UARTvprintf()</a>.</p>

</div>
</div>
<a class="anchor" id="gadb8aca9d8f50bc3c8dda7f7060702336"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t g_ui32Base = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="uartstdio_8c_source.html#l00126">126</a> of file <a class="el" href="uartstdio_8c_source.html">uartstdio.c</a>.</p>

<p>Referenced by <a class="el" href="uartstdio_8c_source.html#l00786">UARTgetc()</a>, <a class="el" href="uartstdio_8c_source.html#l00569">UARTgets()</a>, <a class="el" href="uartstdio_8c_source.html#l00334">UARTStdioConfig()</a>, and <a class="el" href="uartstdio_8c_source.html#l00436">UARTwrite()</a>.</p>

</div>
</div>
<a class="anchor" id="ga16c40bb7b23b7e31df04c21496307c26"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint32_t g_ui32UARTBase[3]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="hw__memmap_8h.html#a7a07348b4332ff6b88abf6092347deba">UART0_BASE</a>, <a class="code" href="hw__memmap_8h.html#a383bf0c4670c3a7fa72df80f66331a46">UART1_BASE</a>, <a class="code" href="hw__memmap_8h.html#ac9998d643534960b684d45a60b998421">UART2_BASE</a></div>
<div class="line">}</div>
<div class="ttc" id="hw__memmap_8h_html_a383bf0c4670c3a7fa72df80f66331a46"><div class="ttname"><a href="hw__memmap_8h.html#a383bf0c4670c3a7fa72df80f66331a46">UART1_BASE</a></div><div class="ttdeci">#define UART1_BASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__memmap_8h_source.html#l00062">hw_memmap.h:62</a></div></div>
<div class="ttc" id="hw__memmap_8h_html_a7a07348b4332ff6b88abf6092347deba"><div class="ttname"><a href="hw__memmap_8h.html#a7a07348b4332ff6b88abf6092347deba">UART0_BASE</a></div><div class="ttdeci">#define UART0_BASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__memmap_8h_source.html#l00061">hw_memmap.h:61</a></div></div>
<div class="ttc" id="hw__memmap_8h_html_ac9998d643534960b684d45a60b998421"><div class="ttname"><a href="hw__memmap_8h.html#ac9998d643534960b684d45a60b998421">UART2_BASE</a></div><div class="ttdeci">#define UART2_BASE</div><div class="ttdef"><b>Definition:</b> <a href="hw__memmap_8h_source.html#l00063">hw_memmap.h:63</a></div></div>
</div><!-- fragment -->
<p>Definition at line <a class="el" href="uartstdio_8c_source.html#l00141">141</a> of file <a class="el" href="uartstdio_8c_source.html">uartstdio.c</a>.</p>

<p>Referenced by <a class="el" href="uartstdio_8c_source.html#l00334">UARTStdioConfig()</a>.</p>

</div>
</div>
<a class="anchor" id="ga1e1f8817bef6e16ff7987620ea6c2650"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const uint32_t g_ui32UARTPeriph[3]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">=</div>
<div class="line">{</div>
<div class="line">    <a class="code" href="sysctl_8h.html#ab2846864081777c1962e95ad86c9af03">SYSCTL_PERIPH_UART0</a>, <a class="code" href="sysctl_8h.html#af386259f2cad00c31258e4801a46d9b4">SYSCTL_PERIPH_UART1</a>, <a class="code" href="sysctl_8h.html#a8e406bf44131c50caca7dce97811c30e">SYSCTL_PERIPH_UART2</a></div>
<div class="line">}</div>
<div class="ttc" id="sysctl_8h_html_ab2846864081777c1962e95ad86c9af03"><div class="ttname"><a href="sysctl_8h.html#ab2846864081777c1962e95ad86c9af03">SYSCTL_PERIPH_UART0</a></div><div class="ttdeci">#define SYSCTL_PERIPH_UART0</div><div class="ttdef"><b>Definition:</b> <a href="sysctl_8h_source.html#l00122">sysctl.h:122</a></div></div>
<div class="ttc" id="sysctl_8h_html_af386259f2cad00c31258e4801a46d9b4"><div class="ttname"><a href="sysctl_8h.html#af386259f2cad00c31258e4801a46d9b4">SYSCTL_PERIPH_UART1</a></div><div class="ttdeci">#define SYSCTL_PERIPH_UART1</div><div class="ttdef"><b>Definition:</b> <a href="sysctl_8h_source.html#l00123">sysctl.h:123</a></div></div>
<div class="ttc" id="sysctl_8h_html_a8e406bf44131c50caca7dce97811c30e"><div class="ttname"><a href="sysctl_8h.html#a8e406bf44131c50caca7dce97811c30e">SYSCTL_PERIPH_UART2</a></div><div class="ttdeci">#define SYSCTL_PERIPH_UART2</div><div class="ttdef"><b>Definition:</b> <a href="sysctl_8h_source.html#l00124">sysctl.h:124</a></div></div>
</div><!-- fragment -->
<p>Definition at line <a class="el" href="uartstdio_8c_source.html#l00170">170</a> of file <a class="el" href="uartstdio_8c_source.html">uartstdio.c</a>.</p>

<p>Referenced by <a class="el" href="uartstdio_8c_source.html#l00334">UARTStdioConfig()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Sat Feb 14 2015 21:58:15 for EE445M RTOS by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.9.1 </li>
  </ul>
</div>
</body>
</html>
