<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>EE 445M: driverlib/sysctl.c Source File</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">EE 445M
   
   </div>
   <div id="projectbrief">Real Time Operating Systems taken at University of Texas Spring 2015</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
  initNavTree('sysctl_8c.html','');
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">driverlib/sysctl.c</div>  </div>
</div><!--header-->
<div class="contents">
<a href="sysctl_8c.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">//*****************************************************************************</span>
<a name="l00002"></a>00002 <span class="comment">//</span>
<a name="l00003"></a>00003 <span class="comment">// sysctl.c - Driver for the system controller.</span>
<a name="l00004"></a>00004 <span class="comment">//</span>
<a name="l00005"></a>00005 <span class="comment">// Copyright (c) 2005-2014 Texas Instruments Incorporated.  All rights reserved.</span>
<a name="l00006"></a>00006 <span class="comment">// Software License Agreement</span>
<a name="l00007"></a>00007 <span class="comment">// </span>
<a name="l00008"></a>00008 <span class="comment">//   Redistribution and use in source and binary forms, with or without</span>
<a name="l00009"></a>00009 <span class="comment">//   modification, are permitted provided that the following conditions</span>
<a name="l00010"></a>00010 <span class="comment">//   are met:</span>
<a name="l00011"></a>00011 <span class="comment">// </span>
<a name="l00012"></a>00012 <span class="comment">//   Redistributions of source code must retain the above copyright</span>
<a name="l00013"></a>00013 <span class="comment">//   notice, this list of conditions and the following disclaimer.</span>
<a name="l00014"></a>00014 <span class="comment">// </span>
<a name="l00015"></a>00015 <span class="comment">//   Redistributions in binary form must reproduce the above copyright</span>
<a name="l00016"></a>00016 <span class="comment">//   notice, this list of conditions and the following disclaimer in the</span>
<a name="l00017"></a>00017 <span class="comment">//   documentation and/or other materials provided with the  </span>
<a name="l00018"></a>00018 <span class="comment">//   distribution.</span>
<a name="l00019"></a>00019 <span class="comment">// </span>
<a name="l00020"></a>00020 <span class="comment">//   Neither the name of Texas Instruments Incorporated nor the names of</span>
<a name="l00021"></a>00021 <span class="comment">//   its contributors may be used to endorse or promote products derived</span>
<a name="l00022"></a>00022 <span class="comment">//   from this software without specific prior written permission.</span>
<a name="l00023"></a>00023 <span class="comment">// </span>
<a name="l00024"></a>00024 <span class="comment">// THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS</span>
<a name="l00025"></a>00025 <span class="comment">// &quot;AS IS&quot; AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT</span>
<a name="l00026"></a>00026 <span class="comment">// LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR</span>
<a name="l00027"></a>00027 <span class="comment">// A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT</span>
<a name="l00028"></a>00028 <span class="comment">// OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,</span>
<a name="l00029"></a>00029 <span class="comment">// SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT</span>
<a name="l00030"></a>00030 <span class="comment">// LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,</span>
<a name="l00031"></a>00031 <span class="comment">// DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY</span>
<a name="l00032"></a>00032 <span class="comment">// THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT</span>
<a name="l00033"></a>00033 <span class="comment">// (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE</span>
<a name="l00034"></a>00034 <span class="comment">// OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</span>
<a name="l00035"></a>00035 <span class="comment">// </span>
<a name="l00036"></a>00036 <span class="comment">// This is part of revision 2.1.0.12573 of the Tiva Peripheral Driver Library.</span>
<a name="l00037"></a>00037 <span class="comment">//</span>
<a name="l00038"></a>00038 <span class="comment">//*****************************************************************************</span>
<a name="l00039"></a>00039 
<a name="l00040"></a>00040 <span class="comment">//*****************************************************************************</span>
<a name="l00041"></a>00041 <span class="comment">//</span>
<a name="l00044"></a>00044 <span class="comment"></span><span class="comment">//</span>
<a name="l00045"></a>00045 <span class="comment">//*****************************************************************************</span>
<a name="l00046"></a>00046 
<a name="l00047"></a>00047 <span class="preprocessor">#include &lt;stdbool.h&gt;</span>
<a name="l00048"></a>00048 <span class="preprocessor">#include &lt;stdint.h&gt;</span>
<a name="l00049"></a>00049 <span class="preprocessor">#include &quot;<a class="code" href="hw__ints_8h.html">inc/hw_ints.h</a>&quot;</span>
<a name="l00050"></a>00050 <span class="preprocessor">#include &quot;<a class="code" href="hw__nvic_8h.html">inc/hw_nvic.h</a>&quot;</span>
<a name="l00051"></a>00051 <span class="preprocessor">#include &quot;<a class="code" href="hw__sysctl_8h.html">inc/hw_sysctl.h</a>&quot;</span>
<a name="l00052"></a>00052 <span class="preprocessor">#include &quot;<a class="code" href="hw__types_8h.html">inc/hw_types.h</a>&quot;</span>
<a name="l00053"></a>00053 <span class="preprocessor">#include &quot;<a class="code" href="hw__flash_8h.html">inc/hw_flash.h</a>&quot;</span>
<a name="l00054"></a>00054 <span class="preprocessor">#include &quot;<a class="code" href="cpu_8h.html">driverlib/cpu.h</a>&quot;</span>
<a name="l00055"></a>00055 <span class="preprocessor">#include &quot;<a class="code" href="debug_8h.html">driverlib/debug.h</a>&quot;</span>
<a name="l00056"></a>00056 <span class="preprocessor">#include &quot;<a class="code" href="interrupt_8h.html">driverlib/interrupt.h</a>&quot;</span>
<a name="l00057"></a>00057 <span class="preprocessor">#include &quot;<a class="code" href="sysctl_8h.html">driverlib/sysctl.h</a>&quot;</span>
<a name="l00058"></a>00058 
<a name="l00059"></a>00059 <span class="comment">//*****************************************************************************</span>
<a name="l00060"></a>00060 <span class="comment">//</span>
<a name="l00061"></a>00061 <span class="comment">// The flash shift used in the math to calculate the flash sector size.</span>
<a name="l00062"></a>00062 <span class="comment">//</span>
<a name="l00063"></a>00063 <span class="comment">//*****************************************************************************</span>
<a name="l00064"></a>00064 <span class="preprocessor">#ifndef FLASH_PP_MAINSS_S</span>
<a name="l00065"></a><a class="code" href="group__sysctl__api.html#gac5fbff938556da80415fb3e72a9a408f">00065</a> <span class="preprocessor"></span><span class="preprocessor">#define FLASH_PP_MAINSS_S       16</span>
<a name="l00066"></a>00066 <span class="preprocessor"></span><span class="preprocessor">#endif</span>
<a name="l00067"></a>00067 <span class="preprocessor"></span>
<a name="l00068"></a>00068 <span class="comment">//*****************************************************************************</span>
<a name="l00069"></a>00069 <span class="comment">//</span>
<a name="l00070"></a>00070 <span class="comment">// This macro converts the XTAL value provided in the ui32Config parameter to</span>
<a name="l00071"></a>00071 <span class="comment">// an index to the g_pui32Xtals array.</span>
<a name="l00072"></a>00072 <span class="comment">//</span>
<a name="l00073"></a>00073 <span class="comment">//*****************************************************************************</span>
<a name="l00074"></a><a class="code" href="group__sysctl__api.html#ga368eb5ebc0c5267aef73cd1caf7d873c">00074</a> <span class="preprocessor">#define SysCtlXtalCfgToIndex(a) ((a &amp; 0x7c0) &gt;&gt; 6)</span>
<a name="l00075"></a>00075 <span class="preprocessor"></span>
<a name="l00076"></a>00076 <span class="comment">//*****************************************************************************</span>
<a name="l00077"></a>00077 <span class="comment">//</span>
<a name="l00078"></a>00078 <span class="comment">// An array that maps the crystal number in RCC to a frequency.</span>
<a name="l00079"></a>00079 <span class="comment">//</span>
<a name="l00080"></a>00080 <span class="comment">//*****************************************************************************</span>
<a name="l00081"></a><a class="code" href="group__sysctl__api.html#ga286fd0282c7ed9baca324931b9318afd">00081</a> <span class="keyword">static</span> <span class="keyword">const</span> uint32_t <a class="code" href="group__sysctl__api.html#ga286fd0282c7ed9baca324931b9318afd">g_pui32Xtals</a>[] =
<a name="l00082"></a>00082 {
<a name="l00083"></a>00083     1000000,
<a name="l00084"></a>00084     1843200,
<a name="l00085"></a>00085     2000000,
<a name="l00086"></a>00086     2457600,
<a name="l00087"></a>00087     3579545,
<a name="l00088"></a>00088     3686400,
<a name="l00089"></a>00089     4000000,
<a name="l00090"></a>00090     4096000,
<a name="l00091"></a>00091     4915200,
<a name="l00092"></a>00092     5000000,
<a name="l00093"></a>00093     5120000,
<a name="l00094"></a>00094     6000000,
<a name="l00095"></a>00095     6144000,
<a name="l00096"></a>00096     7372800,
<a name="l00097"></a>00097     8000000,
<a name="l00098"></a>00098     8192000,
<a name="l00099"></a>00099     10000000,
<a name="l00100"></a>00100     12000000,
<a name="l00101"></a>00101     12288000,
<a name="l00102"></a>00102     13560000,
<a name="l00103"></a>00103     14318180,
<a name="l00104"></a>00104     16000000,
<a name="l00105"></a>00105     16384000,
<a name="l00106"></a>00106     18000000,
<a name="l00107"></a>00107     20000000,
<a name="l00108"></a>00108     24000000,
<a name="l00109"></a>00109     25000000
<a name="l00110"></a>00110 };
<a name="l00111"></a>00111 
<a name="l00112"></a>00112 <span class="comment">//*****************************************************************************</span>
<a name="l00113"></a>00113 <span class="comment">//</span>
<a name="l00114"></a>00114 <span class="comment">// Maximum number of VCO entries in the g_pui32XTALtoVCO and</span>
<a name="l00115"></a>00115 <span class="comment">// g_pui32VCOFrequencies structures for a device.</span>
<a name="l00116"></a>00116 <span class="comment">//</span>
<a name="l00117"></a>00117 <span class="comment">//*****************************************************************************</span>
<a name="l00118"></a><a class="code" href="group__sysctl__api.html#gadb2b8dc5aca3e1b9faffeacd6bb92b4c">00118</a> <span class="preprocessor">#define MAX_VCO_ENTRIES         2</span>
<a name="l00119"></a><a class="code" href="group__sysctl__api.html#ga60c8da9dcb738f8815705a3c72c25615">00119</a> <span class="preprocessor"></span><span class="preprocessor">#define MAX_XTAL_ENTRIES        18</span>
<a name="l00120"></a>00120 <span class="preprocessor"></span>
<a name="l00121"></a>00121 <span class="comment">//*****************************************************************************</span>
<a name="l00122"></a>00122 <span class="comment">//</span>
<a name="l00123"></a>00123 <span class="comment">// These macros are used in the g_pui32XTALtoVCO table to make it more</span>
<a name="l00124"></a>00124 <span class="comment">// readable.</span>
<a name="l00125"></a>00125 <span class="comment">//</span>
<a name="l00126"></a>00126 <span class="comment">//*****************************************************************************</span>
<a name="l00127"></a><a class="code" href="group__sysctl__api.html#ga982496fe979d7ce71dffea3669c6fa79">00127</a> <span class="preprocessor">#define PLL_M_TO_REG(mi, mf)                                                  \</span>
<a name="l00128"></a>00128 <span class="preprocessor">        ((uint32_t)mi | (uint32_t)(mf &lt;&lt; SYSCTL_PLLFREQ0_MFRAC_S))</span>
<a name="l00129"></a><a class="code" href="group__sysctl__api.html#ga580daaf281b1d0669c00489b538c4b9e">00129</a> <span class="preprocessor"></span><span class="preprocessor">#define PLL_N_TO_REG(n)                                                       \</span>
<a name="l00130"></a>00130 <span class="preprocessor">        ((uint32_t)(n - 1) &lt;&lt; SYSCTL_PLLFREQ1_N_S)</span>
<a name="l00131"></a>00131 <span class="preprocessor"></span>
<a name="l00132"></a>00132 <span class="comment">//*****************************************************************************</span>
<a name="l00133"></a>00133 <span class="comment">//</span>
<a name="l00134"></a>00134 <span class="comment">// Look up of the values that go into the PLLFREQ0 and PLLFREQ1 registers.</span>
<a name="l00135"></a>00135 <span class="comment">//</span>
<a name="l00136"></a>00136 <span class="comment">//*****************************************************************************</span>
<a name="l00137"></a><a class="code" href="group__sysctl__api.html#gac23401a8baf013db8de53e8f2bc40425">00137</a> <span class="keyword">static</span> <span class="keyword">const</span> uint32_t <a class="code" href="group__sysctl__api.html#gac23401a8baf013db8de53e8f2bc40425">g_pppui32XTALtoVCO</a>[<a class="code" href="group__sysctl__api.html#gadb2b8dc5aca3e1b9faffeacd6bb92b4c">MAX_VCO_ENTRIES</a>][<a class="code" href="group__sysctl__api.html#ga60c8da9dcb738f8815705a3c72c25615">MAX_XTAL_ENTRIES</a>][2] =
<a name="l00138"></a>00138 {
<a name="l00139"></a>00139     {
<a name="l00140"></a>00140         <span class="comment">//</span>
<a name="l00141"></a>00141         <span class="comment">// VCO 320 MHz</span>
<a name="l00142"></a>00142         <span class="comment">//</span>
<a name="l00143"></a>00143         { <a class="code" href="group__sysctl__api.html#ga982496fe979d7ce71dffea3669c6fa79">PLL_M_TO_REG</a>(64, 0),   <a class="code" href="group__sysctl__api.html#ga580daaf281b1d0669c00489b538c4b9e">PLL_N_TO_REG</a>(1) },     <span class="comment">// 5 MHz</span>
<a name="l00144"></a>00144         { <a class="code" href="group__sysctl__api.html#ga982496fe979d7ce71dffea3669c6fa79">PLL_M_TO_REG</a>(62, 512), <a class="code" href="group__sysctl__api.html#ga580daaf281b1d0669c00489b538c4b9e">PLL_N_TO_REG</a>(1) },     <span class="comment">// 5.12 MHz</span>
<a name="l00145"></a>00145         { <a class="code" href="group__sysctl__api.html#ga982496fe979d7ce71dffea3669c6fa79">PLL_M_TO_REG</a>(160, 0),  <a class="code" href="group__sysctl__api.html#ga580daaf281b1d0669c00489b538c4b9e">PLL_N_TO_REG</a>(3) },     <span class="comment">// 6 MHz</span>
<a name="l00146"></a>00146         { <a class="code" href="group__sysctl__api.html#ga982496fe979d7ce71dffea3669c6fa79">PLL_M_TO_REG</a>(52, 85),  <a class="code" href="group__sysctl__api.html#ga580daaf281b1d0669c00489b538c4b9e">PLL_N_TO_REG</a>(1) },     <span class="comment">// 6.144 MHz</span>
<a name="l00147"></a>00147         { <a class="code" href="group__sysctl__api.html#ga982496fe979d7ce71dffea3669c6fa79">PLL_M_TO_REG</a>(43, 412), <a class="code" href="group__sysctl__api.html#ga580daaf281b1d0669c00489b538c4b9e">PLL_N_TO_REG</a>(1) },     <span class="comment">// 7.3728 MHz</span>
<a name="l00148"></a>00148         { <a class="code" href="group__sysctl__api.html#ga982496fe979d7ce71dffea3669c6fa79">PLL_M_TO_REG</a>(40, 0),   <a class="code" href="group__sysctl__api.html#ga580daaf281b1d0669c00489b538c4b9e">PLL_N_TO_REG</a>(1) },     <span class="comment">// 8 MHz</span>
<a name="l00149"></a>00149         { <a class="code" href="group__sysctl__api.html#ga982496fe979d7ce71dffea3669c6fa79">PLL_M_TO_REG</a>(39, 64),  <a class="code" href="group__sysctl__api.html#ga580daaf281b1d0669c00489b538c4b9e">PLL_N_TO_REG</a>(1) },     <span class="comment">// 8.192 MHz</span>
<a name="l00150"></a>00150         { <a class="code" href="group__sysctl__api.html#ga982496fe979d7ce71dffea3669c6fa79">PLL_M_TO_REG</a>(32, 0),   <a class="code" href="group__sysctl__api.html#ga580daaf281b1d0669c00489b538c4b9e">PLL_N_TO_REG</a>(1) },     <span class="comment">// 10 MHz</span>
<a name="l00151"></a>00151         { <a class="code" href="group__sysctl__api.html#ga982496fe979d7ce71dffea3669c6fa79">PLL_M_TO_REG</a>(80, 0),   <a class="code" href="group__sysctl__api.html#ga580daaf281b1d0669c00489b538c4b9e">PLL_N_TO_REG</a>(3) },     <span class="comment">// 12 MHz</span>
<a name="l00152"></a>00152         { <a class="code" href="group__sysctl__api.html#ga982496fe979d7ce71dffea3669c6fa79">PLL_M_TO_REG</a>(26, 43),  <a class="code" href="group__sysctl__api.html#ga580daaf281b1d0669c00489b538c4b9e">PLL_N_TO_REG</a>(1) },     <span class="comment">// 12.288 MHz</span>
<a name="l00153"></a>00153         { <a class="code" href="group__sysctl__api.html#ga982496fe979d7ce71dffea3669c6fa79">PLL_M_TO_REG</a>(23, 613), <a class="code" href="group__sysctl__api.html#ga580daaf281b1d0669c00489b538c4b9e">PLL_N_TO_REG</a>(1) },     <span class="comment">// 13.56 MHz</span>
<a name="l00154"></a>00154         { <a class="code" href="group__sysctl__api.html#ga982496fe979d7ce71dffea3669c6fa79">PLL_M_TO_REG</a>(22, 358), <a class="code" href="group__sysctl__api.html#ga580daaf281b1d0669c00489b538c4b9e">PLL_N_TO_REG</a>(1) },     <span class="comment">// 14.318180 MHz</span>
<a name="l00155"></a>00155         { <a class="code" href="group__sysctl__api.html#ga982496fe979d7ce71dffea3669c6fa79">PLL_M_TO_REG</a>(20, 0),   <a class="code" href="group__sysctl__api.html#ga580daaf281b1d0669c00489b538c4b9e">PLL_N_TO_REG</a>(1) },     <span class="comment">// 16 MHz</span>
<a name="l00156"></a>00156         { <a class="code" href="group__sysctl__api.html#ga982496fe979d7ce71dffea3669c6fa79">PLL_M_TO_REG</a>(19, 544), <a class="code" href="group__sysctl__api.html#ga580daaf281b1d0669c00489b538c4b9e">PLL_N_TO_REG</a>(1) },     <span class="comment">// 16.384 MHz</span>
<a name="l00157"></a>00157         { <a class="code" href="group__sysctl__api.html#ga982496fe979d7ce71dffea3669c6fa79">PLL_M_TO_REG</a>(160, 0),  <a class="code" href="group__sysctl__api.html#ga580daaf281b1d0669c00489b538c4b9e">PLL_N_TO_REG</a>(9) },     <span class="comment">// 18 MHz</span>
<a name="l00158"></a>00158         { <a class="code" href="group__sysctl__api.html#ga982496fe979d7ce71dffea3669c6fa79">PLL_M_TO_REG</a>(16, 0),   <a class="code" href="group__sysctl__api.html#ga580daaf281b1d0669c00489b538c4b9e">PLL_N_TO_REG</a>(1) },     <span class="comment">// 20 MHz</span>
<a name="l00159"></a>00159         { <a class="code" href="group__sysctl__api.html#ga982496fe979d7ce71dffea3669c6fa79">PLL_M_TO_REG</a>(40, 0),   <a class="code" href="group__sysctl__api.html#ga580daaf281b1d0669c00489b538c4b9e">PLL_N_TO_REG</a>(3) },     <span class="comment">// 24 MHz</span>
<a name="l00160"></a>00160         { <a class="code" href="group__sysctl__api.html#ga982496fe979d7ce71dffea3669c6fa79">PLL_M_TO_REG</a>(64, 0),   <a class="code" href="group__sysctl__api.html#ga580daaf281b1d0669c00489b538c4b9e">PLL_N_TO_REG</a>(5) },     <span class="comment">// 25 MHz</span>
<a name="l00161"></a>00161     },
<a name="l00162"></a>00162     {
<a name="l00163"></a>00163         <span class="comment">//</span>
<a name="l00164"></a>00164         <span class="comment">// VCO 480 MHz</span>
<a name="l00165"></a>00165         <span class="comment">//</span>
<a name="l00166"></a>00166         { <a class="code" href="group__sysctl__api.html#ga982496fe979d7ce71dffea3669c6fa79">PLL_M_TO_REG</a>(96, 0),   <a class="code" href="group__sysctl__api.html#ga580daaf281b1d0669c00489b538c4b9e">PLL_N_TO_REG</a>(1) },     <span class="comment">// 5 MHz</span>
<a name="l00167"></a>00167         { <a class="code" href="group__sysctl__api.html#ga982496fe979d7ce71dffea3669c6fa79">PLL_M_TO_REG</a>(93, 768), <a class="code" href="group__sysctl__api.html#ga580daaf281b1d0669c00489b538c4b9e">PLL_N_TO_REG</a>(1) },     <span class="comment">// 5.12 MHz</span>
<a name="l00168"></a>00168         { <a class="code" href="group__sysctl__api.html#ga982496fe979d7ce71dffea3669c6fa79">PLL_M_TO_REG</a>(80, 0),   <a class="code" href="group__sysctl__api.html#ga580daaf281b1d0669c00489b538c4b9e">PLL_N_TO_REG</a>(1) },     <span class="comment">// 6 MHz</span>
<a name="l00169"></a>00169         { <a class="code" href="group__sysctl__api.html#ga982496fe979d7ce71dffea3669c6fa79">PLL_M_TO_REG</a>(78, 128), <a class="code" href="group__sysctl__api.html#ga580daaf281b1d0669c00489b538c4b9e">PLL_N_TO_REG</a>(1) },     <span class="comment">// 6.144 MHz</span>
<a name="l00170"></a>00170         { <a class="code" href="group__sysctl__api.html#ga982496fe979d7ce71dffea3669c6fa79">PLL_M_TO_REG</a>(65, 107), <a class="code" href="group__sysctl__api.html#ga580daaf281b1d0669c00489b538c4b9e">PLL_N_TO_REG</a>(1) },     <span class="comment">// 7.3728 MHz</span>
<a name="l00171"></a>00171         { <a class="code" href="group__sysctl__api.html#ga982496fe979d7ce71dffea3669c6fa79">PLL_M_TO_REG</a>(60, 0),   <a class="code" href="group__sysctl__api.html#ga580daaf281b1d0669c00489b538c4b9e">PLL_N_TO_REG</a>(1) },     <span class="comment">// 8 MHz</span>
<a name="l00172"></a>00172         { <a class="code" href="group__sysctl__api.html#ga982496fe979d7ce71dffea3669c6fa79">PLL_M_TO_REG</a>(58, 608), <a class="code" href="group__sysctl__api.html#ga580daaf281b1d0669c00489b538c4b9e">PLL_N_TO_REG</a>(1) },     <span class="comment">// 8.192 MHz</span>
<a name="l00173"></a>00173         { <a class="code" href="group__sysctl__api.html#ga982496fe979d7ce71dffea3669c6fa79">PLL_M_TO_REG</a>(48, 0),   <a class="code" href="group__sysctl__api.html#ga580daaf281b1d0669c00489b538c4b9e">PLL_N_TO_REG</a>(1) },     <span class="comment">// 10 MHz</span>
<a name="l00174"></a>00174         { <a class="code" href="group__sysctl__api.html#ga982496fe979d7ce71dffea3669c6fa79">PLL_M_TO_REG</a>(40, 0),   <a class="code" href="group__sysctl__api.html#ga580daaf281b1d0669c00489b538c4b9e">PLL_N_TO_REG</a>(1) },     <span class="comment">// 12 MHz</span>
<a name="l00175"></a>00175         { <a class="code" href="group__sysctl__api.html#ga982496fe979d7ce71dffea3669c6fa79">PLL_M_TO_REG</a>(39, 64),  <a class="code" href="group__sysctl__api.html#ga580daaf281b1d0669c00489b538c4b9e">PLL_N_TO_REG</a>(1) },     <span class="comment">// 12.288 MHz</span>
<a name="l00176"></a>00176         { <a class="code" href="group__sysctl__api.html#ga982496fe979d7ce71dffea3669c6fa79">PLL_M_TO_REG</a>(35, 408), <a class="code" href="group__sysctl__api.html#ga580daaf281b1d0669c00489b538c4b9e">PLL_N_TO_REG</a>(1) },     <span class="comment">// 13.56 MHz</span>
<a name="l00177"></a>00177         { <a class="code" href="group__sysctl__api.html#ga982496fe979d7ce71dffea3669c6fa79">PLL_M_TO_REG</a>(33, 536), <a class="code" href="group__sysctl__api.html#ga580daaf281b1d0669c00489b538c4b9e">PLL_N_TO_REG</a>(1) },     <span class="comment">// 14.318180 MHz</span>
<a name="l00178"></a>00178         { <a class="code" href="group__sysctl__api.html#ga982496fe979d7ce71dffea3669c6fa79">PLL_M_TO_REG</a>(30, 0),   <a class="code" href="group__sysctl__api.html#ga580daaf281b1d0669c00489b538c4b9e">PLL_N_TO_REG</a>(1) },     <span class="comment">// 16 MHz</span>
<a name="l00179"></a>00179         { <a class="code" href="group__sysctl__api.html#ga982496fe979d7ce71dffea3669c6fa79">PLL_M_TO_REG</a>(29, 304), <a class="code" href="group__sysctl__api.html#ga580daaf281b1d0669c00489b538c4b9e">PLL_N_TO_REG</a>(1) },     <span class="comment">// 16.384 MHz</span>
<a name="l00180"></a>00180         { <a class="code" href="group__sysctl__api.html#ga982496fe979d7ce71dffea3669c6fa79">PLL_M_TO_REG</a>(80, 0),   <a class="code" href="group__sysctl__api.html#ga580daaf281b1d0669c00489b538c4b9e">PLL_N_TO_REG</a>(3) },     <span class="comment">// 18 MHz</span>
<a name="l00181"></a>00181         { <a class="code" href="group__sysctl__api.html#ga982496fe979d7ce71dffea3669c6fa79">PLL_M_TO_REG</a>(24, 0),   <a class="code" href="group__sysctl__api.html#ga580daaf281b1d0669c00489b538c4b9e">PLL_N_TO_REG</a>(1) },     <span class="comment">// 20 MHz</span>
<a name="l00182"></a>00182         { <a class="code" href="group__sysctl__api.html#ga982496fe979d7ce71dffea3669c6fa79">PLL_M_TO_REG</a>(20, 0),   <a class="code" href="group__sysctl__api.html#ga580daaf281b1d0669c00489b538c4b9e">PLL_N_TO_REG</a>(1) },     <span class="comment">// 24 MHz</span>
<a name="l00183"></a>00183         { <a class="code" href="group__sysctl__api.html#ga982496fe979d7ce71dffea3669c6fa79">PLL_M_TO_REG</a>(96, 0),   <a class="code" href="group__sysctl__api.html#ga580daaf281b1d0669c00489b538c4b9e">PLL_N_TO_REG</a>(5) },     <span class="comment">// 25 MHz</span>
<a name="l00184"></a>00184     },
<a name="l00185"></a>00185 };
<a name="l00186"></a>00186 
<a name="l00187"></a>00187 <span class="comment">//*****************************************************************************</span>
<a name="l00188"></a>00188 <span class="comment">//</span>
<a name="l00189"></a>00189 <span class="comment">// The mapping of system clock frequency to flash memory timing parameters.</span>
<a name="l00190"></a>00190 <span class="comment">//</span>
<a name="l00191"></a>00191 <span class="comment">//*****************************************************************************</span>
<a name="l00192"></a>00192 <span class="keyword">static</span> <span class="keyword">const</span> <span class="keyword">struct</span>
<a name="l00193"></a>00193 {
<a name="l00194"></a><a class="code" href="sysctl_8c.html#a6200ecba0e8920f130f2f238408f6b2a">00194</a>     uint32_t <a class="code" href="sysctl_8c.html#a6200ecba0e8920f130f2f238408f6b2a">ui32Frequency</a>;
<a name="l00195"></a><a class="code" href="sysctl_8c.html#a69f0c60ec67c7d2049e1fa89c765202d">00195</a>     uint32_t <a class="code" href="sysctl_8c.html#a69f0c60ec67c7d2049e1fa89c765202d">ui32MemTiming</a>;
<a name="l00196"></a>00196 }
<a name="l00197"></a>00197 <a class="code" href="group__sysctl__api.html#ga8be0abda441c1468e90971e6d688c9a0">g_sXTALtoMEMTIM</a>[] =
<a name="l00198"></a>00198 {
<a name="l00199"></a>00199     { 16000000, (<a class="code" href="hw__sysctl_8h.html#a7397f7ca00ba6c3b9920eb6f0d82769f">SYSCTL_MEMTIM0_FBCHT_0_5</a> | <a class="code" href="hw__sysctl_8h.html#a4b9e49abbac627a444b2c645b264412e">SYSCTL_MEMTIM0_FBCE</a> |
<a name="l00200"></a>00200                  (0 &lt;&lt; <a class="code" href="hw__sysctl_8h.html#ad7a2e9ffc52b97bfc02ad6eb78dbb863">SYSCTL_MEMTIM0_FWS_S</a>) |
<a name="l00201"></a>00201                  <a class="code" href="hw__sysctl_8h.html#ad04dac1c6e109bfc22b359ce3c9f0987">SYSCTL_MEMTIM0_EBCHT_0_5</a> | <a class="code" href="hw__sysctl_8h.html#a036c76013448af439f3c83fb6d99f8b9">SYSCTL_MEMTIM0_EBCE</a> |
<a name="l00202"></a>00202                  (0 &lt;&lt; <a class="code" href="hw__sysctl_8h.html#aa5a375e2a2a1bc25a5a25e5064076266">SYSCTL_MEMTIM0_EWS_S</a>) |
<a name="l00203"></a>00203                  <a class="code" href="hw__sysctl_8h.html#a77afa136f94f06c2ac7a45707f6f26f4">SYSCTL_MEMTIM0_MB1</a>) },
<a name="l00204"></a>00204     { 40000000, (<a class="code" href="hw__sysctl_8h.html#ace78e93f8f553b88c88aac0e593626d3">SYSCTL_MEMTIM0_FBCHT_1_5</a> | (1 &lt;&lt; <a class="code" href="hw__sysctl_8h.html#ad7a2e9ffc52b97bfc02ad6eb78dbb863">SYSCTL_MEMTIM0_FWS_S</a>) |
<a name="l00205"></a>00205                  <a class="code" href="hw__sysctl_8h.html#ace78e93f8f553b88c88aac0e593626d3">SYSCTL_MEMTIM0_FBCHT_1_5</a> | (1 &lt;&lt; <a class="code" href="hw__sysctl_8h.html#aa5a375e2a2a1bc25a5a25e5064076266">SYSCTL_MEMTIM0_EWS_S</a>) |
<a name="l00206"></a>00206                  <a class="code" href="hw__sysctl_8h.html#a77afa136f94f06c2ac7a45707f6f26f4">SYSCTL_MEMTIM0_MB1</a>) },
<a name="l00207"></a>00207     { 60000000, (<a class="code" href="hw__sysctl_8h.html#a59719326b79911356319d599a80619d2">SYSCTL_MEMTIM0_FBCHT_2</a> | (2 &lt;&lt; <a class="code" href="hw__sysctl_8h.html#ad7a2e9ffc52b97bfc02ad6eb78dbb863">SYSCTL_MEMTIM0_FWS_S</a>) |
<a name="l00208"></a>00208                  <a class="code" href="hw__sysctl_8h.html#a71de1f15f8632a3412741167a92fc565">SYSCTL_MEMTIM0_EBCHT_2</a> | (2 &lt;&lt; <a class="code" href="hw__sysctl_8h.html#aa5a375e2a2a1bc25a5a25e5064076266">SYSCTL_MEMTIM0_EWS_S</a>) |
<a name="l00209"></a>00209                  <a class="code" href="hw__sysctl_8h.html#a77afa136f94f06c2ac7a45707f6f26f4">SYSCTL_MEMTIM0_MB1</a>) },
<a name="l00210"></a>00210     { 80000000, (<a class="code" href="hw__sysctl_8h.html#a88ba0d44923028159185a8954292116d">SYSCTL_MEMTIM0_FBCHT_2_5</a> | (3 &lt;&lt; <a class="code" href="hw__sysctl_8h.html#ad7a2e9ffc52b97bfc02ad6eb78dbb863">SYSCTL_MEMTIM0_FWS_S</a>) |
<a name="l00211"></a>00211                  <a class="code" href="hw__sysctl_8h.html#afb01539cad4384afbcd16fed520162eb">SYSCTL_MEMTIM0_EBCHT_2_5</a> | (3 &lt;&lt; <a class="code" href="hw__sysctl_8h.html#aa5a375e2a2a1bc25a5a25e5064076266">SYSCTL_MEMTIM0_EWS_S</a>) |
<a name="l00212"></a>00212                  <a class="code" href="hw__sysctl_8h.html#a77afa136f94f06c2ac7a45707f6f26f4">SYSCTL_MEMTIM0_MB1</a>) },
<a name="l00213"></a>00213     { 100000000, (<a class="code" href="hw__sysctl_8h.html#aaad4a7293e51ff745f767dd7dbb8cac3">SYSCTL_MEMTIM0_FBCHT_3</a> | (4 &lt;&lt; <a class="code" href="hw__sysctl_8h.html#ad7a2e9ffc52b97bfc02ad6eb78dbb863">SYSCTL_MEMTIM0_FWS_S</a>) |
<a name="l00214"></a>00214                   <a class="code" href="hw__sysctl_8h.html#aa0bb11b3b5a2455626e642d15de6fee8">SYSCTL_MEMTIM0_EBCHT_3</a> | (4 &lt;&lt; <a class="code" href="hw__sysctl_8h.html#aa5a375e2a2a1bc25a5a25e5064076266">SYSCTL_MEMTIM0_EWS_S</a>) |
<a name="l00215"></a>00215                   <a class="code" href="hw__sysctl_8h.html#a77afa136f94f06c2ac7a45707f6f26f4">SYSCTL_MEMTIM0_MB1</a>) },
<a name="l00216"></a>00216     { 120000000, (<a class="code" href="hw__sysctl_8h.html#a2fcea888f3e703ad4d3a639ffae1fb14">SYSCTL_MEMTIM0_FBCHT_3_5</a> | (5 &lt;&lt; <a class="code" href="hw__sysctl_8h.html#ad7a2e9ffc52b97bfc02ad6eb78dbb863">SYSCTL_MEMTIM0_FWS_S</a>) |
<a name="l00217"></a>00217                   <a class="code" href="hw__sysctl_8h.html#a8360f8f7610fb8edd8e6fd1b01daec5a">SYSCTL_MEMTIM0_EBCHT_3_5</a> | (5 &lt;&lt; <a class="code" href="hw__sysctl_8h.html#aa5a375e2a2a1bc25a5a25e5064076266">SYSCTL_MEMTIM0_EWS_S</a>) |
<a name="l00218"></a>00218                   <a class="code" href="hw__sysctl_8h.html#a77afa136f94f06c2ac7a45707f6f26f4">SYSCTL_MEMTIM0_MB1</a>) },
<a name="l00219"></a>00219 };
<a name="l00220"></a>00220 
<a name="l00221"></a>00221 <span class="comment">//*****************************************************************************</span>
<a name="l00222"></a>00222 <span class="comment">//</span>
<a name="l00223"></a>00223 <span class="comment">// Get the correct memory timings for a given system clock value.</span>
<a name="l00224"></a>00224 <span class="comment">//</span>
<a name="l00225"></a>00225 <span class="comment">//*****************************************************************************</span>
<a name="l00226"></a>00226 <span class="keyword">static</span> uint32_t
<a name="l00227"></a><a class="code" href="group__sysctl__api.html#ga9da7d5e35bad642b1198eec94e458a34">00227</a> <a class="code" href="group__sysctl__api.html#ga9da7d5e35bad642b1198eec94e458a34">_SysCtlMemTimingGet</a>(uint32_t ui32SysClock)
<a name="l00228"></a>00228 {
<a name="l00229"></a>00229     uint_fast8_t ui8Idx;
<a name="l00230"></a>00230 
<a name="l00231"></a>00231     <span class="comment">//</span>
<a name="l00232"></a>00232     <span class="comment">// Loop through the flash memory timings.</span>
<a name="l00233"></a>00233     <span class="comment">//</span>
<a name="l00234"></a>00234     <span class="keywordflow">for</span>(ui8Idx = 0;
<a name="l00235"></a>00235         ui8Idx &lt; (<span class="keyword">sizeof</span>(<a class="code" href="group__sysctl__api.html#ga8be0abda441c1468e90971e6d688c9a0">g_sXTALtoMEMTIM</a>) / <span class="keyword">sizeof</span>(<a class="code" href="group__sysctl__api.html#ga8be0abda441c1468e90971e6d688c9a0">g_sXTALtoMEMTIM</a>[0]));
<a name="l00236"></a>00236         ui8Idx++)
<a name="l00237"></a>00237     {
<a name="l00238"></a>00238         <span class="comment">//</span>
<a name="l00239"></a>00239         <span class="comment">// See if the system clock frequency is less than the maximum frequency</span>
<a name="l00240"></a>00240         <span class="comment">// for this flash memory timing.</span>
<a name="l00241"></a>00241         <span class="comment">//</span>
<a name="l00242"></a>00242         <span class="keywordflow">if</span>(ui32SysClock &lt;= <a class="code" href="group__sysctl__api.html#ga8be0abda441c1468e90971e6d688c9a0">g_sXTALtoMEMTIM</a>[ui8Idx].<a class="code" href="sysctl_8c.html#a6200ecba0e8920f130f2f238408f6b2a">ui32Frequency</a>)
<a name="l00243"></a>00243         {
<a name="l00244"></a>00244             <span class="comment">//</span>
<a name="l00245"></a>00245             <span class="comment">// This flash memory timing is the best choice for the system clock</span>
<a name="l00246"></a>00246             <span class="comment">// frequency, so return it now.</span>
<a name="l00247"></a>00247             <span class="comment">//</span>
<a name="l00248"></a>00248             <span class="keywordflow">return</span>(<a class="code" href="group__sysctl__api.html#ga8be0abda441c1468e90971e6d688c9a0">g_sXTALtoMEMTIM</a>[ui8Idx].<a class="code" href="sysctl_8c.html#a69f0c60ec67c7d2049e1fa89c765202d">ui32MemTiming</a>);
<a name="l00249"></a>00249         }
<a name="l00250"></a>00250     }
<a name="l00251"></a>00251 
<a name="l00252"></a>00252     <span class="comment">//</span>
<a name="l00253"></a>00253     <span class="comment">// An appropriate flash memory timing could not be found, so the device is</span>
<a name="l00254"></a>00254     <span class="comment">// being clocked too fast.  Return the default flash memory timing.</span>
<a name="l00255"></a>00255     <span class="comment">//</span>
<a name="l00256"></a>00256     <span class="keywordflow">return</span>(0);
<a name="l00257"></a>00257 }
<a name="l00258"></a>00258 
<a name="l00259"></a>00259 <span class="comment">//*****************************************************************************</span>
<a name="l00260"></a>00260 <span class="comment">//</span>
<a name="l00261"></a>00261 <span class="comment">// Calculate the system frequency from the register settings base on the</span>
<a name="l00262"></a>00262 <span class="comment">// oscillator input.</span>
<a name="l00263"></a>00263 <span class="comment">//</span>
<a name="l00264"></a>00264 <span class="comment">//*****************************************************************************</span>
<a name="l00265"></a>00265 <span class="keyword">static</span> uint32_t
<a name="l00266"></a><a class="code" href="group__sysctl__api.html#gaf8b5b9064eb5650bc260ff79e75b0ccb">00266</a> <a class="code" href="group__sysctl__api.html#gaf8b5b9064eb5650bc260ff79e75b0ccb">_SysCtlFrequencyGet</a>(uint32_t ui32Xtal)
<a name="l00267"></a>00267 {
<a name="l00268"></a>00268     uint32_t ui32Result;
<a name="l00269"></a>00269     uint_fast16_t ui16F1, ui16F2;
<a name="l00270"></a>00270     uint_fast16_t ui16PInt, ui16PFract;
<a name="l00271"></a>00271     uint_fast8_t ui8Q, ui8N;
<a name="l00272"></a>00272 
<a name="l00273"></a>00273     <span class="comment">//</span>
<a name="l00274"></a>00274     <span class="comment">// Extract all of the values from the hardware registers.</span>
<a name="l00275"></a>00275     <span class="comment">//</span>
<a name="l00276"></a>00276     ui16PFract = ((<a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#aafe0fae5b7bc00e01652773e2cb03d38">SYSCTL_PLLFREQ0</a>) &amp; <a class="code" href="hw__sysctl_8h.html#afef9d1e924a08a717cd2a179415f87ee">SYSCTL_PLLFREQ0_MFRAC_M</a>) &gt;&gt;
<a name="l00277"></a>00277                   <a class="code" href="hw__sysctl_8h.html#a74a0cb30677d19f64ab7e3f34b093759">SYSCTL_PLLFREQ0_MFRAC_S</a>);
<a name="l00278"></a>00278     ui16PInt = <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#aafe0fae5b7bc00e01652773e2cb03d38">SYSCTL_PLLFREQ0</a>) &amp; <a class="code" href="hw__sysctl_8h.html#a06f10c3bb3998d174a15051fed182d22">SYSCTL_PLLFREQ0_MINT_M</a>;
<a name="l00279"></a>00279     ui8Q = (((<a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a734cc69a16872dc5b0435dfc8e33ce8c">SYSCTL_PLLFREQ1</a>) &amp; <a class="code" href="hw__sysctl_8h.html#ac0ca8ac3afaa8c388e33a8691fbf9159">SYSCTL_PLLFREQ1_Q_M</a>) &gt;&gt;
<a name="l00280"></a>00280              <a class="code" href="hw__sysctl_8h.html#ace8575577d0a4037333a38f97adb9f7b">SYSCTL_PLLFREQ1_Q_S</a>) + 1);
<a name="l00281"></a>00281     ui8N = (((<a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a734cc69a16872dc5b0435dfc8e33ce8c">SYSCTL_PLLFREQ1</a>) &amp; <a class="code" href="hw__sysctl_8h.html#af2b299d2ba238cbead1ac1fdc034e01f">SYSCTL_PLLFREQ1_N_M</a>) &gt;&gt;
<a name="l00282"></a>00282              <a class="code" href="hw__sysctl_8h.html#ab0b5adbda9a48cfb7702d281fbcbd833">SYSCTL_PLLFREQ1_N_S</a>) + 1);
<a name="l00283"></a>00283 
<a name="l00284"></a>00284     <span class="comment">//</span>
<a name="l00285"></a>00285     <span class="comment">// Divide the crystal value by N.</span>
<a name="l00286"></a>00286     <span class="comment">//</span>
<a name="l00287"></a>00287     ui32Xtal /= (uint32_t)ui8N;
<a name="l00288"></a>00288 
<a name="l00289"></a>00289     <span class="comment">//</span>
<a name="l00290"></a>00290     <span class="comment">// Calculate the multiplier for bits 9:5.</span>
<a name="l00291"></a>00291     <span class="comment">//</span>
<a name="l00292"></a>00292     ui16F1 = ui16PFract / 32;
<a name="l00293"></a>00293 
<a name="l00294"></a>00294     <span class="comment">//</span>
<a name="l00295"></a>00295     <span class="comment">// Calculate the multiplier for bits 4:0.</span>
<a name="l00296"></a>00296     <span class="comment">//</span>
<a name="l00297"></a>00297     ui16F2 = ui16PFract - (ui16F1 * 32);
<a name="l00298"></a>00298 
<a name="l00299"></a>00299     <span class="comment">//</span>
<a name="l00300"></a>00300     <span class="comment">// Get the integer portion.</span>
<a name="l00301"></a>00301     <span class="comment">//</span>
<a name="l00302"></a>00302     ui32Result = ui32Xtal * (uint32_t)ui16PInt;
<a name="l00303"></a>00303 
<a name="l00304"></a>00304     <span class="comment">//</span>
<a name="l00305"></a>00305     <span class="comment">// Add first fractional bits portion(9:0).</span>
<a name="l00306"></a>00306     <span class="comment">//</span>
<a name="l00307"></a>00307     ui32Result += (ui32Xtal * (uint32_t)ui16F1) / 32;
<a name="l00308"></a>00308 
<a name="l00309"></a>00309     <span class="comment">//</span>
<a name="l00310"></a>00310     <span class="comment">// Add the second fractional bits portion(4:0).</span>
<a name="l00311"></a>00311     <span class="comment">//</span>
<a name="l00312"></a>00312     ui32Result += (ui32Xtal * (uint32_t)ui16F2) / 1024;
<a name="l00313"></a>00313 
<a name="l00314"></a>00314     <span class="comment">//</span>
<a name="l00315"></a>00315     <span class="comment">// Divide the result by Q.</span>
<a name="l00316"></a>00316     <span class="comment">//</span>
<a name="l00317"></a>00317     ui32Result = ui32Result / (uint32_t)ui8Q;
<a name="l00318"></a>00318 
<a name="l00319"></a>00319     <span class="comment">//</span>
<a name="l00320"></a>00320     <span class="comment">// Return the resulting PLL frequency.</span>
<a name="l00321"></a>00321     <span class="comment">//</span>
<a name="l00322"></a>00322     <span class="keywordflow">return</span>(ui32Result);
<a name="l00323"></a>00323 }
<a name="l00324"></a>00324 
<a name="l00325"></a>00325 <span class="comment">//*****************************************************************************</span>
<a name="l00326"></a>00326 <span class="comment">//</span>
<a name="l00327"></a>00327 <span class="comment">// Look up of the possible VCO frequencies.</span>
<a name="l00328"></a>00328 <span class="comment">//</span>
<a name="l00329"></a>00329 <span class="comment">//*****************************************************************************</span>
<a name="l00330"></a><a class="code" href="group__sysctl__api.html#gab395c49428439a98393ff4e262b27082">00330</a> <span class="keyword">static</span> <span class="keyword">const</span> uint32_t <a class="code" href="group__sysctl__api.html#gab395c49428439a98393ff4e262b27082">g_pui32VCOFrequencies</a>[<a class="code" href="group__sysctl__api.html#gadb2b8dc5aca3e1b9faffeacd6bb92b4c">MAX_VCO_ENTRIES</a>] =
<a name="l00331"></a>00331 {
<a name="l00332"></a>00332     320000000,                              <span class="comment">// VCO 320</span>
<a name="l00333"></a>00333     480000000,                              <span class="comment">// VCO 480</span>
<a name="l00334"></a>00334 };
<a name="l00335"></a>00335 
<a name="l00336"></a>00336 <span class="comment">//*****************************************************************************</span>
<a name="l00337"></a>00337 <span class="comment">//</span>
<a name="l00338"></a>00338 <span class="comment">// The base addresses of the various peripheral control registers.</span>
<a name="l00339"></a>00339 <span class="comment">//</span>
<a name="l00340"></a>00340 <span class="comment">//*****************************************************************************</span>
<a name="l00341"></a><a class="code" href="group__sysctl__api.html#ga964a824e22039a7b4191aac3a785c26d">00341</a> <span class="preprocessor">#define SYSCTL_PPBASE           0x400fe300</span>
<a name="l00342"></a><a class="code" href="group__sysctl__api.html#ga728149fdb5d71e5ad29f79fa143beeaa">00342</a> <span class="preprocessor"></span><span class="preprocessor">#define SYSCTL_SRBASE           0x400fe500</span>
<a name="l00343"></a><a class="code" href="group__sysctl__api.html#ga06ebceaf21699c2734ece677f50757bb">00343</a> <span class="preprocessor"></span><span class="preprocessor">#define SYSCTL_RCGCBASE         0x400fe600</span>
<a name="l00344"></a><a class="code" href="group__sysctl__api.html#gaa1107dc41d3c5c0ab71df0a55ebbcb3a">00344</a> <span class="preprocessor"></span><span class="preprocessor">#define SYSCTL_SCGCBASE         0x400fe700</span>
<a name="l00345"></a><a class="code" href="group__sysctl__api.html#ga66fef5e82d99e1417797cf570cc8574f">00345</a> <span class="preprocessor"></span><span class="preprocessor">#define SYSCTL_DCGCBASE         0x400fe800</span>
<a name="l00346"></a><a class="code" href="group__sysctl__api.html#ga82a193fd8d66ec461b8a67e0604d99f1">00346</a> <span class="preprocessor"></span><span class="preprocessor">#define SYSCTL_PCBASE           0x400fe900</span>
<a name="l00347"></a><a class="code" href="group__sysctl__api.html#gab339add73c43f8b19bfa850e0fc999ec">00347</a> <span class="preprocessor"></span><span class="preprocessor">#define SYSCTL_PRBASE           0x400fea00</span>
<a name="l00348"></a>00348 <span class="preprocessor"></span>
<a name="l00349"></a>00349 <span class="comment">//*****************************************************************************</span>
<a name="l00350"></a>00350 <span class="comment">//</span>
<a name="l00360"></a>00360 <span class="comment"></span><span class="comment">//</span>
<a name="l00361"></a>00361 <span class="comment">//*****************************************************************************</span>
<a name="l00362"></a>00362 <span class="preprocessor">#ifdef DEBUG</span>
<a name="l00363"></a>00363 <span class="preprocessor"></span><span class="keyword">static</span> <span class="keywordtype">bool</span>
<a name="l00364"></a>00364 _SysCtlPeripheralValid(uint32_t ui32Peripheral)
<a name="l00365"></a>00365 {
<a name="l00366"></a>00366     <span class="keywordflow">return</span>((ui32Peripheral == <a class="code" href="sysctl_8h.html#ae9a46faa1781e3e61e03880b183a424d">SYSCTL_PERIPH_ADC0</a>) ||
<a name="l00367"></a>00367            (ui32Peripheral == <a class="code" href="sysctl_8h.html#a4d1b095994d6d7c5334e74f1e7f11614">SYSCTL_PERIPH_ADC1</a>) ||
<a name="l00368"></a>00368            (ui32Peripheral == <a class="code" href="sysctl_8h.html#a3713531c68412f337a8524ac549231b7">SYSCTL_PERIPH_CAN0</a>) ||
<a name="l00369"></a>00369            (ui32Peripheral == <a class="code" href="sysctl_8h.html#af91b4a05ae9b955e6c065d5394515300">SYSCTL_PERIPH_CAN1</a>) ||
<a name="l00370"></a>00370            (ui32Peripheral == <a class="code" href="sysctl_8h.html#a7cebe281280f51961e56f1ab170de295">SYSCTL_PERIPH_COMP0</a>) ||
<a name="l00371"></a>00371            (ui32Peripheral == <a class="code" href="sysctl_8h.html#a5ddca91587d6b2dc210ecdd6439f9769">SYSCTL_PERIPH_CCM0</a>) ||
<a name="l00372"></a>00372            (ui32Peripheral == <a class="code" href="sysctl_8h.html#a787c94eb2afa5f5f3c8f925c1db10349">SYSCTL_PERIPH_EEPROM0</a>) ||
<a name="l00373"></a>00373            (ui32Peripheral == <a class="code" href="sysctl_8h.html#a45e830302340fd4709dbdbc57a9303de">SYSCTL_PERIPH_EPHY0</a>) ||
<a name="l00374"></a>00374            (ui32Peripheral == <a class="code" href="sysctl_8h.html#a1ec8449c78a90f3f1572be37525b0ebd">SYSCTL_PERIPH_EMAC0</a>) ||
<a name="l00375"></a>00375            (ui32Peripheral == <a class="code" href="sysctl_8h.html#a441d64ecd5a31f56f40ad107c7ef3363">SYSCTL_PERIPH_EPI0</a>) ||
<a name="l00376"></a>00376            (ui32Peripheral == <a class="code" href="sysctl_8h.html#a5965d5bdfa80b84e5ea509bbd499f847">SYSCTL_PERIPH_FAN0</a>) ||
<a name="l00377"></a>00377            (ui32Peripheral == <a class="code" href="sysctl_8h.html#aea621e9fcb42501468c5d42aa08972c8">SYSCTL_PERIPH_GPIOA</a>) ||
<a name="l00378"></a>00378            (ui32Peripheral == <a class="code" href="sysctl_8h.html#aacde21f07d16b073bf84d6b7eac72af7">SYSCTL_PERIPH_GPIOB</a>) ||
<a name="l00379"></a>00379            (ui32Peripheral == <a class="code" href="sysctl_8h.html#a14a273e397a6753c6036fddcb55de797">SYSCTL_PERIPH_GPIOC</a>) ||
<a name="l00380"></a>00380            (ui32Peripheral == <a class="code" href="sysctl_8h.html#a86c8966034ad2bb893b2eda828cf9d57">SYSCTL_PERIPH_GPIOD</a>) ||
<a name="l00381"></a>00381            (ui32Peripheral == <a class="code" href="sysctl_8h.html#a9b21d2d75e53972282522ff00568aa87">SYSCTL_PERIPH_GPIOE</a>) ||
<a name="l00382"></a>00382            (ui32Peripheral == <a class="code" href="sysctl_8h.html#a2222c3af2259930587efcb2a33c74fcc">SYSCTL_PERIPH_GPIOF</a>) ||
<a name="l00383"></a>00383            (ui32Peripheral == <a class="code" href="sysctl_8h.html#adcc37c492097ffa2885ed87504b37e09">SYSCTL_PERIPH_GPIOG</a>) ||
<a name="l00384"></a>00384            (ui32Peripheral == <a class="code" href="sysctl_8h.html#af5f289773bd22340cd56e539bced4d5b">SYSCTL_PERIPH_GPIOH</a>) ||
<a name="l00385"></a>00385            (ui32Peripheral == <a class="code" href="sysctl_8h.html#ac066eb7de420965b9417600b95008c5b">SYSCTL_PERIPH_GPIOJ</a>) ||
<a name="l00386"></a>00386            (ui32Peripheral == <a class="code" href="sysctl_8h.html#a1aa449159aa612d868331a962f2873a0">SYSCTL_PERIPH_GPIOK</a>) ||
<a name="l00387"></a>00387            (ui32Peripheral == <a class="code" href="sysctl_8h.html#a07a6de750dc8372d13d740edf3609086">SYSCTL_PERIPH_GPIOL</a>) ||
<a name="l00388"></a>00388            (ui32Peripheral == <a class="code" href="sysctl_8h.html#a56a7c2e086f7c2a69d0948b25379f3eb">SYSCTL_PERIPH_GPIOM</a>) ||
<a name="l00389"></a>00389            (ui32Peripheral == <a class="code" href="sysctl_8h.html#adf9516ce5d0f2241b961098e59c931c1">SYSCTL_PERIPH_GPION</a>) ||
<a name="l00390"></a>00390            (ui32Peripheral == <a class="code" href="sysctl_8h.html#a3eb2804fb1d22a53e34c4851f8d304fd">SYSCTL_PERIPH_GPIOP</a>) ||
<a name="l00391"></a>00391            (ui32Peripheral == <a class="code" href="sysctl_8h.html#a237cb71fcc58173437e1f0d3adc3f902">SYSCTL_PERIPH_GPIOQ</a>) ||
<a name="l00392"></a>00392            (ui32Peripheral == <a class="code" href="sysctl_8h.html#a5dadc3e911e31b55b34972cf2a5898e3">SYSCTL_PERIPH_GPIOR</a>) ||
<a name="l00393"></a>00393            (ui32Peripheral == <a class="code" href="sysctl_8h.html#ab77b96375e8448c6272f4855645f2de4">SYSCTL_PERIPH_GPIOS</a>) ||
<a name="l00394"></a>00394            (ui32Peripheral == <a class="code" href="sysctl_8h.html#aed9e34a8c5025ffc567bb69e05a75b09">SYSCTL_PERIPH_GPIOT</a>) ||
<a name="l00395"></a>00395            (ui32Peripheral == <a class="code" href="sysctl_8h.html#a2cfb803c4ca621e5d658ea221977880d">SYSCTL_PERIPH_HIBERNATE</a>) ||
<a name="l00396"></a>00396            (ui32Peripheral == <a class="code" href="sysctl_8h.html#a969d929309d490d2828bae0d555149cc">SYSCTL_PERIPH_I2C0</a>) ||
<a name="l00397"></a>00397            (ui32Peripheral == <a class="code" href="sysctl_8h.html#ab6f8d33556109f6553d2081dc60e6125">SYSCTL_PERIPH_I2C1</a>) ||
<a name="l00398"></a>00398            (ui32Peripheral == <a class="code" href="sysctl_8h.html#af4f90cc96640b18b106bd02aba375200">SYSCTL_PERIPH_I2C2</a>) ||
<a name="l00399"></a>00399            (ui32Peripheral == <a class="code" href="sysctl_8h.html#a1eb0ad6713a5f482a455f10cee34c8fd">SYSCTL_PERIPH_I2C3</a>) ||
<a name="l00400"></a>00400            (ui32Peripheral == <a class="code" href="sysctl_8h.html#a1dac02ea4d980c800822c95c7240c71e">SYSCTL_PERIPH_I2C4</a>) ||
<a name="l00401"></a>00401            (ui32Peripheral == <a class="code" href="sysctl_8h.html#ae8e9edeb4febcc8c8b048cd9e188e883">SYSCTL_PERIPH_I2C5</a>) ||
<a name="l00402"></a>00402            (ui32Peripheral == <a class="code" href="sysctl_8h.html#a15308e2724c0e2f9537affa6befdea86">SYSCTL_PERIPH_I2C6</a>) ||
<a name="l00403"></a>00403            (ui32Peripheral == <a class="code" href="sysctl_8h.html#af00dd4e66fe48209c0d88bc3f8587794">SYSCTL_PERIPH_I2C7</a>) ||
<a name="l00404"></a>00404            (ui32Peripheral == <a class="code" href="sysctl_8h.html#acdcae0655cecc881fbc834cd71b61e31">SYSCTL_PERIPH_I2C8</a>) ||
<a name="l00405"></a>00405            (ui32Peripheral == <a class="code" href="sysctl_8h.html#ab57ad4137607b15d069a1e4ee858fbaa">SYSCTL_PERIPH_I2C9</a>) ||
<a name="l00406"></a>00406            (ui32Peripheral == <a class="code" href="sysctl_8h.html#a62bdfb976db8334fd1967fd3f03d7d49">SYSCTL_PERIPH_LCD0</a>) ||
<a name="l00407"></a>00407            (ui32Peripheral == <a class="code" href="sysctl_8h.html#acee1cebb9635b0e6ba785de7f6c566ad">SYSCTL_PERIPH_PWM0</a>) ||
<a name="l00408"></a>00408            (ui32Peripheral == <a class="code" href="sysctl_8h.html#a13b87732279901eaf23a0a7f77dcf401">SYSCTL_PERIPH_PWM1</a>) ||
<a name="l00409"></a>00409            (ui32Peripheral == <a class="code" href="sysctl_8h.html#a36fc9525c2f9fd59973a66f05c565be9">SYSCTL_PERIPH_QEI0</a>) ||
<a name="l00410"></a>00410            (ui32Peripheral == <a class="code" href="sysctl_8h.html#ab973a48e62275a0db18a6024aec803e9">SYSCTL_PERIPH_QEI1</a>) ||
<a name="l00411"></a>00411            (ui32Peripheral == <a class="code" href="sysctl_8h.html#af3a6a7867a47cd7ecfbac223b4af04a7">SYSCTL_PERIPH_SSI0</a>) ||
<a name="l00412"></a>00412            (ui32Peripheral == <a class="code" href="sysctl_8h.html#a3af9c60cb324f21efca4e99adf8805cc">SYSCTL_PERIPH_SSI1</a>) ||
<a name="l00413"></a>00413            (ui32Peripheral == <a class="code" href="sysctl_8h.html#a9d9f498f405d630163dcb7639f944001">SYSCTL_PERIPH_SSI2</a>) ||
<a name="l00414"></a>00414            (ui32Peripheral == <a class="code" href="sysctl_8h.html#a05bade8dec1a2651fe2d2a84df1a48ad">SYSCTL_PERIPH_SSI3</a>) ||
<a name="l00415"></a>00415            (ui32Peripheral == <a class="code" href="sysctl_8h.html#a2bec12e520ecd4068f3d6155c9856b29">SYSCTL_PERIPH_TIMER0</a>) ||
<a name="l00416"></a>00416            (ui32Peripheral == <a class="code" href="sysctl_8h.html#a90729f9a7e5bded1d976dd49f004780a">SYSCTL_PERIPH_TIMER1</a>) ||
<a name="l00417"></a>00417            (ui32Peripheral == <a class="code" href="sysctl_8h.html#a2e20530c746e8845eee6e18ae701d422">SYSCTL_PERIPH_TIMER2</a>) ||
<a name="l00418"></a>00418            (ui32Peripheral == <a class="code" href="sysctl_8h.html#a0389f1e613051488eccb395cb26dc9bc">SYSCTL_PERIPH_TIMER3</a>) ||
<a name="l00419"></a>00419            (ui32Peripheral == <a class="code" href="sysctl_8h.html#a036e307dc7ef7b265f1cd92d8602a5b7">SYSCTL_PERIPH_TIMER4</a>) ||
<a name="l00420"></a>00420            (ui32Peripheral == <a class="code" href="sysctl_8h.html#a3d1851bd86019b4a6d28ab177af7de49">SYSCTL_PERIPH_TIMER5</a>) ||
<a name="l00421"></a>00421            (ui32Peripheral == <a class="code" href="sysctl_8h.html#ab2846864081777c1962e95ad86c9af03">SYSCTL_PERIPH_UART0</a>) ||
<a name="l00422"></a>00422            (ui32Peripheral == <a class="code" href="sysctl_8h.html#af386259f2cad00c31258e4801a46d9b4">SYSCTL_PERIPH_UART1</a>) ||
<a name="l00423"></a>00423            (ui32Peripheral == <a class="code" href="sysctl_8h.html#a8e406bf44131c50caca7dce97811c30e">SYSCTL_PERIPH_UART2</a>) ||
<a name="l00424"></a>00424            (ui32Peripheral == <a class="code" href="sysctl_8h.html#a008300433b57c4151556e8373a7b7e5a">SYSCTL_PERIPH_UART3</a>) ||
<a name="l00425"></a>00425            (ui32Peripheral == <a class="code" href="sysctl_8h.html#a880659e7aabc76aaf4ca4b0989318b39">SYSCTL_PERIPH_UART4</a>) ||
<a name="l00426"></a>00426            (ui32Peripheral == <a class="code" href="sysctl_8h.html#adc2e81b1a2f492841a529cdbcdd49452">SYSCTL_PERIPH_UART5</a>) ||
<a name="l00427"></a>00427            (ui32Peripheral == <a class="code" href="sysctl_8h.html#a966e2092162005c86738696499635524">SYSCTL_PERIPH_UART6</a>) ||
<a name="l00428"></a>00428            (ui32Peripheral == <a class="code" href="sysctl_8h.html#a1dd5d3deef4ef7886215cb26b77f1fdf">SYSCTL_PERIPH_UART7</a>) ||
<a name="l00429"></a>00429            (ui32Peripheral == <a class="code" href="sysctl_8h.html#a5e798596ef00539c9c08f6a4997825b7">SYSCTL_PERIPH_UDMA</a>) ||
<a name="l00430"></a>00430            (ui32Peripheral == <a class="code" href="sysctl_8h.html#affc48f7af7739675c8323ba1274d9a46">SYSCTL_PERIPH_USB0</a>) ||
<a name="l00431"></a>00431            (ui32Peripheral == <a class="code" href="sysctl_8h.html#a3ab803d94df112d9a87c8117376b9c49">SYSCTL_PERIPH_WDOG0</a>) ||
<a name="l00432"></a>00432            (ui32Peripheral == <a class="code" href="sysctl_8h.html#a1d595a630063335d2a32ded7af6183af">SYSCTL_PERIPH_WDOG1</a>) ||
<a name="l00433"></a>00433            (ui32Peripheral == <a class="code" href="sysctl_8h.html#ada25301624491bfd64cd9ae5a9589d09">SYSCTL_PERIPH_WTIMER0</a>) ||
<a name="l00434"></a>00434            (ui32Peripheral == <a class="code" href="sysctl_8h.html#a2e0f952bf904123672b5fb3bb6e1c18a">SYSCTL_PERIPH_WTIMER1</a>) ||
<a name="l00435"></a>00435            (ui32Peripheral == <a class="code" href="sysctl_8h.html#a5e222f5b91ae408872f98110870d981d">SYSCTL_PERIPH_WTIMER2</a>) ||
<a name="l00436"></a>00436            (ui32Peripheral == <a class="code" href="sysctl_8h.html#a4d2c16d48c29c0fc1048f9ca98dc1ac4">SYSCTL_PERIPH_WTIMER3</a>) ||
<a name="l00437"></a>00437            (ui32Peripheral == <a class="code" href="sysctl_8h.html#af5678a0c5e8b4517b4522358d2550130">SYSCTL_PERIPH_WTIMER4</a>) ||
<a name="l00438"></a>00438            (ui32Peripheral == <a class="code" href="sysctl_8h.html#ad607dd57f5e78164767a7fd8a9de651e">SYSCTL_PERIPH_WTIMER5</a>));
<a name="l00439"></a>00439 }
<a name="l00440"></a>00440 <span class="preprocessor">#endif</span>
<a name="l00441"></a>00441 <span class="preprocessor"></span>
<a name="l00442"></a>00442 <span class="comment">//*****************************************************************************</span>
<a name="l00443"></a>00443 <span class="comment">//</span>
<a name="l00449"></a>00449 <span class="comment"></span><span class="comment">//</span>
<a name="l00450"></a>00450 <span class="comment">//*****************************************************************************</span>
<a name="l00451"></a>00451 uint32_t
<a name="l00452"></a><a class="code" href="group__sysctl__api.html#gae9d9e3eec4d4b8d8c87720c767f4f36f">00452</a> <a class="code" href="group__sysctl__api.html#gae9d9e3eec4d4b8d8c87720c767f4f36f">SysCtlSRAMSizeGet</a>(<span class="keywordtype">void</span>)
<a name="l00453"></a>00453 {
<a name="l00454"></a>00454     <span class="keywordflow">return</span>((<a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__flash_8h.html#aa2a71cbfefd2c08f483f0bedaeb5365c">FLASH_SSIZE</a>) + 1) * 256);
<a name="l00455"></a>00455 }
<a name="l00456"></a>00456 
<a name="l00457"></a>00457 <span class="comment">//*****************************************************************************</span>
<a name="l00458"></a>00458 <span class="comment">//</span>
<a name="l00464"></a>00464 <span class="comment"></span><span class="comment">//</span>
<a name="l00465"></a>00465 <span class="comment">//*****************************************************************************</span>
<a name="l00466"></a>00466 uint32_t
<a name="l00467"></a><a class="code" href="group__sysctl__api.html#gadd2e0ff17f85017c043a3a318806d428">00467</a> <a class="code" href="group__sysctl__api.html#gadd2e0ff17f85017c043a3a318806d428">SysCtlFlashSizeGet</a>(<span class="keywordtype">void</span>)
<a name="l00468"></a>00468 {
<a name="l00469"></a>00469 
<a name="l00470"></a>00470     <span class="comment">//</span>
<a name="l00471"></a>00471     <span class="comment">// TM4C123 devices report the flash size in DC0.</span>
<a name="l00472"></a>00472     <span class="comment">//</span>
<a name="l00473"></a>00473     <span class="keywordflow">if</span>(<a class="code" href="hw__types_8h.html#aed400510c15509bdc6296e5c233f6cd3">CLASS_IS_TM4C123</a>)
<a name="l00474"></a>00474     {
<a name="l00475"></a>00475         <span class="comment">//</span>
<a name="l00476"></a>00476         <span class="comment">// Compute the size of the flash.</span>
<a name="l00477"></a>00477         <span class="comment">//</span>
<a name="l00478"></a>00478         <span class="keywordflow">return</span>(((<a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a6ba74330cbe472c8a200b7bddca6c2cd">SYSCTL_DC0</a>) &amp; <a class="code" href="hw__sysctl_8h.html#a65dc6012fca48336dc5b5eb53e28cd48">SYSCTL_DC0_FLASHSZ_M</a>) &lt;&lt; 11) + 0x800);
<a name="l00479"></a>00479     }
<a name="l00480"></a>00480     <span class="keywordflow">else</span>
<a name="l00481"></a>00481     {
<a name="l00482"></a>00482         <span class="comment">//</span>
<a name="l00483"></a>00483         <span class="comment">// Get the flash size from the FLASH_PP register.</span>
<a name="l00484"></a>00484         <span class="comment">//</span>
<a name="l00485"></a>00485         <span class="keywordflow">return</span>(2048 * ((<a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__flash_8h.html#a660a7d823e7ceddfbb1ba354423e597e">FLASH_PP</a>) &amp; <a class="code" href="hw__flash_8h.html#a6cd314491cb6935247613deeab3fbc4b">FLASH_PP_SIZE_M</a>) + 1));
<a name="l00486"></a>00486     }
<a name="l00487"></a>00487 }
<a name="l00488"></a>00488 
<a name="l00489"></a>00489 <span class="comment">//*****************************************************************************</span>
<a name="l00490"></a>00490 <span class="comment">//</span>
<a name="l00497"></a>00497 <span class="comment"></span><span class="comment">//</span>
<a name="l00498"></a>00498 <span class="comment">//*****************************************************************************</span>
<a name="l00499"></a>00499 uint32_t
<a name="l00500"></a><a class="code" href="group__sysctl__api.html#gac12b8bc7c66e7ee2f2c49913ea2910e1">00500</a> <a class="code" href="group__sysctl__api.html#gac12b8bc7c66e7ee2f2c49913ea2910e1">SysCtlFlashSectorSizeGet</a>(<span class="keywordtype">void</span>)
<a name="l00501"></a>00501 {
<a name="l00502"></a>00502     <span class="comment">//</span>
<a name="l00503"></a>00503     <span class="comment">// TM4C129 devices store the value in a different register.</span>
<a name="l00504"></a>00504     <span class="comment">//</span>
<a name="l00505"></a>00505     <span class="keywordflow">if</span>(<a class="code" href="hw__types_8h.html#ad585839948168b2f3b39c3dbf2cbe200">CLASS_IS_TM4C129</a>)
<a name="l00506"></a>00506     {
<a name="l00507"></a>00507         <span class="comment">//</span>
<a name="l00508"></a>00508         <span class="comment">// Get the flash sector size from the FLASH_PP register.</span>
<a name="l00509"></a>00509         <span class="comment">//</span>
<a name="l00510"></a>00510         <span class="keywordflow">return</span>(1 &lt;&lt; (10 +
<a name="l00511"></a>00511                      ((<a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__flash_8h.html#a660a7d823e7ceddfbb1ba354423e597e">FLASH_PP</a>) &amp;
<a name="l00512"></a>00512                        <a class="code" href="hw__flash_8h.html#a76bf6e9e2dafb46042e459fd4306a2ee">FLASH_PP_MAINSS_M</a>) &gt;&gt; <a class="code" href="group__sysctl__api.html#gac5fbff938556da80415fb3e72a9a408f">FLASH_PP_MAINSS_S</a>)));
<a name="l00513"></a>00513     }
<a name="l00514"></a>00514     <span class="keywordflow">else</span>
<a name="l00515"></a>00515     {
<a name="l00516"></a>00516         <span class="comment">//</span>
<a name="l00517"></a>00517         <span class="comment">// The sector size is fixed at 1KB.</span>
<a name="l00518"></a>00518         <span class="comment">//</span>
<a name="l00519"></a>00519         <span class="keywordflow">return</span>(1024);
<a name="l00520"></a>00520     }
<a name="l00521"></a>00521 }
<a name="l00522"></a>00522 
<a name="l00523"></a>00523 <span class="comment">//*****************************************************************************</span>
<a name="l00524"></a>00524 <span class="comment">//</span>
<a name="l00565"></a>00565 <span class="comment"></span><span class="comment">//</span>
<a name="l00566"></a>00566 <span class="comment">//*****************************************************************************</span>
<a name="l00567"></a>00567 <span class="keywordtype">bool</span>
<a name="l00568"></a><a class="code" href="group__sysctl__api.html#ga8b1d6a1177370abf4bdda1bdf49236c6">00568</a> <a class="code" href="group__sysctl__api.html#ga8b1d6a1177370abf4bdda1bdf49236c6">SysCtlPeripheralPresent</a>(uint32_t ui32Peripheral)
<a name="l00569"></a>00569 {
<a name="l00570"></a>00570     <span class="comment">//</span>
<a name="l00571"></a>00571     <span class="comment">// Check the arguments.</span>
<a name="l00572"></a>00572     <span class="comment">//</span>
<a name="l00573"></a>00573     <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(_SysCtlPeripheralValid(ui32Peripheral));
<a name="l00574"></a>00574 
<a name="l00575"></a>00575     <span class="comment">//</span>
<a name="l00576"></a>00576     <span class="comment">// See if this peripheral is present.</span>
<a name="l00577"></a>00577     <span class="comment">//</span>
<a name="l00578"></a>00578     <span class="keywordflow">return</span>(<a class="code" href="hw__types_8h.html#afc61bb0c136a7acdb99ebaf93799c7be">HWREGBITW</a>(<a class="code" href="group__sysctl__api.html#ga964a824e22039a7b4191aac3a785c26d">SYSCTL_PPBASE</a> + ((ui32Peripheral &amp; 0xff00) &gt;&gt; 8),
<a name="l00579"></a>00579                      ui32Peripheral &amp; 0xff));
<a name="l00580"></a>00580 }
<a name="l00581"></a>00581 
<a name="l00582"></a>00582 <span class="comment">//*****************************************************************************</span>
<a name="l00583"></a>00583 <span class="comment">//</span>
<a name="l00629"></a>00629 <span class="comment"></span><span class="comment">//</span>
<a name="l00630"></a>00630 <span class="comment">//*****************************************************************************</span>
<a name="l00631"></a>00631 <span class="keywordtype">bool</span>
<a name="l00632"></a><a class="code" href="group__sysctl__api.html#ga7ddf1f06376894c31e5596f562c299ac">00632</a> <a class="code" href="group__sysctl__api.html#ga7ddf1f06376894c31e5596f562c299ac">SysCtlPeripheralReady</a>(uint32_t ui32Peripheral)
<a name="l00633"></a>00633 {
<a name="l00634"></a>00634     <span class="comment">//</span>
<a name="l00635"></a>00635     <span class="comment">// Check the arguments.</span>
<a name="l00636"></a>00636     <span class="comment">//</span>
<a name="l00637"></a>00637     <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(_SysCtlPeripheralValid(ui32Peripheral));
<a name="l00638"></a>00638 
<a name="l00639"></a>00639     <span class="comment">//</span>
<a name="l00640"></a>00640     <span class="comment">// See if this peripheral is ready.</span>
<a name="l00641"></a>00641     <span class="comment">//</span>
<a name="l00642"></a>00642     <span class="keywordflow">return</span>(<a class="code" href="hw__types_8h.html#afc61bb0c136a7acdb99ebaf93799c7be">HWREGBITW</a>(<a class="code" href="group__sysctl__api.html#gab339add73c43f8b19bfa850e0fc999ec">SYSCTL_PRBASE</a> + ((ui32Peripheral &amp; 0xff00) &gt;&gt; 8),
<a name="l00643"></a>00643                      ui32Peripheral &amp; 0xff));
<a name="l00644"></a>00644 }
<a name="l00645"></a>00645 
<a name="l00646"></a>00646 <span class="comment">//*****************************************************************************</span>
<a name="l00647"></a>00647 <span class="comment">//</span>
<a name="l00664"></a>00664 <span class="comment"></span><span class="comment">//</span>
<a name="l00665"></a>00665 <span class="comment">//*****************************************************************************</span>
<a name="l00666"></a>00666 <span class="keywordtype">void</span>
<a name="l00667"></a><a class="code" href="group__sysctl__api.html#ga0cf69aace5f096e92b7908fbe5e7fdc5">00667</a> <a class="code" href="group__sysctl__api.html#ga0cf69aace5f096e92b7908fbe5e7fdc5">SysCtlPeripheralPowerOn</a>(uint32_t ui32Peripheral)
<a name="l00668"></a>00668 {
<a name="l00669"></a>00669     <span class="comment">//</span>
<a name="l00670"></a>00670     <span class="comment">// Check the arguments.</span>
<a name="l00671"></a>00671     <span class="comment">//</span>
<a name="l00672"></a>00672     <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(_SysCtlPeripheralValid(ui32Peripheral));
<a name="l00673"></a>00673 
<a name="l00674"></a>00674     <span class="comment">//</span>
<a name="l00675"></a>00675     <span class="comment">// Power on this peripheral.</span>
<a name="l00676"></a>00676     <span class="comment">//</span>
<a name="l00677"></a>00677     <a class="code" href="hw__types_8h.html#afc61bb0c136a7acdb99ebaf93799c7be">HWREGBITW</a>(<a class="code" href="group__sysctl__api.html#ga82a193fd8d66ec461b8a67e0604d99f1">SYSCTL_PCBASE</a> + ((ui32Peripheral &amp; 0xff00) &gt;&gt; 8),
<a name="l00678"></a>00678               ui32Peripheral &amp; 0xff) = 1;
<a name="l00679"></a>00679 }
<a name="l00680"></a>00680 
<a name="l00681"></a>00681 <span class="comment">//*****************************************************************************</span>
<a name="l00682"></a>00682 <span class="comment">//</span>
<a name="l00700"></a>00700 <span class="comment"></span><span class="comment">//</span>
<a name="l00701"></a>00701 <span class="comment">//*****************************************************************************</span>
<a name="l00702"></a>00702 <span class="keywordtype">void</span>
<a name="l00703"></a><a class="code" href="group__sysctl__api.html#ga18c4cbb616f0b37b806914543e2a09b4">00703</a> <a class="code" href="group__sysctl__api.html#ga18c4cbb616f0b37b806914543e2a09b4">SysCtlPeripheralPowerOff</a>(uint32_t ui32Peripheral)
<a name="l00704"></a>00704 {
<a name="l00705"></a>00705     <span class="comment">//</span>
<a name="l00706"></a>00706     <span class="comment">// Check the arguments.</span>
<a name="l00707"></a>00707     <span class="comment">//</span>
<a name="l00708"></a>00708     <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(_SysCtlPeripheralValid(ui32Peripheral));
<a name="l00709"></a>00709 
<a name="l00710"></a>00710     <span class="comment">//</span>
<a name="l00711"></a>00711     <span class="comment">// Power off this peripheral.</span>
<a name="l00712"></a>00712     <span class="comment">//</span>
<a name="l00713"></a>00713     <a class="code" href="hw__types_8h.html#afc61bb0c136a7acdb99ebaf93799c7be">HWREGBITW</a>(<a class="code" href="group__sysctl__api.html#ga82a193fd8d66ec461b8a67e0604d99f1">SYSCTL_PCBASE</a> + ((ui32Peripheral &amp; 0xff00) &gt;&gt; 8),
<a name="l00714"></a>00714               ui32Peripheral &amp; 0xff) = 0;
<a name="l00715"></a>00715 }
<a name="l00716"></a>00716 
<a name="l00717"></a>00717 <span class="comment">//*****************************************************************************</span>
<a name="l00718"></a>00718 <span class="comment">//</span>
<a name="l00759"></a>00759 <span class="comment"></span><span class="comment">//</span>
<a name="l00760"></a>00760 <span class="comment">//*****************************************************************************</span>
<a name="l00761"></a>00761 <span class="keywordtype">void</span>
<a name="l00762"></a><a class="code" href="group__sysctl__api.html#gab8c537abe40caacd5dfa7ffdedefb6b9">00762</a> <a class="code" href="group__sysctl__api.html#gab8c537abe40caacd5dfa7ffdedefb6b9">SysCtlPeripheralReset</a>(uint32_t ui32Peripheral)
<a name="l00763"></a>00763 {
<a name="l00764"></a>00764     <span class="keyword">volatile</span> uint_fast8_t ui8Delay;
<a name="l00765"></a>00765 
<a name="l00766"></a>00766     <span class="comment">//</span>
<a name="l00767"></a>00767     <span class="comment">// Check the arguments.</span>
<a name="l00768"></a>00768     <span class="comment">//</span>
<a name="l00769"></a>00769     <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(_SysCtlPeripheralValid(ui32Peripheral));
<a name="l00770"></a>00770 
<a name="l00771"></a>00771     <span class="comment">//</span>
<a name="l00772"></a>00772     <span class="comment">// Put the peripheral into the reset state.</span>
<a name="l00773"></a>00773     <span class="comment">//</span>
<a name="l00774"></a>00774     <a class="code" href="hw__types_8h.html#afc61bb0c136a7acdb99ebaf93799c7be">HWREGBITW</a>(<a class="code" href="group__sysctl__api.html#ga728149fdb5d71e5ad29f79fa143beeaa">SYSCTL_SRBASE</a> + ((ui32Peripheral &amp; 0xff00) &gt;&gt; 8),
<a name="l00775"></a>00775               ui32Peripheral &amp; 0xff) = 1;
<a name="l00776"></a>00776 
<a name="l00777"></a>00777     <span class="comment">//</span>
<a name="l00778"></a>00778     <span class="comment">// Delay for a little bit.</span>
<a name="l00779"></a>00779     <span class="comment">//</span>
<a name="l00780"></a>00780     <span class="keywordflow">for</span>(ui8Delay = 0; ui8Delay &lt; 16; ui8Delay++)
<a name="l00781"></a>00781     {
<a name="l00782"></a>00782     }
<a name="l00783"></a>00783 
<a name="l00784"></a>00784     <span class="comment">//</span>
<a name="l00785"></a>00785     <span class="comment">// Take the peripheral out of the reset state.</span>
<a name="l00786"></a>00786     <span class="comment">//</span>
<a name="l00787"></a>00787     <a class="code" href="hw__types_8h.html#afc61bb0c136a7acdb99ebaf93799c7be">HWREGBITW</a>(<a class="code" href="group__sysctl__api.html#ga728149fdb5d71e5ad29f79fa143beeaa">SYSCTL_SRBASE</a> + ((ui32Peripheral &amp; 0xff00) &gt;&gt; 8),
<a name="l00788"></a>00788               ui32Peripheral &amp; 0xff) = 0;
<a name="l00789"></a>00789 }
<a name="l00790"></a>00790 
<a name="l00791"></a>00791 <span class="comment">//*****************************************************************************</span>
<a name="l00792"></a>00792 <span class="comment">//</span>
<a name="l00838"></a>00838 <span class="comment"></span><span class="comment">//</span>
<a name="l00839"></a>00839 <span class="comment">//*****************************************************************************</span>
<a name="l00840"></a>00840 <span class="keywordtype">void</span>
<a name="l00841"></a><a class="code" href="group__sysctl__api.html#ga2fbae61db465e1d861a62785d28e3ad6">00841</a> <a class="code" href="group__sysctl__api.html#ga2fbae61db465e1d861a62785d28e3ad6">SysCtlPeripheralEnable</a>(uint32_t ui32Peripheral)
<a name="l00842"></a>00842 {
<a name="l00843"></a>00843     <span class="comment">//</span>
<a name="l00844"></a>00844     <span class="comment">// Check the arguments.</span>
<a name="l00845"></a>00845     <span class="comment">//</span>
<a name="l00846"></a>00846     <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(_SysCtlPeripheralValid(ui32Peripheral));
<a name="l00847"></a>00847 
<a name="l00848"></a>00848     <span class="comment">//</span>
<a name="l00849"></a>00849     <span class="comment">// Enable this peripheral.</span>
<a name="l00850"></a>00850     <span class="comment">//</span>
<a name="l00851"></a>00851     <a class="code" href="hw__types_8h.html#afc61bb0c136a7acdb99ebaf93799c7be">HWREGBITW</a>(<a class="code" href="group__sysctl__api.html#ga06ebceaf21699c2734ece677f50757bb">SYSCTL_RCGCBASE</a> + ((ui32Peripheral &amp; 0xff00) &gt;&gt; 8),
<a name="l00852"></a>00852               ui32Peripheral &amp; 0xff) = 1;
<a name="l00853"></a>00853 }
<a name="l00854"></a>00854 
<a name="l00855"></a>00855 <span class="comment">//*****************************************************************************</span>
<a name="l00856"></a>00856 <span class="comment">//</span>
<a name="l00895"></a>00895 <span class="comment"></span><span class="comment">//</span>
<a name="l00896"></a>00896 <span class="comment">//*****************************************************************************</span>
<a name="l00897"></a>00897 <span class="keywordtype">void</span>
<a name="l00898"></a><a class="code" href="group__sysctl__api.html#ga41000fce023961157e6031ac94ff1f3a">00898</a> <a class="code" href="group__sysctl__api.html#ga41000fce023961157e6031ac94ff1f3a">SysCtlPeripheralDisable</a>(uint32_t ui32Peripheral)
<a name="l00899"></a>00899 {
<a name="l00900"></a>00900     <span class="comment">//</span>
<a name="l00901"></a>00901     <span class="comment">// Check the arguments.</span>
<a name="l00902"></a>00902     <span class="comment">//</span>
<a name="l00903"></a>00903     <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(_SysCtlPeripheralValid(ui32Peripheral));
<a name="l00904"></a>00904 
<a name="l00905"></a>00905     <span class="comment">//</span>
<a name="l00906"></a>00906     <span class="comment">// Disable this peripheral.</span>
<a name="l00907"></a>00907     <span class="comment">//</span>
<a name="l00908"></a>00908     <a class="code" href="hw__types_8h.html#afc61bb0c136a7acdb99ebaf93799c7be">HWREGBITW</a>(<a class="code" href="group__sysctl__api.html#ga06ebceaf21699c2734ece677f50757bb">SYSCTL_RCGCBASE</a> + ((ui32Peripheral &amp; 0xff00) &gt;&gt; 8),
<a name="l00909"></a>00909               ui32Peripheral &amp; 0xff) = 0;
<a name="l00910"></a>00910 }
<a name="l00911"></a>00911 
<a name="l00912"></a>00912 <span class="comment">//*****************************************************************************</span>
<a name="l00913"></a>00913 <span class="comment">//</span>
<a name="l00959"></a>00959 <span class="comment"></span><span class="comment">//</span>
<a name="l00960"></a>00960 <span class="comment">//*****************************************************************************</span>
<a name="l00961"></a>00961 <span class="keywordtype">void</span>
<a name="l00962"></a><a class="code" href="group__sysctl__api.html#ga88db79b809decde9d228ee2c3e58a727">00962</a> <a class="code" href="group__sysctl__api.html#ga88db79b809decde9d228ee2c3e58a727">SysCtlPeripheralSleepEnable</a>(uint32_t ui32Peripheral)
<a name="l00963"></a>00963 {
<a name="l00964"></a>00964     <span class="comment">//</span>
<a name="l00965"></a>00965     <span class="comment">// Check the arguments.</span>
<a name="l00966"></a>00966     <span class="comment">//</span>
<a name="l00967"></a>00967     <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(_SysCtlPeripheralValid(ui32Peripheral));
<a name="l00968"></a>00968 
<a name="l00969"></a>00969     <span class="comment">//</span>
<a name="l00970"></a>00970     <span class="comment">// Enable this peripheral in sleep mode.</span>
<a name="l00971"></a>00971     <span class="comment">//</span>
<a name="l00972"></a>00972     <a class="code" href="hw__types_8h.html#afc61bb0c136a7acdb99ebaf93799c7be">HWREGBITW</a>(<a class="code" href="group__sysctl__api.html#gaa1107dc41d3c5c0ab71df0a55ebbcb3a">SYSCTL_SCGCBASE</a> + ((ui32Peripheral &amp; 0xff00) &gt;&gt; 8),
<a name="l00973"></a>00973               ui32Peripheral &amp; 0xff) = 1;
<a name="l00974"></a>00974 }
<a name="l00975"></a>00975 
<a name="l00976"></a>00976 <span class="comment">//*****************************************************************************</span>
<a name="l00977"></a>00977 <span class="comment">//</span>
<a name="l01024"></a>01024 <span class="comment"></span><span class="comment">//</span>
<a name="l01025"></a>01025 <span class="comment">//*****************************************************************************</span>
<a name="l01026"></a>01026 <span class="keywordtype">void</span>
<a name="l01027"></a><a class="code" href="group__sysctl__api.html#gaa1131a3d12965af7cdaa02f0649dc237">01027</a> <a class="code" href="group__sysctl__api.html#gaa1131a3d12965af7cdaa02f0649dc237">SysCtlPeripheralSleepDisable</a>(uint32_t ui32Peripheral)
<a name="l01028"></a>01028 {
<a name="l01029"></a>01029     <span class="comment">//</span>
<a name="l01030"></a>01030     <span class="comment">// Check the arguments.</span>
<a name="l01031"></a>01031     <span class="comment">//</span>
<a name="l01032"></a>01032     <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(_SysCtlPeripheralValid(ui32Peripheral));
<a name="l01033"></a>01033 
<a name="l01034"></a>01034     <span class="comment">//</span>
<a name="l01035"></a>01035     <span class="comment">// Disable this peripheral in sleep mode.</span>
<a name="l01036"></a>01036     <span class="comment">//</span>
<a name="l01037"></a>01037     <a class="code" href="hw__types_8h.html#afc61bb0c136a7acdb99ebaf93799c7be">HWREGBITW</a>(<a class="code" href="group__sysctl__api.html#gaa1107dc41d3c5c0ab71df0a55ebbcb3a">SYSCTL_SCGCBASE</a> + ((ui32Peripheral &amp; 0xff00) &gt;&gt; 8),
<a name="l01038"></a>01038               ui32Peripheral &amp; 0xff) = 0;
<a name="l01039"></a>01039 }
<a name="l01040"></a>01040 
<a name="l01041"></a>01041 <span class="comment">//*****************************************************************************</span>
<a name="l01042"></a>01042 <span class="comment">//</span>
<a name="l01090"></a>01090 <span class="comment"></span><span class="comment">//</span>
<a name="l01091"></a>01091 <span class="comment">//*****************************************************************************</span>
<a name="l01092"></a>01092 <span class="keywordtype">void</span>
<a name="l01093"></a><a class="code" href="group__sysctl__api.html#gad412f63e83618b3085f324778b1fd606">01093</a> <a class="code" href="group__sysctl__api.html#gad412f63e83618b3085f324778b1fd606">SysCtlPeripheralDeepSleepEnable</a>(uint32_t ui32Peripheral)
<a name="l01094"></a>01094 {
<a name="l01095"></a>01095     <span class="comment">//</span>
<a name="l01096"></a>01096     <span class="comment">// Check the arguments.</span>
<a name="l01097"></a>01097     <span class="comment">//</span>
<a name="l01098"></a>01098     <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(_SysCtlPeripheralValid(ui32Peripheral));
<a name="l01099"></a>01099 
<a name="l01100"></a>01100     <span class="comment">//</span>
<a name="l01101"></a>01101     <span class="comment">// Enable this peripheral in deep-sleep mode.</span>
<a name="l01102"></a>01102     <span class="comment">//</span>
<a name="l01103"></a>01103     <a class="code" href="hw__types_8h.html#afc61bb0c136a7acdb99ebaf93799c7be">HWREGBITW</a>(<a class="code" href="group__sysctl__api.html#ga66fef5e82d99e1417797cf570cc8574f">SYSCTL_DCGCBASE</a> + ((ui32Peripheral &amp; 0xff00) &gt;&gt; 8),
<a name="l01104"></a>01104               ui32Peripheral &amp; 0xff) = 1;
<a name="l01105"></a>01105 }
<a name="l01106"></a>01106 
<a name="l01107"></a>01107 <span class="comment">//*****************************************************************************</span>
<a name="l01108"></a>01108 <span class="comment">//</span>
<a name="l01158"></a>01158 <span class="comment"></span><span class="comment">//</span>
<a name="l01159"></a>01159 <span class="comment">//*****************************************************************************</span>
<a name="l01160"></a>01160 <span class="keywordtype">void</span>
<a name="l01161"></a><a class="code" href="group__sysctl__api.html#ga8f46fff4f83f6e6771b9839fe58d209a">01161</a> <a class="code" href="group__sysctl__api.html#ga8f46fff4f83f6e6771b9839fe58d209a">SysCtlPeripheralDeepSleepDisable</a>(uint32_t ui32Peripheral)
<a name="l01162"></a>01162 {
<a name="l01163"></a>01163     <span class="comment">//</span>
<a name="l01164"></a>01164     <span class="comment">// Check the arguments.</span>
<a name="l01165"></a>01165     <span class="comment">//</span>
<a name="l01166"></a>01166     <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(_SysCtlPeripheralValid(ui32Peripheral));
<a name="l01167"></a>01167 
<a name="l01168"></a>01168     <span class="comment">//</span>
<a name="l01169"></a>01169     <span class="comment">// Disable this peripheral in deep-sleep mode.</span>
<a name="l01170"></a>01170     <span class="comment">//</span>
<a name="l01171"></a>01171     <a class="code" href="hw__types_8h.html#afc61bb0c136a7acdb99ebaf93799c7be">HWREGBITW</a>(<a class="code" href="group__sysctl__api.html#ga66fef5e82d99e1417797cf570cc8574f">SYSCTL_DCGCBASE</a> + ((ui32Peripheral &amp; 0xff00) &gt;&gt; 8),
<a name="l01172"></a>01172               ui32Peripheral &amp; 0xff) = 0;
<a name="l01173"></a>01173 }
<a name="l01174"></a>01174 
<a name="l01175"></a>01175 <span class="comment">//*****************************************************************************</span>
<a name="l01176"></a>01176 <span class="comment">//</span>
<a name="l01190"></a>01190 <span class="comment"></span><span class="comment">//</span>
<a name="l01191"></a>01191 <span class="comment">//*****************************************************************************</span>
<a name="l01192"></a>01192 <span class="keywordtype">void</span>
<a name="l01193"></a><a class="code" href="group__sysctl__api.html#ga0ad7b6dcec84339f2bbb8663551cc7d8">01193</a> <a class="code" href="group__sysctl__api.html#ga0ad7b6dcec84339f2bbb8663551cc7d8">SysCtlPeripheralClockGating</a>(<span class="keywordtype">bool</span> bEnable)
<a name="l01194"></a>01194 {
<a name="l01195"></a>01195     <span class="keywordflow">if</span>(<a class="code" href="hw__types_8h.html#aed400510c15509bdc6296e5c233f6cd3">CLASS_IS_TM4C123</a>)
<a name="l01196"></a>01196     {
<a name="l01197"></a>01197         <span class="comment">//</span>
<a name="l01198"></a>01198         <span class="comment">// Enable peripheral clock gating as requested.</span>
<a name="l01199"></a>01199         <span class="comment">//</span>
<a name="l01200"></a>01200         <span class="keywordflow">if</span>(bEnable)
<a name="l01201"></a>01201         {
<a name="l01202"></a>01202             <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a23e27fd6ce8421975c6d703068dc8fea">SYSCTL_RCC</a>) |= <a class="code" href="hw__sysctl_8h.html#a5590c014f49535187c545a5ab327e6a3">SYSCTL_RCC_ACG</a>;
<a name="l01203"></a>01203         }
<a name="l01204"></a>01204         <span class="keywordflow">else</span>
<a name="l01205"></a>01205         {
<a name="l01206"></a>01206             <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a23e27fd6ce8421975c6d703068dc8fea">SYSCTL_RCC</a>) &amp;= ~(<a class="code" href="hw__sysctl_8h.html#a5590c014f49535187c545a5ab327e6a3">SYSCTL_RCC_ACG</a>);
<a name="l01207"></a>01207         }
<a name="l01208"></a>01208     }
<a name="l01209"></a>01209     <span class="keywordflow">else</span>
<a name="l01210"></a>01210     {
<a name="l01211"></a>01211         <span class="comment">//</span>
<a name="l01212"></a>01212         <span class="comment">// Enable peripheral clock gating as requested.</span>
<a name="l01213"></a>01213         <span class="comment">//</span>
<a name="l01214"></a>01214         <span class="keywordflow">if</span>(bEnable)
<a name="l01215"></a>01215         {
<a name="l01216"></a>01216             <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a0a46cac92f10630390e04ad38d1400db">SYSCTL_RSCLKCFG</a>) |= <a class="code" href="hw__sysctl_8h.html#addd1e308ba0e77bf8bdbac43086bb55a">SYSCTL_RSCLKCFG_ACG</a>;
<a name="l01217"></a>01217         }
<a name="l01218"></a>01218         <span class="keywordflow">else</span>
<a name="l01219"></a>01219         {
<a name="l01220"></a>01220             <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a0a46cac92f10630390e04ad38d1400db">SYSCTL_RSCLKCFG</a>) &amp;= ~<a class="code" href="hw__sysctl_8h.html#addd1e308ba0e77bf8bdbac43086bb55a">SYSCTL_RSCLKCFG_ACG</a>;
<a name="l01221"></a>01221         }
<a name="l01222"></a>01222     }
<a name="l01223"></a>01223 }
<a name="l01224"></a>01224 
<a name="l01225"></a>01225 <span class="comment">//*****************************************************************************</span>
<a name="l01226"></a>01226 <span class="comment">//</span>
<a name="l01251"></a>01251 <span class="comment"></span><span class="comment">//</span>
<a name="l01252"></a>01252 <span class="comment">//*****************************************************************************</span>
<a name="l01253"></a>01253 <span class="keywordtype">void</span>
<a name="l01254"></a><a class="code" href="group__sysctl__api.html#gaad3caf3c0e7eddea266b7dc2fcb121c4">01254</a> <a class="code" href="group__sysctl__api.html#gaad3caf3c0e7eddea266b7dc2fcb121c4">SysCtlIntRegister</a>(<span class="keywordtype">void</span> (*pfnHandler)(<span class="keywordtype">void</span>))
<a name="l01255"></a>01255 {
<a name="l01256"></a>01256     <span class="comment">//</span>
<a name="l01257"></a>01257     <span class="comment">// Register the interrupt handler, returning an error if an error occurs.</span>
<a name="l01258"></a>01258     <span class="comment">//</span>
<a name="l01259"></a>01259     <a class="code" href="group__interrupt__api.html#ga0a32aafea7f4904d2a64ee18b45f96c9">IntRegister</a>(<a class="code" href="hw__ints_8h.html#a1acdd1a17f44367a790efa03d67aa0a1">INT_SYSCTL_TM4C123</a>, pfnHandler);
<a name="l01260"></a>01260 
<a name="l01261"></a>01261     <span class="comment">//</span>
<a name="l01262"></a>01262     <span class="comment">// Enable the system control interrupt.</span>
<a name="l01263"></a>01263     <span class="comment">//</span>
<a name="l01264"></a>01264     <a class="code" href="group__interrupt__api.html#ga49fc9c3d1a0f8c42a20249f8c5d360ce">IntEnable</a>(<a class="code" href="hw__ints_8h.html#a1acdd1a17f44367a790efa03d67aa0a1">INT_SYSCTL_TM4C123</a>);
<a name="l01265"></a>01265 }
<a name="l01266"></a>01266 
<a name="l01267"></a>01267 <span class="comment">//*****************************************************************************</span>
<a name="l01268"></a>01268 <span class="comment">//</span>
<a name="l01279"></a>01279 <span class="comment"></span><span class="comment">//</span>
<a name="l01280"></a>01280 <span class="comment">//*****************************************************************************</span>
<a name="l01281"></a>01281 <span class="keywordtype">void</span>
<a name="l01282"></a><a class="code" href="group__sysctl__api.html#ga96fa0579c653617672244b6a280d9897">01282</a> <a class="code" href="group__sysctl__api.html#ga96fa0579c653617672244b6a280d9897">SysCtlIntUnregister</a>(<span class="keywordtype">void</span>)
<a name="l01283"></a>01283 {
<a name="l01284"></a>01284     <span class="comment">//</span>
<a name="l01285"></a>01285     <span class="comment">// Disable the interrupt.</span>
<a name="l01286"></a>01286     <span class="comment">//</span>
<a name="l01287"></a>01287     <a class="code" href="group__interrupt__api.html#ga9af6b00884dc44e92b3d05ff821b5334">IntDisable</a>(<a class="code" href="hw__ints_8h.html#a1acdd1a17f44367a790efa03d67aa0a1">INT_SYSCTL_TM4C123</a>);
<a name="l01288"></a>01288 
<a name="l01289"></a>01289     <span class="comment">//</span>
<a name="l01290"></a>01290     <span class="comment">// Unregister the interrupt handler.</span>
<a name="l01291"></a>01291     <span class="comment">//</span>
<a name="l01292"></a>01292     <a class="code" href="group__interrupt__api.html#ga5dffc81c27c005f83e9bfc30f775982a">IntUnregister</a>(<a class="code" href="hw__ints_8h.html#a1acdd1a17f44367a790efa03d67aa0a1">INT_SYSCTL_TM4C123</a>);
<a name="l01293"></a>01293 }
<a name="l01294"></a>01294 
<a name="l01295"></a>01295 <span class="comment">//*****************************************************************************</span>
<a name="l01296"></a>01296 <span class="comment">//</span>
<a name="l01314"></a>01314 <span class="comment"></span><span class="comment">//</span>
<a name="l01315"></a>01315 <span class="comment">//*****************************************************************************</span>
<a name="l01316"></a>01316 <span class="keywordtype">void</span>
<a name="l01317"></a><a class="code" href="group__sysctl__api.html#ga4d75a6ab7e4a0d8fb88d7ef9359b2adb">01317</a> <a class="code" href="group__sysctl__api.html#ga4d75a6ab7e4a0d8fb88d7ef9359b2adb">SysCtlIntEnable</a>(uint32_t ui32Ints)
<a name="l01318"></a>01318 {
<a name="l01319"></a>01319     <span class="comment">//</span>
<a name="l01320"></a>01320     <span class="comment">// Enable the specified interrupts.</span>
<a name="l01321"></a>01321     <span class="comment">//</span>
<a name="l01322"></a>01322     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a846407f0f364f2507891553773c77d19">SYSCTL_IMC</a>) |= ui32Ints;
<a name="l01323"></a>01323 }
<a name="l01324"></a>01324 
<a name="l01325"></a>01325 <span class="comment">//*****************************************************************************</span>
<a name="l01326"></a>01326 <span class="comment">//</span>
<a name="l01344"></a>01344 <span class="comment"></span><span class="comment">//</span>
<a name="l01345"></a>01345 <span class="comment">//*****************************************************************************</span>
<a name="l01346"></a>01346 <span class="keywordtype">void</span>
<a name="l01347"></a><a class="code" href="group__sysctl__api.html#gaae3131c668931a976c6005d17135693b">01347</a> <a class="code" href="group__sysctl__api.html#gaae3131c668931a976c6005d17135693b">SysCtlIntDisable</a>(uint32_t ui32Ints)
<a name="l01348"></a>01348 {
<a name="l01349"></a>01349     <span class="comment">//</span>
<a name="l01350"></a>01350     <span class="comment">// Disable the specified interrupts.</span>
<a name="l01351"></a>01351     <span class="comment">//</span>
<a name="l01352"></a>01352     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a846407f0f364f2507891553773c77d19">SYSCTL_IMC</a>) &amp;= ~(ui32Ints);
<a name="l01353"></a>01353 }
<a name="l01354"></a>01354 
<a name="l01355"></a>01355 <span class="comment">//*****************************************************************************</span>
<a name="l01356"></a>01356 <span class="comment">//</span>
<a name="l01383"></a>01383 <span class="comment"></span><span class="comment">//</span>
<a name="l01384"></a>01384 <span class="comment">//*****************************************************************************</span>
<a name="l01385"></a>01385 <span class="keywordtype">void</span>
<a name="l01386"></a><a class="code" href="group__sysctl__api.html#gad6c94773880c951cdfe70b387626d081">01386</a> <a class="code" href="group__sysctl__api.html#gad6c94773880c951cdfe70b387626d081">SysCtlIntClear</a>(uint32_t ui32Ints)
<a name="l01387"></a>01387 {
<a name="l01388"></a>01388     <span class="comment">//</span>
<a name="l01389"></a>01389     <span class="comment">// Clear the requested interrupt sources.</span>
<a name="l01390"></a>01390     <span class="comment">//</span>
<a name="l01391"></a>01391     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a4f9f87f9381b3da165a82bde242d5e61">SYSCTL_MISC</a>) = ui32Ints;
<a name="l01392"></a>01392 }
<a name="l01393"></a>01393 
<a name="l01394"></a>01394 <span class="comment">//*****************************************************************************</span>
<a name="l01395"></a>01395 <span class="comment">//</span>
<a name="l01414"></a>01414 <span class="comment"></span><span class="comment">//</span>
<a name="l01415"></a>01415 <span class="comment">//*****************************************************************************</span>
<a name="l01416"></a>01416 uint32_t
<a name="l01417"></a><a class="code" href="group__sysctl__api.html#gab10bfca29c2ba2a5ad80f8c57192ef7d">01417</a> <a class="code" href="group__sysctl__api.html#gab10bfca29c2ba2a5ad80f8c57192ef7d">SysCtlIntStatus</a>(<span class="keywordtype">bool</span> bMasked)
<a name="l01418"></a>01418 {
<a name="l01419"></a>01419     <span class="comment">//</span>
<a name="l01420"></a>01420     <span class="comment">// Return either the interrupt status or the raw interrupt status as</span>
<a name="l01421"></a>01421     <span class="comment">// requested.</span>
<a name="l01422"></a>01422     <span class="comment">//</span>
<a name="l01423"></a>01423     <span class="keywordflow">if</span>(bMasked)
<a name="l01424"></a>01424     {
<a name="l01425"></a>01425         <span class="keywordflow">return</span>(<a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a4f9f87f9381b3da165a82bde242d5e61">SYSCTL_MISC</a>));
<a name="l01426"></a>01426     }
<a name="l01427"></a>01427     <span class="keywordflow">else</span>
<a name="l01428"></a>01428     {
<a name="l01429"></a>01429         <span class="keywordflow">return</span>(<a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a1c81f0f10746ec3948b6f46b4d06583f">SYSCTL_RIS</a>));
<a name="l01430"></a>01430     }
<a name="l01431"></a>01431 }
<a name="l01432"></a>01432 
<a name="l01433"></a>01433 <span class="comment">//*****************************************************************************</span>
<a name="l01434"></a>01434 <span class="comment">//</span>
<a name="l01452"></a>01452 <span class="comment"></span><span class="comment">//</span>
<a name="l01453"></a>01453 <span class="comment">//*****************************************************************************</span>
<a name="l01454"></a>01454 <span class="keywordtype">void</span>
<a name="l01455"></a><a class="code" href="group__sysctl__api.html#ga8341b222d20f658e2507540aeafe4c55">01455</a> <a class="code" href="group__sysctl__api.html#ga8341b222d20f658e2507540aeafe4c55">SysCtlLDOSleepSet</a>(uint32_t ui32Voltage)
<a name="l01456"></a>01456 {
<a name="l01457"></a>01457     <span class="comment">//</span>
<a name="l01458"></a>01458     <span class="comment">// Check the arguments.</span>
<a name="l01459"></a>01459     <span class="comment">//</span>
<a name="l01460"></a>01460     <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32Voltage == <a class="code" href="sysctl_8h.html#ad4dba90f599e473cd8672b03c2074374">SYSCTL_LDO_0_90V</a>) ||
<a name="l01461"></a>01461            (ui32Voltage == <a class="code" href="sysctl_8h.html#a9cd605449d3ef10ce137d15b6af3030d">SYSCTL_LDO_0_95V</a>) ||
<a name="l01462"></a>01462            (ui32Voltage == <a class="code" href="sysctl_8h.html#ad7f1e108d4a398ce2eb6319f03fee705">SYSCTL_LDO_1_00V</a>) ||
<a name="l01463"></a>01463            (ui32Voltage == <a class="code" href="sysctl_8h.html#aa77ea22048837f836a82622de6cddc13">SYSCTL_LDO_1_05V</a>) ||
<a name="l01464"></a>01464            (ui32Voltage == <a class="code" href="sysctl_8h.html#a09c0ed06c3edb8f42ba1a7929d502b0d">SYSCTL_LDO_1_10V</a>) ||
<a name="l01465"></a>01465            (ui32Voltage == <a class="code" href="sysctl_8h.html#a252d5491b269181d654c67adb09cfacf">SYSCTL_LDO_1_15V</a>) ||
<a name="l01466"></a>01466            (ui32Voltage == <a class="code" href="sysctl_8h.html#a13f159c9abeea69a8c1f5a5e3dd06bae">SYSCTL_LDO_1_20V</a>));
<a name="l01467"></a>01467 
<a name="l01468"></a>01468     <span class="comment">//</span>
<a name="l01469"></a>01469     <span class="comment">// Set the sleep-mode LDO voltage to the requested value.</span>
<a name="l01470"></a>01470     <span class="comment">//</span>
<a name="l01471"></a>01471     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a9901021480b8a0d11c504478aee7b78d">SYSCTL_LDOSPCTL</a>) = ui32Voltage;
<a name="l01472"></a>01472 }
<a name="l01473"></a>01473 
<a name="l01474"></a>01474 <span class="comment">//*****************************************************************************</span>
<a name="l01475"></a>01475 <span class="comment">//</span>
<a name="l01490"></a>01490 <span class="comment"></span><span class="comment">//</span>
<a name="l01491"></a>01491 <span class="comment">//*****************************************************************************</span>
<a name="l01492"></a>01492 uint32_t
<a name="l01493"></a><a class="code" href="group__sysctl__api.html#gab7ece7aa0f01d403375b329b615965b9">01493</a> <a class="code" href="group__sysctl__api.html#gab7ece7aa0f01d403375b329b615965b9">SysCtlLDOSleepGet</a>(<span class="keywordtype">void</span>)
<a name="l01494"></a>01494 {
<a name="l01495"></a>01495     <span class="comment">//</span>
<a name="l01496"></a>01496     <span class="comment">// Return the sleep-mode LDO voltage setting.</span>
<a name="l01497"></a>01497     <span class="comment">//</span>
<a name="l01498"></a>01498     <span class="keywordflow">return</span>(<a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a9901021480b8a0d11c504478aee7b78d">SYSCTL_LDOSPCTL</a>));
<a name="l01499"></a>01499 }
<a name="l01500"></a>01500 
<a name="l01501"></a>01501 <span class="comment">//*****************************************************************************</span>
<a name="l01502"></a>01502 <span class="comment">//</span>
<a name="l01521"></a>01521 <span class="comment"></span><span class="comment">//</span>
<a name="l01522"></a>01522 <span class="comment">//*****************************************************************************</span>
<a name="l01523"></a>01523 <span class="keywordtype">void</span>
<a name="l01524"></a><a class="code" href="group__sysctl__api.html#gae3647a438a01f95e022cbada36e3ef90">01524</a> <a class="code" href="group__sysctl__api.html#gae3647a438a01f95e022cbada36e3ef90">SysCtlLDODeepSleepSet</a>(uint32_t ui32Voltage)
<a name="l01525"></a>01525 {
<a name="l01526"></a>01526     <span class="comment">//</span>
<a name="l01527"></a>01527     <span class="comment">// Check the arguments.</span>
<a name="l01528"></a>01528     <span class="comment">//</span>
<a name="l01529"></a>01529     <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32Voltage == <a class="code" href="sysctl_8h.html#ad4dba90f599e473cd8672b03c2074374">SYSCTL_LDO_0_90V</a>) ||
<a name="l01530"></a>01530            (ui32Voltage == <a class="code" href="sysctl_8h.html#a9cd605449d3ef10ce137d15b6af3030d">SYSCTL_LDO_0_95V</a>) ||
<a name="l01531"></a>01531            (ui32Voltage == <a class="code" href="sysctl_8h.html#ad7f1e108d4a398ce2eb6319f03fee705">SYSCTL_LDO_1_00V</a>) ||
<a name="l01532"></a>01532            (ui32Voltage == <a class="code" href="sysctl_8h.html#aa77ea22048837f836a82622de6cddc13">SYSCTL_LDO_1_05V</a>) ||
<a name="l01533"></a>01533            (ui32Voltage == <a class="code" href="sysctl_8h.html#a09c0ed06c3edb8f42ba1a7929d502b0d">SYSCTL_LDO_1_10V</a>) ||
<a name="l01534"></a>01534            (ui32Voltage == <a class="code" href="sysctl_8h.html#a252d5491b269181d654c67adb09cfacf">SYSCTL_LDO_1_15V</a>) ||
<a name="l01535"></a>01535            (ui32Voltage == <a class="code" href="sysctl_8h.html#a13f159c9abeea69a8c1f5a5e3dd06bae">SYSCTL_LDO_1_20V</a>));
<a name="l01536"></a>01536 
<a name="l01537"></a>01537     <span class="comment">//</span>
<a name="l01538"></a>01538     <span class="comment">// Set the deep-sleep LDO voltage to the requested value.</span>
<a name="l01539"></a>01539     <span class="comment">//</span>
<a name="l01540"></a>01540     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#af8e591fe4a8479f685feffa427bcc9ad">SYSCTL_LDODPCTL</a>) = ui32Voltage;
<a name="l01541"></a>01541 }
<a name="l01542"></a>01542 
<a name="l01543"></a>01543 <span class="comment">//*****************************************************************************</span>
<a name="l01544"></a>01544 <span class="comment">//</span>
<a name="l01560"></a>01560 <span class="comment"></span><span class="comment">//</span>
<a name="l01561"></a>01561 <span class="comment">//*****************************************************************************</span>
<a name="l01562"></a>01562 uint32_t
<a name="l01563"></a><a class="code" href="group__sysctl__api.html#ga42bfcfe02f41590d06d6f58f6486357e">01563</a> <a class="code" href="group__sysctl__api.html#ga42bfcfe02f41590d06d6f58f6486357e">SysCtlLDODeepSleepGet</a>(<span class="keywordtype">void</span>)
<a name="l01564"></a>01564 {
<a name="l01565"></a>01565     <span class="comment">//</span>
<a name="l01566"></a>01566     <span class="comment">// Return the deep-sleep-mode LDO voltage setting.</span>
<a name="l01567"></a>01567     <span class="comment">//</span>
<a name="l01568"></a>01568     <span class="keywordflow">return</span>(<a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#af8e591fe4a8479f685feffa427bcc9ad">SYSCTL_LDODPCTL</a>));
<a name="l01569"></a>01569 }
<a name="l01570"></a>01570 
<a name="l01571"></a>01571 <span class="comment">//*****************************************************************************</span>
<a name="l01572"></a>01572 <span class="comment">//</span>
<a name="l01602"></a>01602 <span class="comment"></span><span class="comment">//</span>
<a name="l01603"></a>01603 <span class="comment">//*****************************************************************************</span>
<a name="l01604"></a>01604 <span class="keywordtype">void</span>
<a name="l01605"></a><a class="code" href="group__sysctl__api.html#gab2e05e98db611a541c28f2c218952282">01605</a> <a class="code" href="group__sysctl__api.html#gab2e05e98db611a541c28f2c218952282">SysCtlSleepPowerSet</a>(uint32_t ui32Config)
<a name="l01606"></a>01606 {
<a name="l01607"></a>01607     <span class="comment">//</span>
<a name="l01608"></a>01608     <span class="comment">// Set the sleep-mode flash and SRAM power configuration.</span>
<a name="l01609"></a>01609     <span class="comment">//</span>
<a name="l01610"></a>01610     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#aac24e047d3d3e2d2a69c522910ba1bb2">SYSCTL_SLPPWRCFG</a>) = ui32Config;
<a name="l01611"></a>01611 }
<a name="l01612"></a>01612 
<a name="l01613"></a>01613 <span class="comment">//*****************************************************************************</span>
<a name="l01614"></a>01614 <span class="comment">//</span>
<a name="l01646"></a>01646 <span class="comment"></span><span class="comment">//</span>
<a name="l01647"></a>01647 <span class="comment">//*****************************************************************************</span>
<a name="l01648"></a>01648 <span class="keywordtype">void</span>
<a name="l01649"></a><a class="code" href="group__sysctl__api.html#gab2db971f213bf6250c763840a2b44585">01649</a> <a class="code" href="group__sysctl__api.html#gab2db971f213bf6250c763840a2b44585">SysCtlDeepSleepPowerSet</a>(uint32_t ui32Config)
<a name="l01650"></a>01650 {
<a name="l01651"></a>01651     <span class="comment">//</span>
<a name="l01652"></a>01652     <span class="comment">// Set the deep-sleep-mode flash and SRAM power configuration.</span>
<a name="l01653"></a>01653     <span class="comment">//</span>
<a name="l01654"></a>01654     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a1e21c2b8e869e86658fcc4b44c81ac7b">SYSCTL_DSLPPWRCFG</a>) = ui32Config;
<a name="l01655"></a>01655 }
<a name="l01656"></a>01656 
<a name="l01657"></a>01657 <span class="comment">//*****************************************************************************</span>
<a name="l01658"></a>01658 <span class="comment">//</span>
<a name="l01668"></a>01668 <span class="comment"></span><span class="comment">//</span>
<a name="l01669"></a>01669 <span class="comment">//*****************************************************************************</span>
<a name="l01670"></a>01670 <span class="keywordtype">void</span>
<a name="l01671"></a><a class="code" href="group__sysctl__api.html#ga7e7eaf3273efa935f7bedfd3760d11b8">01671</a> <a class="code" href="group__sysctl__api.html#ga7e7eaf3273efa935f7bedfd3760d11b8">SysCtlReset</a>(<span class="keywordtype">void</span>)
<a name="l01672"></a>01672 {
<a name="l01673"></a>01673     <span class="comment">//</span>
<a name="l01674"></a>01674     <span class="comment">// Perform a software reset request.  This request causes the device to</span>
<a name="l01675"></a>01675     <span class="comment">// reset, no further code is executed.</span>
<a name="l01676"></a>01676     <span class="comment">//</span>
<a name="l01677"></a>01677     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__nvic_8h.html#a4b8063473ed37bbc7f9a41da65b9c2ad">NVIC_APINT</a>) = <a class="code" href="hw__nvic_8h.html#ab4aac1a401683ddc647b4bd27d6c1e07">NVIC_APINT_VECTKEY</a> | <a class="code" href="hw__nvic_8h.html#a2622822940e2c6c4783085c6b4717213">NVIC_APINT_SYSRESETREQ</a>;
<a name="l01678"></a>01678 
<a name="l01679"></a>01679     <span class="comment">//</span>
<a name="l01680"></a>01680     <span class="comment">// The device should have reset, so this should never be reached.  Just in</span>
<a name="l01681"></a>01681     <span class="comment">// case, loop forever.</span>
<a name="l01682"></a>01682     <span class="comment">//</span>
<a name="l01683"></a>01683     <span class="keywordflow">while</span>(1)
<a name="l01684"></a>01684     {
<a name="l01685"></a>01685     }
<a name="l01686"></a>01686 }
<a name="l01687"></a>01687 
<a name="l01688"></a>01688 <span class="comment">//*****************************************************************************</span>
<a name="l01689"></a>01689 <span class="comment">//</span>
<a name="l01700"></a>01700 <span class="comment"></span><span class="comment">//</span>
<a name="l01701"></a>01701 <span class="comment">//*****************************************************************************</span>
<a name="l01702"></a>01702 <span class="keywordtype">void</span>
<a name="l01703"></a><a class="code" href="group__sysctl__api.html#ga90efcbaddc41095b9567cae626aaeb2c">01703</a> <a class="code" href="group__sysctl__api.html#ga90efcbaddc41095b9567cae626aaeb2c">SysCtlSleep</a>(<span class="keywordtype">void</span>)
<a name="l01704"></a>01704 {
<a name="l01705"></a>01705     <span class="comment">//</span>
<a name="l01706"></a>01706     <span class="comment">// Wait for an interrupt.</span>
<a name="l01707"></a>01707     <span class="comment">//</span>
<a name="l01708"></a>01708     <a class="code" href="cpu_8h.html#ad86bb26882bba3e9be5cea3b92a9e02f">CPUwfi</a>();
<a name="l01709"></a>01709 }
<a name="l01710"></a>01710 
<a name="l01711"></a>01711 <span class="comment">//*****************************************************************************</span>
<a name="l01712"></a>01712 <span class="comment">//</span>
<a name="l01723"></a>01723 <span class="comment"></span><span class="comment">//</span>
<a name="l01724"></a>01724 <span class="comment">//*****************************************************************************</span>
<a name="l01725"></a>01725 <span class="keywordtype">void</span>
<a name="l01726"></a><a class="code" href="group__sysctl__api.html#gac54fcca75df0066bd2b2ecdf92c0eda2">01726</a> <a class="code" href="group__sysctl__api.html#gac54fcca75df0066bd2b2ecdf92c0eda2">SysCtlDeepSleep</a>(<span class="keywordtype">void</span>)
<a name="l01727"></a>01727 {
<a name="l01728"></a>01728     <span class="comment">//</span>
<a name="l01729"></a>01729     <span class="comment">// Enable deep-sleep.</span>
<a name="l01730"></a>01730     <span class="comment">//</span>
<a name="l01731"></a>01731     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__nvic_8h.html#a15f41c2b54e21dc9abb03e5d0a7c719d">NVIC_SYS_CTRL</a>) |= <a class="code" href="hw__nvic_8h.html#a903c1896b1acfbe0738b762c985dc62a">NVIC_SYS_CTRL_SLEEPDEEP</a>;
<a name="l01732"></a>01732 
<a name="l01733"></a>01733     <span class="comment">//</span>
<a name="l01734"></a>01734     <span class="comment">// Wait for an interrupt.</span>
<a name="l01735"></a>01735     <span class="comment">//</span>
<a name="l01736"></a>01736     <a class="code" href="cpu_8h.html#ad86bb26882bba3e9be5cea3b92a9e02f">CPUwfi</a>();
<a name="l01737"></a>01737 
<a name="l01738"></a>01738     <span class="comment">//</span>
<a name="l01739"></a>01739     <span class="comment">// Disable deep-sleep so that a future sleep works correctly.</span>
<a name="l01740"></a>01740     <span class="comment">//</span>
<a name="l01741"></a>01741     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__nvic_8h.html#a15f41c2b54e21dc9abb03e5d0a7c719d">NVIC_SYS_CTRL</a>) &amp;= ~(<a class="code" href="hw__nvic_8h.html#a903c1896b1acfbe0738b762c985dc62a">NVIC_SYS_CTRL_SLEEPDEEP</a>);
<a name="l01742"></a>01742 }
<a name="l01743"></a>01743 
<a name="l01744"></a>01744 <span class="comment">//*****************************************************************************</span>
<a name="l01745"></a>01745 <span class="comment">//</span>
<a name="l01757"></a>01757 <span class="comment"></span><span class="comment">//</span>
<a name="l01758"></a>01758 <span class="comment">//*****************************************************************************</span>
<a name="l01759"></a>01759 uint32_t
<a name="l01760"></a><a class="code" href="group__sysctl__api.html#ga1afa3bfa9b77ae24b8acdb0147496f5a">01760</a> <a class="code" href="group__sysctl__api.html#ga1afa3bfa9b77ae24b8acdb0147496f5a">SysCtlResetCauseGet</a>(<span class="keywordtype">void</span>)
<a name="l01761"></a>01761 {
<a name="l01762"></a>01762     <span class="comment">//</span>
<a name="l01763"></a>01763     <span class="comment">// Return the reset reasons.</span>
<a name="l01764"></a>01764     <span class="comment">//</span>
<a name="l01765"></a>01765     <span class="keywordflow">return</span>(<a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#ab6b8c95db38367853b060f1c7fa53121">SYSCTL_RESC</a>));
<a name="l01766"></a>01766 }
<a name="l01767"></a>01767 
<a name="l01768"></a>01768 <span class="comment">//*****************************************************************************</span>
<a name="l01769"></a>01769 <span class="comment">//</span>
<a name="l01784"></a>01784 <span class="comment"></span><span class="comment">//</span>
<a name="l01785"></a>01785 <span class="comment">//*****************************************************************************</span>
<a name="l01786"></a>01786 <span class="keywordtype">void</span>
<a name="l01787"></a><a class="code" href="group__sysctl__api.html#gab9735274e5c9468bb55ecde9ca07bfb1">01787</a> <a class="code" href="group__sysctl__api.html#gab9735274e5c9468bb55ecde9ca07bfb1">SysCtlResetCauseClear</a>(uint32_t ui32Causes)
<a name="l01788"></a>01788 {
<a name="l01789"></a>01789     <span class="comment">//</span>
<a name="l01790"></a>01790     <span class="comment">// Clear the given reset reasons.</span>
<a name="l01791"></a>01791     <span class="comment">//</span>
<a name="l01792"></a>01792     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#ab6b8c95db38367853b060f1c7fa53121">SYSCTL_RESC</a>) &amp;= ~(ui32Causes);
<a name="l01793"></a>01793 }
<a name="l01794"></a>01794 
<a name="l01795"></a>01795 <span class="comment">//*****************************************************************************</span>
<a name="l01796"></a>01796 <span class="comment">//</span>
<a name="l01822"></a>01822 <span class="comment"></span><span class="comment">//</span>
<a name="l01823"></a>01823 <span class="comment">//*****************************************************************************</span>
<a name="l01824"></a>01824 <span class="preprocessor">#if defined(ewarm) || defined(DOXYGEN)</span>
<a name="l01825"></a>01825 <span class="preprocessor"></span><span class="keywordtype">void</span>
<a name="l01826"></a>01826 <a class="code" href="sysctl_8h.html#a992a7493f587384e949178cdc4063042">SysCtlDelay</a>(uint32_t ui32Count)
<a name="l01827"></a>01827 {
<a name="l01828"></a>01828     __asm(<span class="stringliteral">&quot;    subs    r0, #1\n&quot;</span>
<a name="l01829"></a>01829           <span class="stringliteral">&quot;    bne.n   SysCtlDelay\n&quot;</span>
<a name="l01830"></a>01830           <span class="stringliteral">&quot;    bx      lr&quot;</span>);
<a name="l01831"></a>01831 }
<a name="l01832"></a>01832 <span class="preprocessor">#endif</span>
<a name="l01833"></a>01833 <span class="preprocessor"></span><span class="preprocessor">#if defined(codered) || defined(gcc) || defined(sourcerygxx)</span>
<a name="l01834"></a>01834 <span class="preprocessor"></span><span class="keywordtype">void</span> <a class="code" href="blinky_2startup__gcc_8c.html#a201468129b483039afc5a619e2d31097">__attribute__</a>((naked))
<a name="l01835"></a>01835 <a class="code" href="sysctl_8h.html#a992a7493f587384e949178cdc4063042">SysCtlDelay</a>(uint32_t ui32Count)
<a name="l01836"></a>01836 {
<a name="l01837"></a>01837     __asm(<span class="stringliteral">&quot;    subs    r0, #1\n&quot;</span>
<a name="l01838"></a>01838           <span class="stringliteral">&quot;    bne     SysCtlDelay\n&quot;</span>
<a name="l01839"></a>01839           <span class="stringliteral">&quot;    bx      lr&quot;</span>);
<a name="l01840"></a>01840 }
<a name="l01841"></a>01841 <span class="preprocessor">#endif</span>
<a name="l01842"></a>01842 <span class="preprocessor"></span><span class="preprocessor">#if defined(rvmdk) || defined(__ARMCC_VERSION)</span>
<a name="l01843"></a>01843 <span class="preprocessor"></span>__asm <span class="keywordtype">void</span>
<a name="l01844"></a>01844 <a class="code" href="sysctl_8h.html#a992a7493f587384e949178cdc4063042">SysCtlDelay</a>(uint32_t ui32Count)
<a name="l01845"></a>01845 {
<a name="l01846"></a>01846     subs    r0, #1;
<a name="l01847"></a>01847     bne     <a class="code" href="sysctl_8h.html#a992a7493f587384e949178cdc4063042">SysCtlDelay</a>;
<a name="l01848"></a>01848     bx      lr;
<a name="l01849"></a>01849 }
<a name="l01850"></a>01850 <span class="preprocessor">#endif</span>
<a name="l01851"></a>01851 <span class="preprocessor"></span><span class="comment">//</span>
<a name="l01852"></a>01852 <span class="comment">// For CCS implement this function in pure assembly.  This prevents the TI</span>
<a name="l01853"></a>01853 <span class="comment">// compiler from doing funny things with the optimizer.</span>
<a name="l01854"></a>01854 <span class="comment">//</span>
<a name="l01855"></a>01855 <span class="preprocessor">#if defined(ccs)</span>
<a name="l01856"></a>01856 <span class="preprocessor"></span>__asm(<span class="stringliteral">&quot;    .sect \&quot;.text:SysCtlDelay\&quot;\n&quot;</span>
<a name="l01857"></a>01857       <span class="stringliteral">&quot;    .clink\n&quot;</span>
<a name="l01858"></a>01858       <span class="stringliteral">&quot;    .thumbfunc SysCtlDelay\n&quot;</span>
<a name="l01859"></a>01859       <span class="stringliteral">&quot;    .thumb\n&quot;</span>
<a name="l01860"></a>01860       <span class="stringliteral">&quot;    .global SysCtlDelay\n&quot;</span>
<a name="l01861"></a>01861       <span class="stringliteral">&quot;SysCtlDelay:\n&quot;</span>
<a name="l01862"></a>01862       <span class="stringliteral">&quot;    subs r0, #1\n&quot;</span>
<a name="l01863"></a>01863       <span class="stringliteral">&quot;    bne.n SysCtlDelay\n&quot;</span>
<a name="l01864"></a>01864       <span class="stringliteral">&quot;    bx lr\n&quot;</span>);
<a name="l01865"></a>01865 <span class="preprocessor">#endif</span>
<a name="l01866"></a>01866 <span class="preprocessor"></span>
<a name="l01867"></a>01867 <span class="comment">//*****************************************************************************</span>
<a name="l01868"></a>01868 <span class="comment">//</span>
<a name="l01897"></a>01897 <span class="comment"></span><span class="comment">//</span>
<a name="l01898"></a>01898 <span class="comment">//*****************************************************************************</span>
<a name="l01899"></a>01899 <span class="keywordtype">void</span>
<a name="l01900"></a><a class="code" href="group__sysctl__api.html#gaa5ea49a00d023774f052fc53a2ccb953">01900</a> <a class="code" href="group__sysctl__api.html#gaa5ea49a00d023774f052fc53a2ccb953">SysCtlMOSCConfigSet</a>(uint32_t ui32Config)
<a name="l01901"></a>01901 {
<a name="l01902"></a>01902     <span class="comment">//</span>
<a name="l01903"></a>01903     <span class="comment">// Configure the MOSC control.</span>
<a name="l01904"></a>01904     <span class="comment">//</span>
<a name="l01905"></a>01905     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a25e07d3c958f6bac10d5a290d57bfae8">SYSCTL_MOSCCTL</a>) = ui32Config;
<a name="l01906"></a>01906 }
<a name="l01907"></a>01907 
<a name="l01908"></a>01908 <span class="comment">//*****************************************************************************</span>
<a name="l01909"></a>01909 <span class="comment">//</span>
<a name="l01934"></a>01934 <span class="comment"></span><span class="comment">//</span>
<a name="l01935"></a>01935 <span class="comment">//*****************************************************************************</span>
<a name="l01936"></a>01936 uint32_t
<a name="l01937"></a><a class="code" href="group__sysctl__api.html#gaf5bd79f60945f405c34c89005b0eb50d">01937</a> <a class="code" href="group__sysctl__api.html#gaf5bd79f60945f405c34c89005b0eb50d">SysCtlPIOSCCalibrate</a>(uint32_t ui32Type)
<a name="l01938"></a>01938 {
<a name="l01939"></a>01939     <span class="comment">//</span>
<a name="l01940"></a>01940     <span class="comment">// Perform the requested calibration.  If performing user calibration, the</span>
<a name="l01941"></a>01941     <span class="comment">// UTEN bit must be set with one write, then the UT field in a second</span>
<a name="l01942"></a>01942     <span class="comment">// write, and the UPDATE bit in a final write.  For other calibration</span>
<a name="l01943"></a>01943     <span class="comment">// types, a single write to set UPDATE or CAL is all that is required.</span>
<a name="l01944"></a>01944     <span class="comment">//</span>
<a name="l01945"></a>01945     <span class="keywordflow">if</span>(ui32Type &amp; (<a class="code" href="hw__sysctl_8h.html#abe8883f93985822cf049113037a37158">SYSCTL_PIOSCCAL_UTEN</a> | <a class="code" href="hw__sysctl_8h.html#a5cae7d8761f0d7acde6a1a5ca285d3e5">SYSCTL_PIOSCCAL_UPDATE</a>))
<a name="l01946"></a>01946     {
<a name="l01947"></a>01947         <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a250323d022f46409e1d0f58a3e953f8a">SYSCTL_PIOSCCAL</a>) = ui32Type &amp; <a class="code" href="hw__sysctl_8h.html#abe8883f93985822cf049113037a37158">SYSCTL_PIOSCCAL_UTEN</a>;
<a name="l01948"></a>01948         <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a250323d022f46409e1d0f58a3e953f8a">SYSCTL_PIOSCCAL</a>) =
<a name="l01949"></a>01949             ui32Type &amp; (SYSCTL_PIOSCCAL_UTEN | <a class="code" href="hw__sysctl_8h.html#a90a55644ee915ecbec011e27cd7811ba">SYSCTL_PIOSCCAL_UT_M</a>);
<a name="l01950"></a>01950     }
<a name="l01951"></a>01951     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a250323d022f46409e1d0f58a3e953f8a">SYSCTL_PIOSCCAL</a>) = ui32Type;
<a name="l01952"></a>01952 
<a name="l01953"></a>01953     <span class="comment">//</span>
<a name="l01954"></a>01954     <span class="comment">// See if an automatic calibration was requested.</span>
<a name="l01955"></a>01955     <span class="comment">//</span>
<a name="l01956"></a>01956     <span class="keywordflow">if</span>(ui32Type &amp; <a class="code" href="hw__sysctl_8h.html#a4b7490f14b79ecf8591ed125410c3b91">SYSCTL_PIOSCCAL_CAL</a>)
<a name="l01957"></a>01957     {
<a name="l01958"></a>01958         <span class="comment">//</span>
<a name="l01959"></a>01959         <span class="comment">// Wait for the automatic calibration to complete.</span>
<a name="l01960"></a>01960         <span class="comment">//</span>
<a name="l01961"></a>01961         <span class="keywordflow">while</span>((<a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#accae2718c49e898e670929411106fddc">SYSCTL_PIOSCSTAT</a>) &amp; <a class="code" href="hw__sysctl_8h.html#a44ca577d83c7d3ab213c6d167b72fcfd">SYSCTL_PIOSCSTAT_CR_M</a>) == 0)
<a name="l01962"></a>01962         {
<a name="l01963"></a>01963         }
<a name="l01964"></a>01964 
<a name="l01965"></a>01965         <span class="comment">//</span>
<a name="l01966"></a>01966         <span class="comment">// If the automatic calibration failed, return an error.</span>
<a name="l01967"></a>01967         <span class="comment">//</span>
<a name="l01968"></a>01968         <span class="keywordflow">if</span>((<a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#accae2718c49e898e670929411106fddc">SYSCTL_PIOSCSTAT</a>) &amp; SYSCTL_PIOSCSTAT_CR_M) !=
<a name="l01969"></a>01969            <a class="code" href="hw__sysctl_8h.html#a21ba5d553e4388eca1e6f889afd5adf6">SYSCTL_PIOSCSTAT_CRPASS</a>)
<a name="l01970"></a>01970         {
<a name="l01971"></a>01971             <span class="keywordflow">return</span>(0);
<a name="l01972"></a>01972         }
<a name="l01973"></a>01973     }
<a name="l01974"></a>01974 
<a name="l01975"></a>01975     <span class="comment">//</span>
<a name="l01976"></a>01976     <span class="comment">// The calibration was successful.</span>
<a name="l01977"></a>01977     <span class="comment">//</span>
<a name="l01978"></a>01978     <span class="keywordflow">return</span>(1);
<a name="l01979"></a>01979 }
<a name="l01980"></a>01980 
<a name="l01981"></a>01981 <span class="comment">//*****************************************************************************</span>
<a name="l01982"></a>01982 <span class="comment">//</span>
<a name="l02028"></a>02028 <span class="comment"></span><span class="comment">//</span>
<a name="l02029"></a>02029 <span class="comment">//*****************************************************************************</span>
<a name="l02030"></a>02030 <span class="keywordtype">void</span>
<a name="l02031"></a><a class="code" href="group__sysctl__api.html#ga109ad31fa3c2d1957454c8e73a8bbae6">02031</a> <a class="code" href="group__sysctl__api.html#ga109ad31fa3c2d1957454c8e73a8bbae6">SysCtlResetBehaviorSet</a>(uint32_t ui32Behavior)
<a name="l02032"></a>02032 {
<a name="l02033"></a>02033     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a90b98f564be713b6c62f163f94bc357c">SYSCTL_RESBEHAVCTL</a>) = ui32Behavior;
<a name="l02034"></a>02034 }
<a name="l02035"></a>02035 
<a name="l02036"></a>02036 <span class="comment">//*****************************************************************************</span>
<a name="l02037"></a>02037 <span class="comment">//</span>
<a name="l02048"></a>02048 <span class="comment"></span><span class="comment">//</span>
<a name="l02049"></a>02049 <span class="comment">//*****************************************************************************</span>
<a name="l02050"></a>02050 uint32_t
<a name="l02051"></a><a class="code" href="group__sysctl__api.html#ga42211457f456c2c2b68b490acc320177">02051</a> <a class="code" href="group__sysctl__api.html#ga42211457f456c2c2b68b490acc320177">SysCtlResetBehaviorGet</a>(<span class="keywordtype">void</span>)
<a name="l02052"></a>02052 {
<a name="l02053"></a>02053     <span class="keywordflow">return</span>(<a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a90b98f564be713b6c62f163f94bc357c">SYSCTL_RESBEHAVCTL</a>));
<a name="l02054"></a>02054 }
<a name="l02055"></a>02055 
<a name="l02056"></a>02056 <span class="comment">//*****************************************************************************</span>
<a name="l02057"></a>02057 <span class="comment">//</span>
<a name="l02112"></a>02112 <span class="comment"></span><span class="comment">//</span>
<a name="l02113"></a>02113 <span class="comment">//*****************************************************************************</span>
<a name="l02114"></a>02114 uint32_t
<a name="l02115"></a><a class="code" href="group__sysctl__api.html#ga21032362a556673829fb41e4f057ec5a">02115</a> <a class="code" href="group__sysctl__api.html#ga21032362a556673829fb41e4f057ec5a">SysCtlClockFreqSet</a>(uint32_t ui32Config, uint32_t ui32SysClock)
<a name="l02116"></a>02116 {
<a name="l02117"></a>02117     int32_t i32Timeout, i32VCOIdx, i32XtalIdx;
<a name="l02118"></a>02118     uint32_t ui32MOSCCTL;
<a name="l02119"></a>02119     uint32_t ui32SysDiv, ui32Osc, ui32OscSelect, ui32RSClkConfig;
<a name="l02120"></a>02120     <span class="keywordtype">bool</span> bNewPLL;
<a name="l02121"></a>02121 
<a name="l02122"></a>02122     <span class="comment">//</span>
<a name="l02123"></a>02123     <span class="comment">// TM4C123 devices should not use this function.</span>
<a name="l02124"></a>02124     <span class="comment">//</span>
<a name="l02125"></a>02125     <span class="keywordflow">if</span>(<a class="code" href="hw__types_8h.html#aed400510c15509bdc6296e5c233f6cd3">CLASS_IS_TM4C123</a>)
<a name="l02126"></a>02126     {
<a name="l02127"></a>02127         <span class="keywordflow">return</span>(0);
<a name="l02128"></a>02128     }
<a name="l02129"></a>02129 
<a name="l02130"></a>02130     <span class="comment">//</span>
<a name="l02131"></a>02131     <span class="comment">// Get the index of the crystal from the ui32Config parameter.</span>
<a name="l02132"></a>02132     <span class="comment">//</span>
<a name="l02133"></a>02133     i32XtalIdx = <a class="code" href="group__sysctl__api.html#ga368eb5ebc0c5267aef73cd1caf7d873c">SysCtlXtalCfgToIndex</a>(ui32Config);
<a name="l02134"></a>02134 
<a name="l02135"></a>02135     <span class="comment">//</span>
<a name="l02136"></a>02136     <span class="comment">// Determine which non-PLL source was selected.</span>
<a name="l02137"></a>02137     <span class="comment">//</span>
<a name="l02138"></a>02138     <span class="keywordflow">if</span>((ui32Config &amp; 0x38) == <a class="code" href="sysctl_8h.html#aaac267b7fe1a5a16f3e23845ed004634">SYSCTL_OSC_INT</a>)
<a name="l02139"></a>02139     {
<a name="l02140"></a>02140         <span class="comment">//</span>
<a name="l02141"></a>02141         <span class="comment">// Use the nominal frequency for the PIOSC oscillator and set the</span>
<a name="l02142"></a>02142         <span class="comment">// crystal select.</span>
<a name="l02143"></a>02143         <span class="comment">//</span>
<a name="l02144"></a>02144         ui32Osc = 16000000;
<a name="l02145"></a>02145         ui32OscSelect = <a class="code" href="hw__sysctl_8h.html#a81df0865eb6a0cd2505356ebed046c7d">SYSCTL_RSCLKCFG_OSCSRC_PIOSC</a>;
<a name="l02146"></a>02146         ui32OscSelect |= <a class="code" href="hw__sysctl_8h.html#ae305421a2d99204a6b53a355b4e315b7">SYSCTL_RSCLKCFG_PLLSRC_PIOSC</a>;
<a name="l02147"></a>02147 
<a name="l02148"></a>02148         <span class="comment">//</span>
<a name="l02149"></a>02149         <span class="comment">// Force the crystal index to the value for 16-MHz.</span>
<a name="l02150"></a>02150         <span class="comment">//</span>
<a name="l02151"></a>02151         i32XtalIdx = <a class="code" href="group__sysctl__api.html#ga368eb5ebc0c5267aef73cd1caf7d873c">SysCtlXtalCfgToIndex</a>(<a class="code" href="sysctl_8h.html#aa28940746d2ba2b251b11043dd8bc2fe">SYSCTL_XTAL_16MHZ</a>);
<a name="l02152"></a>02152     }
<a name="l02153"></a>02153     <span class="keywordflow">else</span> <span class="keywordflow">if</span>((ui32Config &amp; 0x38) == <a class="code" href="sysctl_8h.html#a0bfa7f9a23c526e81a784d8184f34585">SYSCTL_OSC_INT30</a>)
<a name="l02154"></a>02154     {
<a name="l02155"></a>02155         <span class="comment">//</span>
<a name="l02156"></a>02156         <span class="comment">// Use the nominal frequency for the low frequency oscillator.</span>
<a name="l02157"></a>02157         <span class="comment">//</span>
<a name="l02158"></a>02158         ui32Osc = 30000;
<a name="l02159"></a>02159         ui32OscSelect = <a class="code" href="hw__sysctl_8h.html#aac42648f3999f5c1544920a2a1bde84e">SYSCTL_RSCLKCFG_OSCSRC_LFIOSC</a>;
<a name="l02160"></a>02160     }
<a name="l02161"></a>02161     <span class="keywordflow">else</span> <span class="keywordflow">if</span>((ui32Config &amp; 0x38) == (<a class="code" href="sysctl_8h.html#a378ad2f17176867836a92c3a18d725bd">SYSCTL_OSC_EXT32</a> &amp; 0x38))
<a name="l02162"></a>02162     {
<a name="l02163"></a>02163         <span class="comment">//</span>
<a name="l02164"></a>02164         <span class="comment">// Use the RTC frequency.</span>
<a name="l02165"></a>02165         <span class="comment">//</span>
<a name="l02166"></a>02166         ui32Osc = 32768;
<a name="l02167"></a>02167         ui32OscSelect = <a class="code" href="hw__sysctl_8h.html#aa86a34dfecf1a7dfece6c36161563f15">SYSCTL_RSCLKCFG_OSCSRC_RTC</a>;
<a name="l02168"></a>02168     }
<a name="l02169"></a>02169     <span class="keywordflow">else</span> <span class="keywordflow">if</span>((ui32Config &amp; 0x38) == <a class="code" href="sysctl_8h.html#a8c78f8e9ba8e9829e93824ec5dc90cc9">SYSCTL_OSC_MAIN</a>)
<a name="l02170"></a>02170     {
<a name="l02171"></a>02171         <span class="comment">//</span>
<a name="l02172"></a>02172         <span class="comment">// Bounds check the source frequency for the main oscillator.  The is</span>
<a name="l02173"></a>02173         <span class="comment">// because the PLL tables in the g_pppui32XTALtoVCO structure range</span>
<a name="l02174"></a>02174         <span class="comment">// from 5MHz to 25MHz.</span>
<a name="l02175"></a>02175         <span class="comment">//</span>
<a name="l02176"></a>02176         <span class="keywordflow">if</span>((i32XtalIdx &gt; (<a class="code" href="group__sysctl__api.html#ga368eb5ebc0c5267aef73cd1caf7d873c">SysCtlXtalCfgToIndex</a>(<a class="code" href="sysctl_8h.html#af059fbe6af6b3a69daeaf2e98243b26e">SYSCTL_XTAL_25MHZ</a>))) ||
<a name="l02177"></a>02177            (i32XtalIdx &lt; (<a class="code" href="group__sysctl__api.html#ga368eb5ebc0c5267aef73cd1caf7d873c">SysCtlXtalCfgToIndex</a>(<a class="code" href="sysctl_8h.html#a06524c0e03c2638fdc962921ce46c4ec">SYSCTL_XTAL_5MHZ</a>))))
<a name="l02178"></a>02178         {
<a name="l02179"></a>02179             <span class="keywordflow">return</span>(0);
<a name="l02180"></a>02180         }
<a name="l02181"></a>02181 
<a name="l02182"></a>02182         ui32Osc = <a class="code" href="group__sysctl__api.html#ga286fd0282c7ed9baca324931b9318afd">g_pui32Xtals</a>[i32XtalIdx];
<a name="l02183"></a>02183 
<a name="l02184"></a>02184         <span class="comment">//</span>
<a name="l02185"></a>02185         <span class="comment">// Set the PLL source select to MOSC.</span>
<a name="l02186"></a>02186         <span class="comment">//</span>
<a name="l02187"></a>02187         ui32OscSelect = <a class="code" href="hw__sysctl_8h.html#a533dd46fdc3103682b4c1fd88bc1d37f">SYSCTL_RSCLKCFG_OSCSRC_MOSC</a>;
<a name="l02188"></a>02188         ui32OscSelect |= <a class="code" href="hw__sysctl_8h.html#a5cedd49a20397d9a407bc2146ebe6f86">SYSCTL_RSCLKCFG_PLLSRC_MOSC</a>;
<a name="l02189"></a>02189 
<a name="l02190"></a>02190         <span class="comment">//</span>
<a name="l02191"></a>02191         <span class="comment">// Clear MOSC power down, high oscillator range setting, and no crystal</span>
<a name="l02192"></a>02192         <span class="comment">// present setting.</span>
<a name="l02193"></a>02193         <span class="comment">//</span>
<a name="l02194"></a>02194         ui32MOSCCTL = <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a25e07d3c958f6bac10d5a290d57bfae8">SYSCTL_MOSCCTL</a>) &amp;
<a name="l02195"></a>02195                       ~(<a class="code" href="hw__sysctl_8h.html#ae6e8884fee0dd53336ff1d16039642fc">SYSCTL_MOSCCTL_OSCRNG</a> | <a class="code" href="hw__sysctl_8h.html#ab179bbf07de9a14680180d927f80bb30">SYSCTL_MOSCCTL_PWRDN</a> |
<a name="l02196"></a>02196                         <a class="code" href="hw__sysctl_8h.html#aad290593a7a5690ac2f0515a1ef83cb8">SYSCTL_MOSCCTL_NOXTAL</a>);
<a name="l02197"></a>02197 
<a name="l02198"></a>02198         <span class="comment">//</span>
<a name="l02199"></a>02199         <span class="comment">// Increase the drive strength for MOSC of 10 MHz and above.</span>
<a name="l02200"></a>02200         <span class="comment">//</span>
<a name="l02201"></a>02201         <span class="keywordflow">if</span>(i32XtalIdx &gt;= (<a class="code" href="group__sysctl__api.html#ga368eb5ebc0c5267aef73cd1caf7d873c">SysCtlXtalCfgToIndex</a>(<a class="code" href="sysctl_8h.html#a07f8ad200134c73d8638e34bd0d7d8a4">SYSCTL_XTAL_10MHZ</a>) -
<a name="l02202"></a>02202                           (<a class="code" href="group__sysctl__api.html#ga368eb5ebc0c5267aef73cd1caf7d873c">SysCtlXtalCfgToIndex</a>(<a class="code" href="sysctl_8h.html#a06524c0e03c2638fdc962921ce46c4ec">SYSCTL_XTAL_5MHZ</a>))))
<a name="l02203"></a>02203         {
<a name="l02204"></a>02204             ui32MOSCCTL |= <a class="code" href="hw__sysctl_8h.html#ae6e8884fee0dd53336ff1d16039642fc">SYSCTL_MOSCCTL_OSCRNG</a>;
<a name="l02205"></a>02205         }
<a name="l02206"></a>02206 
<a name="l02207"></a>02207         <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a25e07d3c958f6bac10d5a290d57bfae8">SYSCTL_MOSCCTL</a>) = ui32MOSCCTL;
<a name="l02208"></a>02208     }
<a name="l02209"></a>02209     <span class="keywordflow">else</span>
<a name="l02210"></a>02210     {
<a name="l02211"></a>02211         <span class="comment">//</span>
<a name="l02212"></a>02212         <span class="comment">// This was an invalid request because no oscillator source was</span>
<a name="l02213"></a>02213         <span class="comment">// indicated.</span>
<a name="l02214"></a>02214         <span class="comment">//</span>
<a name="l02215"></a>02215         ui32Osc = 0;
<a name="l02216"></a>02216         ui32OscSelect = <a class="code" href="hw__sysctl_8h.html#a81df0865eb6a0cd2505356ebed046c7d">SYSCTL_RSCLKCFG_OSCSRC_PIOSC</a>;
<a name="l02217"></a>02217     }
<a name="l02218"></a>02218 
<a name="l02219"></a>02219     <span class="comment">//</span>
<a name="l02220"></a>02220     <span class="comment">// Check if the running with the PLL enabled was requested.</span>
<a name="l02221"></a>02221     <span class="comment">//</span>
<a name="l02222"></a>02222     <span class="keywordflow">if</span>((ui32Config &amp; <a class="code" href="sysctl_8h.html#a0626a3210d8069dfd85a6ba94b4af45c">SYSCTL_USE_OSC</a>) == <a class="code" href="sysctl_8h.html#a403d221759494417f175f6b78730cfcf">SYSCTL_USE_PLL</a>)
<a name="l02223"></a>02223     {
<a name="l02224"></a>02224         <span class="comment">//</span>
<a name="l02225"></a>02225         <span class="comment">// ui32Config must be SYSCTL_OSC_MAIN or SYSCTL_OSC_INT.</span>
<a name="l02226"></a>02226         <span class="comment">//</span>
<a name="l02227"></a>02227         <span class="keywordflow">if</span>(((ui32Config &amp; 0x38) != <a class="code" href="sysctl_8h.html#a8c78f8e9ba8e9829e93824ec5dc90cc9">SYSCTL_OSC_MAIN</a>) &amp;&amp;
<a name="l02228"></a>02228            ((ui32Config &amp; 0x38) != <a class="code" href="sysctl_8h.html#aaac267b7fe1a5a16f3e23845ed004634">SYSCTL_OSC_INT</a>))
<a name="l02229"></a>02229         {
<a name="l02230"></a>02230             <span class="keywordflow">return</span>(0);
<a name="l02231"></a>02231         }
<a name="l02232"></a>02232 
<a name="l02233"></a>02233         <span class="comment">//</span>
<a name="l02234"></a>02234         <span class="comment">// Get the VCO index out of the ui32Config parameter.</span>
<a name="l02235"></a>02235         <span class="comment">//</span>
<a name="l02236"></a>02236         i32VCOIdx = (ui32Config &gt;&gt; 24) &amp; 7;
<a name="l02237"></a>02237 
<a name="l02238"></a>02238         <span class="comment">//</span>
<a name="l02239"></a>02239         <span class="comment">// Check that the VCO index is not out of bounds.</span>
<a name="l02240"></a>02240         <span class="comment">//</span>
<a name="l02241"></a>02241         <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(i32VCOIdx &lt; <a class="code" href="group__sysctl__api.html#gadb2b8dc5aca3e1b9faffeacd6bb92b4c">MAX_VCO_ENTRIES</a>);
<a name="l02242"></a>02242 
<a name="l02243"></a>02243         <span class="comment">//</span>
<a name="l02244"></a>02244         <span class="comment">// Set the memory timings for the maximum external frequency since</span>
<a name="l02245"></a>02245         <span class="comment">// this could be a switch to PIOSC or possibly to MOSC which can be</span>
<a name="l02246"></a>02246         <span class="comment">// up to 25MHz.</span>
<a name="l02247"></a>02247         <span class="comment">//</span>
<a name="l02248"></a>02248         <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a1ded1e08fac09568fbe21641faa964b2">SYSCTL_MEMTIM0</a>) = <a class="code" href="group__sysctl__api.html#ga9da7d5e35bad642b1198eec94e458a34">_SysCtlMemTimingGet</a>(25000000);
<a name="l02249"></a>02249 
<a name="l02250"></a>02250         <span class="comment">//</span>
<a name="l02251"></a>02251         <span class="comment">// Clear the old PLL divider and source in case it was set.</span>
<a name="l02252"></a>02252         <span class="comment">//</span>
<a name="l02253"></a>02253         ui32RSClkConfig = <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a0a46cac92f10630390e04ad38d1400db">SYSCTL_RSCLKCFG</a>) &amp;
<a name="l02254"></a>02254                           ~(<a class="code" href="hw__sysctl_8h.html#a84c79546cde10307f87b13c64a675899">SYSCTL_RSCLKCFG_PSYSDIV_M</a> |
<a name="l02255"></a>02255                             <a class="code" href="hw__sysctl_8h.html#a2f64a99ff99898ef764e90fb7f4b744a">SYSCTL_RSCLKCFG_OSCSRC_M</a> |
<a name="l02256"></a>02256                             <a class="code" href="hw__sysctl_8h.html#a2fd8e56d8d617ac113ff8145fc5cc68e">SYSCTL_RSCLKCFG_PLLSRC_M</a> | <a class="code" href="hw__sysctl_8h.html#a8a4cd2f1b8e43126380b44f569321236">SYSCTL_RSCLKCFG_USEPLL</a>);
<a name="l02257"></a>02257 
<a name="l02258"></a>02258         <span class="comment">//</span>
<a name="l02259"></a>02259         <span class="comment">// Update the memory timings to match running from PIOSC.</span>
<a name="l02260"></a>02260         <span class="comment">//</span>
<a name="l02261"></a>02261         ui32RSClkConfig |= <a class="code" href="hw__sysctl_8h.html#a320d4b1615bb0535625bc95508f8090f">SYSCTL_RSCLKCFG_MEMTIMU</a>;
<a name="l02262"></a>02262 
<a name="l02263"></a>02263         <span class="comment">//</span>
<a name="l02264"></a>02264         <span class="comment">// Update clock configuration to switch back to PIOSC.</span>
<a name="l02265"></a>02265         <span class="comment">//</span>
<a name="l02266"></a>02266         <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a0a46cac92f10630390e04ad38d1400db">SYSCTL_RSCLKCFG</a>) = ui32RSClkConfig;
<a name="l02267"></a>02267 
<a name="l02268"></a>02268         <span class="comment">//</span>
<a name="l02269"></a>02269         <span class="comment">// The table starts at 5 MHz so modify the index to match this.</span>
<a name="l02270"></a>02270         <span class="comment">//</span>
<a name="l02271"></a>02271         i32XtalIdx -= <a class="code" href="group__sysctl__api.html#ga368eb5ebc0c5267aef73cd1caf7d873c">SysCtlXtalCfgToIndex</a>(<a class="code" href="sysctl_8h.html#a06524c0e03c2638fdc962921ce46c4ec">SYSCTL_XTAL_5MHZ</a>);
<a name="l02272"></a>02272 
<a name="l02273"></a>02273         <span class="comment">//</span>
<a name="l02274"></a>02274         <span class="comment">// If there were no changes to the PLL do not force the PLL to lock by</span>
<a name="l02275"></a>02275         <span class="comment">// writing the PLL settings.</span>
<a name="l02276"></a>02276         <span class="comment">//</span>
<a name="l02277"></a>02277         <span class="keywordflow">if</span>((<a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a734cc69a16872dc5b0435dfc8e33ce8c">SYSCTL_PLLFREQ1</a>) !=
<a name="l02278"></a>02278             <a class="code" href="group__sysctl__api.html#gac23401a8baf013db8de53e8f2bc40425">g_pppui32XTALtoVCO</a>[i32VCOIdx][i32XtalIdx][1]) ||
<a name="l02279"></a>02279            (<a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#aafe0fae5b7bc00e01652773e2cb03d38">SYSCTL_PLLFREQ0</a>) !=
<a name="l02280"></a>02280             (<a class="code" href="group__sysctl__api.html#gac23401a8baf013db8de53e8f2bc40425">g_pppui32XTALtoVCO</a>[i32VCOIdx][i32XtalIdx][0] |
<a name="l02281"></a>02281              <a class="code" href="hw__sysctl_8h.html#a7c2901a94699025653a8f22ed33de653">SYSCTL_PLLFREQ0_PLLPWR</a>)))
<a name="l02282"></a>02282         {
<a name="l02283"></a>02283             bNewPLL = <span class="keyword">true</span>;
<a name="l02284"></a>02284         }
<a name="l02285"></a>02285         <span class="keywordflow">else</span>
<a name="l02286"></a>02286         {
<a name="l02287"></a>02287             bNewPLL = <span class="keyword">false</span>;
<a name="l02288"></a>02288         }
<a name="l02289"></a>02289 
<a name="l02290"></a>02290         <span class="comment">//</span>
<a name="l02291"></a>02291         <span class="comment">// If there are new PLL settings write them.</span>
<a name="l02292"></a>02292         <span class="comment">//</span>
<a name="l02293"></a>02293         <span class="keywordflow">if</span>(bNewPLL)
<a name="l02294"></a>02294         {
<a name="l02295"></a>02295             <span class="comment">//</span>
<a name="l02296"></a>02296             <span class="comment">// Set the oscillator source.</span>
<a name="l02297"></a>02297             <span class="comment">//</span>
<a name="l02298"></a>02298             <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a0a46cac92f10630390e04ad38d1400db">SYSCTL_RSCLKCFG</a>) |= ui32OscSelect;
<a name="l02299"></a>02299 
<a name="l02300"></a>02300             <span class="comment">//</span>
<a name="l02301"></a>02301             <span class="comment">// Set the M, N and Q values provided from the table and preserve</span>
<a name="l02302"></a>02302             <span class="comment">// the power state of the main PLL.</span>
<a name="l02303"></a>02303             <span class="comment">//</span>
<a name="l02304"></a>02304             <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a734cc69a16872dc5b0435dfc8e33ce8c">SYSCTL_PLLFREQ1</a>) =
<a name="l02305"></a>02305                 <a class="code" href="group__sysctl__api.html#gac23401a8baf013db8de53e8f2bc40425">g_pppui32XTALtoVCO</a>[i32VCOIdx][i32XtalIdx][1];
<a name="l02306"></a>02306             <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#aafe0fae5b7bc00e01652773e2cb03d38">SYSCTL_PLLFREQ0</a>) =
<a name="l02307"></a>02307                 (<a class="code" href="group__sysctl__api.html#gac23401a8baf013db8de53e8f2bc40425">g_pppui32XTALtoVCO</a>[i32VCOIdx][i32XtalIdx][0] |
<a name="l02308"></a>02308                  (<a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#aafe0fae5b7bc00e01652773e2cb03d38">SYSCTL_PLLFREQ0</a>) &amp; <a class="code" href="hw__sysctl_8h.html#a7c2901a94699025653a8f22ed33de653">SYSCTL_PLLFREQ0_PLLPWR</a>));
<a name="l02309"></a>02309         }
<a name="l02310"></a>02310 
<a name="l02311"></a>02311         <span class="comment">//</span>
<a name="l02312"></a>02312         <span class="comment">// Calculate the System divider such that we get a frequency that is</span>
<a name="l02313"></a>02313         <span class="comment">// the closest to the requested frequency without going over.</span>
<a name="l02314"></a>02314         <span class="comment">//</span>
<a name="l02315"></a>02315         ui32SysDiv = (g_pui32VCOFrequencies[i32VCOIdx] + ui32SysClock - 1) /
<a name="l02316"></a>02316                      ui32SysClock;
<a name="l02317"></a>02317 
<a name="l02318"></a>02318         <span class="comment">//</span>
<a name="l02319"></a>02319         <span class="comment">// Calculate the actual system clock.</span>
<a name="l02320"></a>02320         <span class="comment">//</span>
<a name="l02321"></a>02321         ui32SysClock = <a class="code" href="group__sysctl__api.html#gaf8b5b9064eb5650bc260ff79e75b0ccb">_SysCtlFrequencyGet</a>(ui32Osc) / ui32SysDiv;
<a name="l02322"></a>02322 
<a name="l02323"></a>02323         <span class="comment">//</span>
<a name="l02324"></a>02324         <span class="comment">// Set the Flash and EEPROM timing values.</span>
<a name="l02325"></a>02325         <span class="comment">//</span>
<a name="l02326"></a>02326         <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a1ded1e08fac09568fbe21641faa964b2">SYSCTL_MEMTIM0</a>) = <a class="code" href="group__sysctl__api.html#ga9da7d5e35bad642b1198eec94e458a34">_SysCtlMemTimingGet</a>(ui32SysClock);
<a name="l02327"></a>02327 
<a name="l02328"></a>02328         <span class="comment">//</span>
<a name="l02329"></a>02329         <span class="comment">// Check if the PLL is already powered up.</span>
<a name="l02330"></a>02330         <span class="comment">//</span>
<a name="l02331"></a>02331         <span class="keywordflow">if</span>(<a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#aafe0fae5b7bc00e01652773e2cb03d38">SYSCTL_PLLFREQ0</a>) &amp; <a class="code" href="hw__sysctl_8h.html#a7c2901a94699025653a8f22ed33de653">SYSCTL_PLLFREQ0_PLLPWR</a>)
<a name="l02332"></a>02332         {
<a name="l02333"></a>02333             <span class="keywordflow">if</span>(bNewPLL == <span class="keyword">true</span>)
<a name="l02334"></a>02334             {
<a name="l02335"></a>02335                 <span class="comment">//</span>
<a name="l02336"></a>02336                 <span class="comment">// Trigger the PLL to lock to the new frequency.</span>
<a name="l02337"></a>02337                 <span class="comment">//</span>
<a name="l02338"></a>02338                 <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a0a46cac92f10630390e04ad38d1400db">SYSCTL_RSCLKCFG</a>) |= <a class="code" href="hw__sysctl_8h.html#a16918678dcf63749488d25c7b1a8c1c5">SYSCTL_RSCLKCFG_NEWFREQ</a>;
<a name="l02339"></a>02339             }
<a name="l02340"></a>02340         }
<a name="l02341"></a>02341         <span class="keywordflow">else</span>
<a name="l02342"></a>02342         {
<a name="l02343"></a>02343             <span class="comment">//</span>
<a name="l02344"></a>02344             <span class="comment">// Power up the PLL.</span>
<a name="l02345"></a>02345             <span class="comment">//</span>
<a name="l02346"></a>02346             <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#aafe0fae5b7bc00e01652773e2cb03d38">SYSCTL_PLLFREQ0</a>) |= <a class="code" href="hw__sysctl_8h.html#a7c2901a94699025653a8f22ed33de653">SYSCTL_PLLFREQ0_PLLPWR</a>;
<a name="l02347"></a>02347         }
<a name="l02348"></a>02348 
<a name="l02349"></a>02349         <span class="comment">//</span>
<a name="l02350"></a>02350         <span class="comment">// Wait until the PLL has locked.</span>
<a name="l02351"></a>02351         <span class="comment">//</span>
<a name="l02352"></a>02352         <span class="keywordflow">for</span>(i32Timeout = 32768; i32Timeout &gt; 0; i32Timeout--)
<a name="l02353"></a>02353         {
<a name="l02354"></a>02354             <span class="keywordflow">if</span>((<a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a22dba56588d81f1db2a533a89128eb89">SYSCTL_PLLSTAT</a>) &amp; <a class="code" href="hw__sysctl_8h.html#a3b453f1ca6c5b4cb11e25d7639fb7999">SYSCTL_PLLSTAT_LOCK</a>))
<a name="l02355"></a>02355             {
<a name="l02356"></a>02356                 <span class="keywordflow">break</span>;
<a name="l02357"></a>02357             }
<a name="l02358"></a>02358         }
<a name="l02359"></a>02359 
<a name="l02360"></a>02360         <span class="comment">//</span>
<a name="l02361"></a>02361         <span class="comment">// If the loop above did not timeout then switch over to the PLL</span>
<a name="l02362"></a>02362         <span class="comment">//</span>
<a name="l02363"></a>02363         <span class="keywordflow">if</span>(i32Timeout)
<a name="l02364"></a>02364         {
<a name="l02365"></a>02365             ui32RSClkConfig = <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a0a46cac92f10630390e04ad38d1400db">SYSCTL_RSCLKCFG</a>);
<a name="l02366"></a>02366             ui32RSClkConfig |= ((ui32SysDiv - 1) &lt;&lt;
<a name="l02367"></a>02367                                 <a class="code" href="hw__sysctl_8h.html#a96aecbc9a186fe7b2ec9404b28900be4">SYSCTL_RSCLKCFG_PSYSDIV_S</a>) | ui32OscSelect |
<a name="l02368"></a>02368                                <a class="code" href="hw__sysctl_8h.html#a8a4cd2f1b8e43126380b44f569321236">SYSCTL_RSCLKCFG_USEPLL</a>;
<a name="l02369"></a>02369             ui32RSClkConfig |= <a class="code" href="hw__sysctl_8h.html#a320d4b1615bb0535625bc95508f8090f">SYSCTL_RSCLKCFG_MEMTIMU</a>;
<a name="l02370"></a>02370 
<a name="l02371"></a>02371             <span class="comment">//</span>
<a name="l02372"></a>02372             <span class="comment">// Set the new clock configuration.</span>
<a name="l02373"></a>02373             <span class="comment">//</span>
<a name="l02374"></a>02374             <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a0a46cac92f10630390e04ad38d1400db">SYSCTL_RSCLKCFG</a>) = ui32RSClkConfig;
<a name="l02375"></a>02375         }
<a name="l02376"></a>02376         <span class="keywordflow">else</span>
<a name="l02377"></a>02377         {
<a name="l02378"></a>02378             ui32SysClock = 0;
<a name="l02379"></a>02379         }
<a name="l02380"></a>02380     }
<a name="l02381"></a>02381     <span class="keywordflow">else</span>
<a name="l02382"></a>02382     {
<a name="l02383"></a>02383         <span class="comment">//</span>
<a name="l02384"></a>02384         <span class="comment">// Set the Flash and EEPROM timing values for PIOSC.</span>
<a name="l02385"></a>02385         <span class="comment">//</span>
<a name="l02386"></a>02386         <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a1ded1e08fac09568fbe21641faa964b2">SYSCTL_MEMTIM0</a>) = <a class="code" href="group__sysctl__api.html#ga9da7d5e35bad642b1198eec94e458a34">_SysCtlMemTimingGet</a>(16000000);
<a name="l02387"></a>02387 
<a name="l02388"></a>02388         <span class="comment">//</span>
<a name="l02389"></a>02389         <span class="comment">// Make sure that the PLL is powered down since it is not being used.</span>
<a name="l02390"></a>02390         <span class="comment">//</span>
<a name="l02391"></a>02391         <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#aafe0fae5b7bc00e01652773e2cb03d38">SYSCTL_PLLFREQ0</a>) &amp;= ~<a class="code" href="hw__sysctl_8h.html#a7c2901a94699025653a8f22ed33de653">SYSCTL_PLLFREQ0_PLLPWR</a>;
<a name="l02392"></a>02392 
<a name="l02393"></a>02393         <span class="comment">//</span>
<a name="l02394"></a>02394         <span class="comment">// Clear the old PLL divider and source in case it was set.</span>
<a name="l02395"></a>02395         <span class="comment">//</span>
<a name="l02396"></a>02396         ui32RSClkConfig = <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a0a46cac92f10630390e04ad38d1400db">SYSCTL_RSCLKCFG</a>);
<a name="l02397"></a>02397         ui32RSClkConfig &amp;= ~(<a class="code" href="hw__sysctl_8h.html#a9e8b21bfa3486207d03e5b9ecad17eaa">SYSCTL_RSCLKCFG_OSYSDIV_M</a> |
<a name="l02398"></a>02398                              <a class="code" href="hw__sysctl_8h.html#a2f64a99ff99898ef764e90fb7f4b744a">SYSCTL_RSCLKCFG_OSCSRC_M</a> |
<a name="l02399"></a>02399                              <a class="code" href="hw__sysctl_8h.html#a8a4cd2f1b8e43126380b44f569321236">SYSCTL_RSCLKCFG_USEPLL</a>);
<a name="l02400"></a>02400 
<a name="l02401"></a>02401         <span class="comment">//</span>
<a name="l02402"></a>02402         <span class="comment">// Update the memory timings.</span>
<a name="l02403"></a>02403         <span class="comment">//</span>
<a name="l02404"></a>02404         ui32RSClkConfig |= <a class="code" href="hw__sysctl_8h.html#a320d4b1615bb0535625bc95508f8090f">SYSCTL_RSCLKCFG_MEMTIMU</a>;
<a name="l02405"></a>02405 
<a name="l02406"></a>02406         <span class="comment">//</span>
<a name="l02407"></a>02407         <span class="comment">// Set the new clock configuration.</span>
<a name="l02408"></a>02408         <span class="comment">//</span>
<a name="l02409"></a>02409         <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a0a46cac92f10630390e04ad38d1400db">SYSCTL_RSCLKCFG</a>) = ui32RSClkConfig;
<a name="l02410"></a>02410 
<a name="l02411"></a>02411         <span class="comment">//</span>
<a name="l02412"></a>02412         <span class="comment">// If zero given as the system clock then default to divide by 1.</span>
<a name="l02413"></a>02413         <span class="comment">//</span>
<a name="l02414"></a>02414         <span class="keywordflow">if</span>(ui32SysClock == 0)
<a name="l02415"></a>02415         {
<a name="l02416"></a>02416             ui32SysDiv = 0;
<a name="l02417"></a>02417         }
<a name="l02418"></a>02418         <span class="keywordflow">else</span>
<a name="l02419"></a>02419         {
<a name="l02420"></a>02420             <span class="comment">//</span>
<a name="l02421"></a>02421             <span class="comment">// Calculate the System divider based on the requested</span>
<a name="l02422"></a>02422             <span class="comment">// frequency.</span>
<a name="l02423"></a>02423             <span class="comment">//</span>
<a name="l02424"></a>02424             ui32SysDiv = ui32Osc / ui32SysClock;
<a name="l02425"></a>02425 
<a name="l02426"></a>02426             <span class="comment">//</span>
<a name="l02427"></a>02427             <span class="comment">// If the system divisor is not already zero, subtract one to</span>
<a name="l02428"></a>02428             <span class="comment">// set the value in the register which requires the value to</span>
<a name="l02429"></a>02429             <span class="comment">// be n-1.</span>
<a name="l02430"></a>02430             <span class="comment">//</span>
<a name="l02431"></a>02431             <span class="keywordflow">if</span>(ui32SysDiv != 0)
<a name="l02432"></a>02432             {
<a name="l02433"></a>02433                 ui32SysDiv -= 1;
<a name="l02434"></a>02434             }
<a name="l02435"></a>02435 
<a name="l02436"></a>02436             <span class="comment">//</span>
<a name="l02437"></a>02437             <span class="comment">// Calculate the system clock.</span>
<a name="l02438"></a>02438             <span class="comment">//</span>
<a name="l02439"></a>02439             ui32SysClock = ui32Osc / (ui32SysDiv + 1);
<a name="l02440"></a>02440         }
<a name="l02441"></a>02441 
<a name="l02442"></a>02442         <span class="comment">//</span>
<a name="l02443"></a>02443         <span class="comment">// Set the memory timing values for the new system clock.</span>
<a name="l02444"></a>02444         <span class="comment">//</span>
<a name="l02445"></a>02445         <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a1ded1e08fac09568fbe21641faa964b2">SYSCTL_MEMTIM0</a>) = <a class="code" href="group__sysctl__api.html#ga9da7d5e35bad642b1198eec94e458a34">_SysCtlMemTimingGet</a>(ui32SysClock);
<a name="l02446"></a>02446 
<a name="l02447"></a>02447         <span class="comment">//</span>
<a name="l02448"></a>02448         <span class="comment">// Set the new system clock values.</span>
<a name="l02449"></a>02449         <span class="comment">//</span>
<a name="l02450"></a>02450         ui32RSClkConfig = <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a0a46cac92f10630390e04ad38d1400db">SYSCTL_RSCLKCFG</a>);
<a name="l02451"></a>02451         ui32RSClkConfig |= (ui32SysDiv &lt;&lt; <a class="code" href="hw__sysctl_8h.html#a590dacc9fd90f16f71c1fca27e6e5302">SYSCTL_RSCLKCFG_OSYSDIV_S</a>) |
<a name="l02452"></a>02452                            ui32OscSelect;
<a name="l02453"></a>02453 
<a name="l02454"></a>02454         <span class="comment">//</span>
<a name="l02455"></a>02455         <span class="comment">// Update the memory timings.</span>
<a name="l02456"></a>02456         <span class="comment">//</span>
<a name="l02457"></a>02457         ui32RSClkConfig |= <a class="code" href="hw__sysctl_8h.html#a320d4b1615bb0535625bc95508f8090f">SYSCTL_RSCLKCFG_MEMTIMU</a>;
<a name="l02458"></a>02458 
<a name="l02459"></a>02459         <span class="comment">//</span>
<a name="l02460"></a>02460         <span class="comment">// Set the new clock configuration.</span>
<a name="l02461"></a>02461         <span class="comment">//</span>
<a name="l02462"></a>02462         <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a0a46cac92f10630390e04ad38d1400db">SYSCTL_RSCLKCFG</a>) = ui32RSClkConfig;
<a name="l02463"></a>02463     }
<a name="l02464"></a>02464 
<a name="l02465"></a>02465     <span class="keywordflow">return</span>(ui32SysClock);
<a name="l02466"></a>02466 }
<a name="l02467"></a>02467 
<a name="l02468"></a>02468 <span class="comment">//*****************************************************************************</span>
<a name="l02469"></a>02469 <span class="comment">//</span>
<a name="l02529"></a>02529 <span class="comment"></span><span class="comment">//</span>
<a name="l02530"></a>02530 <span class="comment">//*****************************************************************************</span>
<a name="l02531"></a>02531 <span class="keywordtype">void</span>
<a name="l02532"></a><a class="code" href="group__sysctl__api.html#gab9c9f4e4588e1e9c5b42e3c3b109e5c1">02532</a> <a class="code" href="group__sysctl__api.html#gab9c9f4e4588e1e9c5b42e3c3b109e5c1">SysCtlClockSet</a>(uint32_t ui32Config)
<a name="l02533"></a>02533 {
<a name="l02534"></a>02534     uint32_t ui32Delay, ui32RCC, ui32RCC2;
<a name="l02535"></a>02535 
<a name="l02536"></a>02536     <span class="comment">//</span>
<a name="l02537"></a>02537     <span class="comment">// Get the current value of the RCC and RCC2 registers.</span>
<a name="l02538"></a>02538     <span class="comment">//</span>
<a name="l02539"></a>02539     ui32RCC = <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a23e27fd6ce8421975c6d703068dc8fea">SYSCTL_RCC</a>);
<a name="l02540"></a>02540     ui32RCC2 = <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a6a83bd485e529b5a78559157d5569755">SYSCTL_RCC2</a>);
<a name="l02541"></a>02541 
<a name="l02542"></a>02542     <span class="comment">//</span>
<a name="l02543"></a>02543     <span class="comment">// Bypass the PLL and system clock dividers for now.</span>
<a name="l02544"></a>02544     <span class="comment">//</span>
<a name="l02545"></a>02545     ui32RCC |= <a class="code" href="hw__sysctl_8h.html#a97ff3e281b18a61b1d23718154d69110">SYSCTL_RCC_BYPASS</a>;
<a name="l02546"></a>02546     ui32RCC &amp;= ~(<a class="code" href="hw__sysctl_8h.html#af8fb495f4cdd46774964a5f822087001">SYSCTL_RCC_USESYSDIV</a>);
<a name="l02547"></a>02547     ui32RCC2 |= <a class="code" href="hw__sysctl_8h.html#a00ba5e9742453395621589a080457f63">SYSCTL_RCC2_BYPASS2</a>;
<a name="l02548"></a>02548 
<a name="l02549"></a>02549     <span class="comment">//</span>
<a name="l02550"></a>02550     <span class="comment">// Write the new RCC value.</span>
<a name="l02551"></a>02551     <span class="comment">//</span>
<a name="l02552"></a>02552     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a23e27fd6ce8421975c6d703068dc8fea">SYSCTL_RCC</a>) = ui32RCC;
<a name="l02553"></a>02553     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a6a83bd485e529b5a78559157d5569755">SYSCTL_RCC2</a>) = ui32RCC2;
<a name="l02554"></a>02554 
<a name="l02555"></a>02555     <span class="comment">//</span>
<a name="l02556"></a>02556     <span class="comment">// See if the oscillator needs to be enabled.</span>
<a name="l02557"></a>02557     <span class="comment">//</span>
<a name="l02558"></a>02558     <span class="keywordflow">if</span>((ui32RCC &amp; <a class="code" href="hw__sysctl_8h.html#a3d2bb3a1bc4e46017c5c8f25185e3ed3">SYSCTL_RCC_MOSCDIS</a>) &amp;&amp; !(ui32Config &amp; <a class="code" href="sysctl_8h.html#ac6a1aba3fe0842f02ff27a4e93cfde4f">SYSCTL_MAIN_OSC_DIS</a>))
<a name="l02559"></a>02559     {
<a name="l02560"></a>02560         <span class="comment">//</span>
<a name="l02561"></a>02561         <span class="comment">// Make sure that the required oscillators are enabled.  For now, the</span>
<a name="l02562"></a>02562         <span class="comment">// previously enabled oscillators must be enabled along with the newly</span>
<a name="l02563"></a>02563         <span class="comment">// requested oscillators.</span>
<a name="l02564"></a>02564         <span class="comment">//</span>
<a name="l02565"></a>02565         ui32RCC &amp;= (~SYSCTL_RCC_MOSCDIS | (ui32Config &amp; <a class="code" href="sysctl_8h.html#ac6a1aba3fe0842f02ff27a4e93cfde4f">SYSCTL_MAIN_OSC_DIS</a>));
<a name="l02566"></a>02566 
<a name="l02567"></a>02567         <span class="comment">//</span>
<a name="l02568"></a>02568         <span class="comment">// Clear the MOSC power up raw interrupt status to be sure it is not</span>
<a name="l02569"></a>02569         <span class="comment">// set when waiting below.</span>
<a name="l02570"></a>02570         <span class="comment">//</span>
<a name="l02571"></a>02571         <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a4f9f87f9381b3da165a82bde242d5e61">SYSCTL_MISC</a>) = <a class="code" href="hw__sysctl_8h.html#a39b53fa64655b23d0a0fdbf9f604dd46">SYSCTL_MISC_MOSCPUPMIS</a>;
<a name="l02572"></a>02572 
<a name="l02573"></a>02573         <span class="comment">//</span>
<a name="l02574"></a>02574         <span class="comment">// Write the new RCC value.</span>
<a name="l02575"></a>02575         <span class="comment">//</span>
<a name="l02576"></a>02576         <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a23e27fd6ce8421975c6d703068dc8fea">SYSCTL_RCC</a>) = ui32RCC;
<a name="l02577"></a>02577 
<a name="l02578"></a>02578         <span class="comment">//</span>
<a name="l02579"></a>02579         <span class="comment">// Timeout using the legacy delay value.</span>
<a name="l02580"></a>02580         <span class="comment">//</span>
<a name="l02581"></a>02581         ui32Delay = 524288;
<a name="l02582"></a>02582 
<a name="l02583"></a>02583         <span class="keywordflow">while</span>((<a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a1c81f0f10746ec3948b6f46b4d06583f">SYSCTL_RIS</a>) &amp; <a class="code" href="hw__sysctl_8h.html#ab0bfa3bae579b53620e5c32eeea9754c">SYSCTL_RIS_MOSCPUPRIS</a>) == 0)
<a name="l02584"></a>02584         {
<a name="l02585"></a>02585             ui32Delay--;
<a name="l02586"></a>02586 
<a name="l02587"></a>02587             <span class="keywordflow">if</span>(ui32Delay == 0)
<a name="l02588"></a>02588             {
<a name="l02589"></a>02589                 <span class="keywordflow">break</span>;
<a name="l02590"></a>02590             }
<a name="l02591"></a>02591         }
<a name="l02592"></a>02592 
<a name="l02593"></a>02593         <span class="comment">//</span>
<a name="l02594"></a>02594         <span class="comment">// If the main oscillator failed to start up then do not switch to</span>
<a name="l02595"></a>02595         <span class="comment">// it and return.</span>
<a name="l02596"></a>02596         <span class="comment">//</span>
<a name="l02597"></a>02597         <span class="keywordflow">if</span>(ui32Delay == 0)
<a name="l02598"></a>02598         {
<a name="l02599"></a>02599             <span class="keywordflow">return</span>;
<a name="l02600"></a>02600         }
<a name="l02601"></a>02601 
<a name="l02602"></a>02602     }
<a name="l02603"></a>02603 
<a name="l02604"></a>02604     <span class="comment">//</span>
<a name="l02605"></a>02605     <span class="comment">// Set the new crystal value and oscillator source.  Because the OSCSRC2</span>
<a name="l02606"></a>02606     <span class="comment">// field in RCC2 overlaps the XTAL field in RCC, the OSCSRC field has a</span>
<a name="l02607"></a>02607     <span class="comment">// special encoding within ui32Config to avoid the overlap.</span>
<a name="l02608"></a>02608     <span class="comment">//</span>
<a name="l02609"></a>02609     ui32RCC &amp;= ~(<a class="code" href="hw__sysctl_8h.html#a5df997a8860ccb7286d15ba776d5142d">SYSCTL_RCC_XTAL_M</a> | <a class="code" href="hw__sysctl_8h.html#a75e7bedea67b510c86da55247b5fb2ac">SYSCTL_RCC_OSCSRC_M</a>);
<a name="l02610"></a>02610     ui32RCC |= ui32Config &amp; (<a class="code" href="hw__sysctl_8h.html#a5df997a8860ccb7286d15ba776d5142d">SYSCTL_RCC_XTAL_M</a> | <a class="code" href="hw__sysctl_8h.html#a75e7bedea67b510c86da55247b5fb2ac">SYSCTL_RCC_OSCSRC_M</a>);
<a name="l02611"></a>02611     ui32RCC2 &amp;= ~(<a class="code" href="hw__sysctl_8h.html#ae5f20734a9ca83207a16e5ef75318940">SYSCTL_RCC2_USERCC2</a> | <a class="code" href="hw__sysctl_8h.html#afdb53185ed0afb41bf88b1db0366084b">SYSCTL_RCC2_OSCSRC2_M</a>);
<a name="l02612"></a>02612     ui32RCC2 |= ui32Config &amp; (<a class="code" href="hw__sysctl_8h.html#ae5f20734a9ca83207a16e5ef75318940">SYSCTL_RCC2_USERCC2</a> | <a class="code" href="hw__sysctl_8h.html#a75e7bedea67b510c86da55247b5fb2ac">SYSCTL_RCC_OSCSRC_M</a>);
<a name="l02613"></a>02613     ui32RCC2 |= (ui32Config &amp; 0x00000008) &lt;&lt; 3;
<a name="l02614"></a>02614 
<a name="l02615"></a>02615     <span class="comment">//</span>
<a name="l02616"></a>02616     <span class="comment">// Write the new RCC value.</span>
<a name="l02617"></a>02617     <span class="comment">//</span>
<a name="l02618"></a>02618     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a23e27fd6ce8421975c6d703068dc8fea">SYSCTL_RCC</a>) = ui32RCC;
<a name="l02619"></a>02619     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a6a83bd485e529b5a78559157d5569755">SYSCTL_RCC2</a>) = ui32RCC2;
<a name="l02620"></a>02620 
<a name="l02621"></a>02621     <span class="comment">//</span>
<a name="l02622"></a>02622     <span class="comment">// Set the PLL configuration.</span>
<a name="l02623"></a>02623     <span class="comment">//</span>
<a name="l02624"></a>02624     ui32RCC &amp;= ~<a class="code" href="hw__sysctl_8h.html#a35905e3ba9779f862e9e0e6c33061158">SYSCTL_RCC_PWRDN</a>;
<a name="l02625"></a>02625     ui32RCC |= ui32Config &amp; <a class="code" href="hw__sysctl_8h.html#a35905e3ba9779f862e9e0e6c33061158">SYSCTL_RCC_PWRDN</a>;
<a name="l02626"></a>02626     ui32RCC2 &amp;= ~<a class="code" href="hw__sysctl_8h.html#a5aeb661402986a55ada899546102f7df">SYSCTL_RCC2_PWRDN2</a>;
<a name="l02627"></a>02627     ui32RCC2 |= ui32Config &amp; <a class="code" href="hw__sysctl_8h.html#a5aeb661402986a55ada899546102f7df">SYSCTL_RCC2_PWRDN2</a>;
<a name="l02628"></a>02628 
<a name="l02629"></a>02629     <span class="comment">//</span>
<a name="l02630"></a>02630     <span class="comment">// Clear the PLL lock interrupt.</span>
<a name="l02631"></a>02631     <span class="comment">//</span>
<a name="l02632"></a>02632     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a4f9f87f9381b3da165a82bde242d5e61">SYSCTL_MISC</a>) = <a class="code" href="hw__sysctl_8h.html#a393020f45f93446f69823444302de1b4">SYSCTL_MISC_PLLLMIS</a>;
<a name="l02633"></a>02633 
<a name="l02634"></a>02634     <span class="comment">//</span>
<a name="l02635"></a>02635     <span class="comment">// Write the new RCC value.</span>
<a name="l02636"></a>02636     <span class="comment">//</span>
<a name="l02637"></a>02637     <span class="keywordflow">if</span>(ui32RCC2 &amp; <a class="code" href="hw__sysctl_8h.html#ae5f20734a9ca83207a16e5ef75318940">SYSCTL_RCC2_USERCC2</a>)
<a name="l02638"></a>02638     {
<a name="l02639"></a>02639         <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a6a83bd485e529b5a78559157d5569755">SYSCTL_RCC2</a>) = ui32RCC2;
<a name="l02640"></a>02640         <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a23e27fd6ce8421975c6d703068dc8fea">SYSCTL_RCC</a>) = ui32RCC;
<a name="l02641"></a>02641     }
<a name="l02642"></a>02642     <span class="keywordflow">else</span>
<a name="l02643"></a>02643     {
<a name="l02644"></a>02644         <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a23e27fd6ce8421975c6d703068dc8fea">SYSCTL_RCC</a>) = ui32RCC;
<a name="l02645"></a>02645         <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a6a83bd485e529b5a78559157d5569755">SYSCTL_RCC2</a>) = ui32RCC2;
<a name="l02646"></a>02646     }
<a name="l02647"></a>02647 
<a name="l02648"></a>02648     <span class="comment">//</span>
<a name="l02649"></a>02649     <span class="comment">// Set the requested system divider and disable the appropriate</span>
<a name="l02650"></a>02650     <span class="comment">// oscillators.  This value is not written immediately.</span>
<a name="l02651"></a>02651     <span class="comment">//</span>
<a name="l02652"></a>02652     ui32RCC &amp;= ~(<a class="code" href="hw__sysctl_8h.html#a719b4628723fd5b2f675a111ef9aa851">SYSCTL_RCC_SYSDIV_M</a> | <a class="code" href="hw__sysctl_8h.html#af8fb495f4cdd46774964a5f822087001">SYSCTL_RCC_USESYSDIV</a> |
<a name="l02653"></a>02653                  <a class="code" href="hw__sysctl_8h.html#a3d2bb3a1bc4e46017c5c8f25185e3ed3">SYSCTL_RCC_MOSCDIS</a>);
<a name="l02654"></a>02654     ui32RCC |= ui32Config &amp; (<a class="code" href="hw__sysctl_8h.html#a719b4628723fd5b2f675a111ef9aa851">SYSCTL_RCC_SYSDIV_M</a> | <a class="code" href="hw__sysctl_8h.html#af8fb495f4cdd46774964a5f822087001">SYSCTL_RCC_USESYSDIV</a> |
<a name="l02655"></a>02655                              <a class="code" href="hw__sysctl_8h.html#a3d2bb3a1bc4e46017c5c8f25185e3ed3">SYSCTL_RCC_MOSCDIS</a>);
<a name="l02656"></a>02656     ui32RCC2 &amp;= ~(<a class="code" href="hw__sysctl_8h.html#a7f848a6822999ad303f55dcec9e9066b">SYSCTL_RCC2_SYSDIV2_M</a>);
<a name="l02657"></a>02657     ui32RCC2 |= ui32Config &amp; <a class="code" href="hw__sysctl_8h.html#a7f848a6822999ad303f55dcec9e9066b">SYSCTL_RCC2_SYSDIV2_M</a>;
<a name="l02658"></a>02658     <span class="keywordflow">if</span>(ui32Config &amp; <a class="code" href="hw__sysctl_8h.html#aa06ac42bcfd26bc1d713eba6f7acf74d">SYSCTL_RCC2_DIV400</a>)
<a name="l02659"></a>02659     {
<a name="l02660"></a>02660         ui32RCC |= <a class="code" href="hw__sysctl_8h.html#af8fb495f4cdd46774964a5f822087001">SYSCTL_RCC_USESYSDIV</a>;
<a name="l02661"></a>02661         ui32RCC2 &amp;= ~(<a class="code" href="hw__sysctl_8h.html#af8fb495f4cdd46774964a5f822087001">SYSCTL_RCC_USESYSDIV</a>);
<a name="l02662"></a>02662         ui32RCC2 |= ui32Config &amp; (SYSCTL_RCC2_DIV400 | <a class="code" href="hw__sysctl_8h.html#a22f13ac333a74a868044424d01f853b3">SYSCTL_RCC2_SYSDIV2LSB</a>);
<a name="l02663"></a>02663     }
<a name="l02664"></a>02664     <span class="keywordflow">else</span>
<a name="l02665"></a>02665     {
<a name="l02666"></a>02666         ui32RCC2 &amp;= ~(<a class="code" href="hw__sysctl_8h.html#aa06ac42bcfd26bc1d713eba6f7acf74d">SYSCTL_RCC2_DIV400</a>);
<a name="l02667"></a>02667     }
<a name="l02668"></a>02668 
<a name="l02669"></a>02669     <span class="comment">//</span>
<a name="l02670"></a>02670     <span class="comment">// See if the PLL output is being used to clock the system.</span>
<a name="l02671"></a>02671     <span class="comment">//</span>
<a name="l02672"></a>02672     <span class="keywordflow">if</span>(!(ui32Config &amp; <a class="code" href="hw__sysctl_8h.html#a97ff3e281b18a61b1d23718154d69110">SYSCTL_RCC_BYPASS</a>))
<a name="l02673"></a>02673     {
<a name="l02674"></a>02674         <span class="comment">//</span>
<a name="l02675"></a>02675         <span class="comment">// Wait until the PLL has locked.</span>
<a name="l02676"></a>02676         <span class="comment">//</span>
<a name="l02677"></a>02677         <span class="keywordflow">for</span>(ui32Delay = 32768; ui32Delay &gt; 0; ui32Delay--)
<a name="l02678"></a>02678         {
<a name="l02679"></a>02679             <span class="keywordflow">if</span>((<a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a22dba56588d81f1db2a533a89128eb89">SYSCTL_PLLSTAT</a>) &amp; <a class="code" href="hw__sysctl_8h.html#a3b453f1ca6c5b4cb11e25d7639fb7999">SYSCTL_PLLSTAT_LOCK</a>))
<a name="l02680"></a>02680             {
<a name="l02681"></a>02681                 <span class="keywordflow">break</span>;
<a name="l02682"></a>02682             }
<a name="l02683"></a>02683         }
<a name="l02684"></a>02684 
<a name="l02685"></a>02685         <span class="comment">//</span>
<a name="l02686"></a>02686         <span class="comment">// Enable use of the PLL.</span>
<a name="l02687"></a>02687         <span class="comment">//</span>
<a name="l02688"></a>02688         ui32RCC &amp;= ~(<a class="code" href="hw__sysctl_8h.html#a97ff3e281b18a61b1d23718154d69110">SYSCTL_RCC_BYPASS</a>);
<a name="l02689"></a>02689         ui32RCC2 &amp;= ~(<a class="code" href="hw__sysctl_8h.html#a00ba5e9742453395621589a080457f63">SYSCTL_RCC2_BYPASS2</a>);
<a name="l02690"></a>02690     }
<a name="l02691"></a>02691 
<a name="l02692"></a>02692     <span class="comment">//</span>
<a name="l02693"></a>02693     <span class="comment">// Write the final RCC value.</span>
<a name="l02694"></a>02694     <span class="comment">//</span>
<a name="l02695"></a>02695     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a23e27fd6ce8421975c6d703068dc8fea">SYSCTL_RCC</a>) = ui32RCC;
<a name="l02696"></a>02696     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a6a83bd485e529b5a78559157d5569755">SYSCTL_RCC2</a>) = ui32RCC2;
<a name="l02697"></a>02697 
<a name="l02698"></a>02698     <span class="comment">//</span>
<a name="l02699"></a>02699     <span class="comment">// Delay for a little bit so that the system divider takes effect.</span>
<a name="l02700"></a>02700     <span class="comment">//</span>
<a name="l02701"></a>02701     <a class="code" href="sysctl_8h.html#a992a7493f587384e949178cdc4063042">SysCtlDelay</a>(16);
<a name="l02702"></a>02702 }
<a name="l02703"></a>02703 
<a name="l02704"></a>02704 <span class="comment">//*****************************************************************************</span>
<a name="l02705"></a>02705 <span class="comment">//</span>
<a name="l02724"></a>02724 <span class="comment"></span><span class="comment">//</span>
<a name="l02725"></a>02725 <span class="comment">//*****************************************************************************</span>
<a name="l02726"></a>02726 uint32_t
<a name="l02727"></a><a class="code" href="group__sysctl__api.html#ga97d96b02b249a16354577bde88ece728">02727</a> <a class="code" href="group__sysctl__api.html#ga97d96b02b249a16354577bde88ece728">SysCtlClockGet</a>(<span class="keywordtype">void</span>)
<a name="l02728"></a>02728 {
<a name="l02729"></a>02729     uint32_t ui32RCC, ui32RCC2, ui32PLL, ui32Clk, ui32Max;
<a name="l02730"></a>02730     uint32_t ui32PLL1;
<a name="l02731"></a>02731 
<a name="l02732"></a>02732     <span class="comment">//</span>
<a name="l02733"></a>02733     <span class="comment">// This function is only valid on TM4C123 devices.</span>
<a name="l02734"></a>02734     <span class="comment">//</span>
<a name="l02735"></a>02735     <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(<a class="code" href="hw__types_8h.html#aed400510c15509bdc6296e5c233f6cd3">CLASS_IS_TM4C123</a>);
<a name="l02736"></a>02736 
<a name="l02737"></a>02737     <span class="comment">//</span>
<a name="l02738"></a>02738     <span class="comment">// Read RCC and RCC2.</span>
<a name="l02739"></a>02739     <span class="comment">//</span>
<a name="l02740"></a>02740     ui32RCC = <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a23e27fd6ce8421975c6d703068dc8fea">SYSCTL_RCC</a>);
<a name="l02741"></a>02741     ui32RCC2 = <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a6a83bd485e529b5a78559157d5569755">SYSCTL_RCC2</a>);
<a name="l02742"></a>02742 
<a name="l02743"></a>02743     <span class="comment">//</span>
<a name="l02744"></a>02744     <span class="comment">// Get the base clock rate.</span>
<a name="l02745"></a>02745     <span class="comment">//</span>
<a name="l02746"></a>02746     <span class="keywordflow">switch</span>((ui32RCC2 &amp; <a class="code" href="hw__sysctl_8h.html#ae5f20734a9ca83207a16e5ef75318940">SYSCTL_RCC2_USERCC2</a>) ?
<a name="l02747"></a>02747            (ui32RCC2 &amp; <a class="code" href="hw__sysctl_8h.html#afdb53185ed0afb41bf88b1db0366084b">SYSCTL_RCC2_OSCSRC2_M</a>) :
<a name="l02748"></a>02748            (ui32RCC &amp; <a class="code" href="hw__sysctl_8h.html#a75e7bedea67b510c86da55247b5fb2ac">SYSCTL_RCC_OSCSRC_M</a>))
<a name="l02749"></a>02749     {
<a name="l02750"></a>02750         <span class="comment">//</span>
<a name="l02751"></a>02751         <span class="comment">// The main oscillator is the clock source.  Determine its rate from</span>
<a name="l02752"></a>02752         <span class="comment">// the crystal setting field.</span>
<a name="l02753"></a>02753         <span class="comment">//</span>
<a name="l02754"></a>02754         <span class="keywordflow">case</span> <a class="code" href="hw__sysctl_8h.html#af3941f513e108623482be430f3f7b53d">SYSCTL_RCC_OSCSRC_MAIN</a>:
<a name="l02755"></a>02755         {
<a name="l02756"></a>02756             ui32Clk = <a class="code" href="group__sysctl__api.html#ga286fd0282c7ed9baca324931b9318afd">g_pui32Xtals</a>[(ui32RCC &amp; <a class="code" href="hw__sysctl_8h.html#a5df997a8860ccb7286d15ba776d5142d">SYSCTL_RCC_XTAL_M</a>) &gt;&gt;
<a name="l02757"></a>02757                                    <a class="code" href="hw__sysctl_8h.html#ae5a82624a6b3ffcfeb7559ca85920c2c">SYSCTL_RCC_XTAL_S</a>];
<a name="l02758"></a>02758             <span class="keywordflow">break</span>;
<a name="l02759"></a>02759         }
<a name="l02760"></a>02760 
<a name="l02761"></a>02761         <span class="comment">//</span>
<a name="l02762"></a>02762         <span class="comment">// The internal oscillator is the source clock.</span>
<a name="l02763"></a>02763         <span class="comment">//</span>
<a name="l02764"></a>02764         <span class="keywordflow">case</span> <a class="code" href="hw__sysctl_8h.html#ac778c87d200296b59cd6f1677e7dc933">SYSCTL_RCC_OSCSRC_INT</a>:
<a name="l02765"></a>02765         {
<a name="l02766"></a>02766             <span class="comment">//</span>
<a name="l02767"></a>02767             <span class="comment">// The internal oscillator on all devices is 16 MHz.</span>
<a name="l02768"></a>02768             <span class="comment">//</span>
<a name="l02769"></a>02769             ui32Clk = 16000000;
<a name="l02770"></a>02770             <span class="keywordflow">break</span>;
<a name="l02771"></a>02771         }
<a name="l02772"></a>02772 
<a name="l02773"></a>02773         <span class="comment">//</span>
<a name="l02774"></a>02774         <span class="comment">// The internal oscillator divided by four is the source clock.</span>
<a name="l02775"></a>02775         <span class="comment">//</span>
<a name="l02776"></a>02776         <span class="keywordflow">case</span> <a class="code" href="hw__sysctl_8h.html#a5886833e87f9efa8145163267953ca50">SYSCTL_RCC_OSCSRC_INT4</a>:
<a name="l02777"></a>02777         {
<a name="l02778"></a>02778             <span class="comment">//</span>
<a name="l02779"></a>02779             <span class="comment">// The internal oscillator on all devices is 16 MHz.</span>
<a name="l02780"></a>02780             <span class="comment">//</span>
<a name="l02781"></a>02781             ui32Clk = 16000000 / 4;
<a name="l02782"></a>02782             <span class="keywordflow">break</span>;
<a name="l02783"></a>02783         }
<a name="l02784"></a>02784 
<a name="l02785"></a>02785         <span class="comment">//</span>
<a name="l02786"></a>02786         <span class="comment">// The internal 30-KHz oscillator is the source clock.</span>
<a name="l02787"></a>02787         <span class="comment">//</span>
<a name="l02788"></a>02788         <span class="keywordflow">case</span> <a class="code" href="hw__sysctl_8h.html#af2ddb4f47bb269217c0ecd59dfa741c8">SYSCTL_RCC_OSCSRC_30</a>:
<a name="l02789"></a>02789         {
<a name="l02790"></a>02790             <span class="comment">//</span>
<a name="l02791"></a>02791             <span class="comment">// The internal 30-KHz oscillator has an accuracy of +/- 30%.</span>
<a name="l02792"></a>02792             <span class="comment">//</span>
<a name="l02793"></a>02793             ui32Clk = 30000;
<a name="l02794"></a>02794             <span class="keywordflow">break</span>;
<a name="l02795"></a>02795         }
<a name="l02796"></a>02796 
<a name="l02797"></a>02797         <span class="comment">//</span>
<a name="l02798"></a>02798         <span class="comment">// The 32.768-KHz clock from the hibernate module is the source clock.</span>
<a name="l02799"></a>02799         <span class="comment">//</span>
<a name="l02800"></a>02800         <span class="keywordflow">case</span> <a class="code" href="hw__sysctl_8h.html#ad9a3749bef22de7ffc9a143011b0178b">SYSCTL_RCC2_OSCSRC2_32</a>:
<a name="l02801"></a>02801         {
<a name="l02802"></a>02802             ui32Clk = 32768;
<a name="l02803"></a>02803             <span class="keywordflow">break</span>;
<a name="l02804"></a>02804         }
<a name="l02805"></a>02805 
<a name="l02806"></a>02806         <span class="comment">//</span>
<a name="l02807"></a>02807         <span class="comment">// An unknown setting, so return a zero clock (that is, an unknown</span>
<a name="l02808"></a>02808         <span class="comment">// clock rate).</span>
<a name="l02809"></a>02809         <span class="comment">//</span>
<a name="l02810"></a>02810         <span class="keywordflow">default</span>:
<a name="l02811"></a>02811         {
<a name="l02812"></a>02812             <span class="keywordflow">return</span>(0);
<a name="l02813"></a>02813         }
<a name="l02814"></a>02814     }
<a name="l02815"></a>02815 
<a name="l02816"></a>02816     <span class="comment">//</span>
<a name="l02817"></a>02817     <span class="comment">// Default the maximum frequency to the maximum 32-bit unsigned value.</span>
<a name="l02818"></a>02818     <span class="comment">//</span>
<a name="l02819"></a>02819     ui32Max = 0xffffffff;
<a name="l02820"></a>02820 
<a name="l02821"></a>02821     <span class="comment">//</span>
<a name="l02822"></a>02822     <span class="comment">// See if the PLL is being used.</span>
<a name="l02823"></a>02823     <span class="comment">//</span>
<a name="l02824"></a>02824     <span class="keywordflow">if</span>(((ui32RCC2 &amp; SYSCTL_RCC2_USERCC2) &amp;&amp;
<a name="l02825"></a>02825         !(ui32RCC2 &amp; <a class="code" href="hw__sysctl_8h.html#a00ba5e9742453395621589a080457f63">SYSCTL_RCC2_BYPASS2</a>)) ||
<a name="l02826"></a>02826        (!(ui32RCC2 &amp; <a class="code" href="hw__sysctl_8h.html#ae5f20734a9ca83207a16e5ef75318940">SYSCTL_RCC2_USERCC2</a>) &amp;&amp; !(ui32RCC &amp; <a class="code" href="hw__sysctl_8h.html#a97ff3e281b18a61b1d23718154d69110">SYSCTL_RCC_BYPASS</a>)))
<a name="l02827"></a>02827     {
<a name="l02828"></a>02828         <span class="comment">//</span>
<a name="l02829"></a>02829         <span class="comment">// Read the two PLL frequency registers.  The formula for a</span>
<a name="l02830"></a>02830         <span class="comment">// TM4C123 device is &quot;(xtal * m) / ((q + 1) * (n + 1))&quot;.</span>
<a name="l02831"></a>02831         <span class="comment">//</span>
<a name="l02832"></a>02832         ui32PLL = <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#aafe0fae5b7bc00e01652773e2cb03d38">SYSCTL_PLLFREQ0</a>);
<a name="l02833"></a>02833         ui32PLL1 = <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a734cc69a16872dc5b0435dfc8e33ce8c">SYSCTL_PLLFREQ1</a>);
<a name="l02834"></a>02834 
<a name="l02835"></a>02835         <span class="comment">//</span>
<a name="l02836"></a>02836         <span class="comment">// Divide the input clock by the dividers.</span>
<a name="l02837"></a>02837         <span class="comment">//</span>
<a name="l02838"></a>02838         ui32Clk /= ((((ui32PLL1 &amp; <a class="code" href="hw__sysctl_8h.html#ac0ca8ac3afaa8c388e33a8691fbf9159">SYSCTL_PLLFREQ1_Q_M</a>) &gt;&gt;
<a name="l02839"></a>02839                       <a class="code" href="hw__sysctl_8h.html#ace8575577d0a4037333a38f97adb9f7b">SYSCTL_PLLFREQ1_Q_S</a>) + 1) *
<a name="l02840"></a>02840                     (((ui32PLL1 &amp; <a class="code" href="hw__sysctl_8h.html#af2b299d2ba238cbead1ac1fdc034e01f">SYSCTL_PLLFREQ1_N_M</a>) &gt;&gt;
<a name="l02841"></a>02841                       <a class="code" href="hw__sysctl_8h.html#ab0b5adbda9a48cfb7702d281fbcbd833">SYSCTL_PLLFREQ1_N_S</a>) + 1) * 2);
<a name="l02842"></a>02842 
<a name="l02843"></a>02843         <span class="comment">//</span>
<a name="l02844"></a>02844         <span class="comment">// Multiply the clock by the multiplier, which is split into an</span>
<a name="l02845"></a>02845         <span class="comment">// integer part and a fractional part.</span>
<a name="l02846"></a>02846         <span class="comment">//</span>
<a name="l02847"></a>02847         ui32Clk = ((ui32Clk * ((ui32PLL &amp; <a class="code" href="hw__sysctl_8h.html#a06f10c3bb3998d174a15051fed182d22">SYSCTL_PLLFREQ0_MINT_M</a>) &gt;&gt;
<a name="l02848"></a>02848                                <a class="code" href="hw__sysctl_8h.html#a886a4cecfba3b1123f6d99a6b0312775">SYSCTL_PLLFREQ0_MINT_S</a>)) +
<a name="l02849"></a>02849                    ((ui32Clk * ((ui32PLL &amp; <a class="code" href="hw__sysctl_8h.html#afef9d1e924a08a717cd2a179415f87ee">SYSCTL_PLLFREQ0_MFRAC_M</a>) &gt;&gt;
<a name="l02850"></a>02850                                 <a class="code" href="hw__sysctl_8h.html#a74a0cb30677d19f64ab7e3f34b093759">SYSCTL_PLLFREQ0_MFRAC_S</a>)) &gt;&gt; 10));
<a name="l02851"></a>02851 
<a name="l02852"></a>02852         <span class="comment">//</span>
<a name="l02853"></a>02853         <span class="comment">// Force the system divider to be enabled.  It is always used when</span>
<a name="l02854"></a>02854         <span class="comment">// using the PLL, but in some cases it does not read as being enabled.</span>
<a name="l02855"></a>02855         <span class="comment">//</span>
<a name="l02856"></a>02856         ui32RCC |= <a class="code" href="hw__sysctl_8h.html#af8fb495f4cdd46774964a5f822087001">SYSCTL_RCC_USESYSDIV</a>;
<a name="l02857"></a>02857 
<a name="l02858"></a>02858         <span class="comment">//</span>
<a name="l02859"></a>02859         <span class="comment">// Calculate the maximum system frequency.</span>
<a name="l02860"></a>02860         <span class="comment">//</span>
<a name="l02861"></a>02861         <span class="keywordflow">switch</span>(<a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a9f9ebf19876182aab0eccfbc50bebc2e">SYSCTL_DC1</a>) &amp; <a class="code" href="hw__sysctl_8h.html#aad578b1c8ff2e3253c045ba3e5b84869">SYSCTL_DC1_MINSYSDIV_M</a>)
<a name="l02862"></a>02862         {
<a name="l02863"></a>02863             <span class="keywordflow">case</span> <a class="code" href="hw__sysctl_8h.html#a8bc026a02a463126719d7d1bc450b4c9">SYSCTL_DC1_MINSYSDIV_80</a>:
<a name="l02864"></a>02864             {
<a name="l02865"></a>02865                 ui32Max = 80000000;
<a name="l02866"></a>02866                 <span class="keywordflow">break</span>;
<a name="l02867"></a>02867             }
<a name="l02868"></a>02868             <span class="keywordflow">case</span> <a class="code" href="hw__sysctl_8h.html#ada9dcea531ad43b1fd05291355054024">SYSCTL_DC1_MINSYSDIV_66</a>:
<a name="l02869"></a>02869             {
<a name="l02870"></a>02870                 ui32Max = 66666666;
<a name="l02871"></a>02871                 <span class="keywordflow">break</span>;
<a name="l02872"></a>02872             }
<a name="l02873"></a>02873             <span class="keywordflow">case</span> <a class="code" href="hw__sysctl_8h.html#a00034b23e2a12068853df7db74eaff4d">SYSCTL_DC1_MINSYSDIV_50</a>:
<a name="l02874"></a>02874             {
<a name="l02875"></a>02875                 ui32Max = 50000000;
<a name="l02876"></a>02876                 <span class="keywordflow">break</span>;
<a name="l02877"></a>02877             }
<a name="l02878"></a>02878             <span class="keywordflow">case</span> <a class="code" href="hw__sysctl_8h.html#a3ab2f555ce41d10906cbaa6a1baef889">SYSCTL_DC1_MINSYSDIV_40</a>:
<a name="l02879"></a>02879             {
<a name="l02880"></a>02880                 ui32Max = 40000000;
<a name="l02881"></a>02881                 <span class="keywordflow">break</span>;
<a name="l02882"></a>02882             }
<a name="l02883"></a>02883             <span class="keywordflow">case</span> <a class="code" href="hw__sysctl_8h.html#ab2da3b5740c3a886169665c9a337790f">SYSCTL_DC1_MINSYSDIV_25</a>:
<a name="l02884"></a>02884             {
<a name="l02885"></a>02885                 ui32Max = 25000000;
<a name="l02886"></a>02886                 <span class="keywordflow">break</span>;
<a name="l02887"></a>02887             }
<a name="l02888"></a>02888             <span class="keywordflow">case</span> <a class="code" href="hw__sysctl_8h.html#acd80b8dfcbb6dfbd3b8720702c3a139d">SYSCTL_DC1_MINSYSDIV_20</a>:
<a name="l02889"></a>02889             {
<a name="l02890"></a>02890                 ui32Max = 20000000;
<a name="l02891"></a>02891                 <span class="keywordflow">break</span>;
<a name="l02892"></a>02892             }
<a name="l02893"></a>02893             <span class="keywordflow">default</span>:
<a name="l02894"></a>02894             {
<a name="l02895"></a>02895                 <span class="keywordflow">break</span>;
<a name="l02896"></a>02896             }
<a name="l02897"></a>02897         }
<a name="l02898"></a>02898     }
<a name="l02899"></a>02899 
<a name="l02900"></a>02900     <span class="comment">//</span>
<a name="l02901"></a>02901     <span class="comment">// See if the system divider is being used.</span>
<a name="l02902"></a>02902     <span class="comment">//</span>
<a name="l02903"></a>02903     <span class="keywordflow">if</span>(ui32RCC &amp; <a class="code" href="hw__sysctl_8h.html#af8fb495f4cdd46774964a5f822087001">SYSCTL_RCC_USESYSDIV</a>)
<a name="l02904"></a>02904     {
<a name="l02905"></a>02905         <span class="comment">//</span>
<a name="l02906"></a>02906         <span class="comment">// Adjust the clock rate by the system clock divider.</span>
<a name="l02907"></a>02907         <span class="comment">//</span>
<a name="l02908"></a>02908         <span class="keywordflow">if</span>(ui32RCC2 &amp; SYSCTL_RCC2_USERCC2)
<a name="l02909"></a>02909         {
<a name="l02910"></a>02910             <span class="keywordflow">if</span>((ui32RCC2 &amp; <a class="code" href="hw__sysctl_8h.html#aa06ac42bcfd26bc1d713eba6f7acf74d">SYSCTL_RCC2_DIV400</a>) &amp;&amp;
<a name="l02911"></a>02911                (((ui32RCC2 &amp; <a class="code" href="hw__sysctl_8h.html#ae5f20734a9ca83207a16e5ef75318940">SYSCTL_RCC2_USERCC2</a>) &amp;&amp;
<a name="l02912"></a>02912                  !(ui32RCC2 &amp; SYSCTL_RCC2_BYPASS2)) ||
<a name="l02913"></a>02913                 (!(ui32RCC2 &amp; SYSCTL_RCC2_USERCC2) &amp;&amp;
<a name="l02914"></a>02914                  !(ui32RCC &amp; <a class="code" href="hw__sysctl_8h.html#a97ff3e281b18a61b1d23718154d69110">SYSCTL_RCC_BYPASS</a>))))
<a name="l02915"></a>02915 
<a name="l02916"></a>02916             {
<a name="l02917"></a>02917                 ui32Clk = ((ui32Clk * 2) / (((ui32RCC2 &amp;
<a name="l02918"></a>02918                                               (<a class="code" href="hw__sysctl_8h.html#a7f848a6822999ad303f55dcec9e9066b">SYSCTL_RCC2_SYSDIV2_M</a> |
<a name="l02919"></a>02919                                                <a class="code" href="hw__sysctl_8h.html#a22f13ac333a74a868044424d01f853b3">SYSCTL_RCC2_SYSDIV2LSB</a>)) &gt;&gt;
<a name="l02920"></a>02920                                              (<a class="code" href="hw__sysctl_8h.html#aed06c906f00b879806419ee043f2d78c">SYSCTL_RCC2_SYSDIV2_S</a> - 1)) +
<a name="l02921"></a>02921                                             1));
<a name="l02922"></a>02922             }
<a name="l02923"></a>02923             <span class="keywordflow">else</span>
<a name="l02924"></a>02924             {
<a name="l02925"></a>02925                 ui32Clk /= (((ui32RCC2 &amp; <a class="code" href="hw__sysctl_8h.html#a7f848a6822999ad303f55dcec9e9066b">SYSCTL_RCC2_SYSDIV2_M</a>) &gt;&gt;
<a name="l02926"></a>02926                              <a class="code" href="hw__sysctl_8h.html#aed06c906f00b879806419ee043f2d78c">SYSCTL_RCC2_SYSDIV2_S</a>) + 1);
<a name="l02927"></a>02927             }
<a name="l02928"></a>02928         }
<a name="l02929"></a>02929         <span class="keywordflow">else</span>
<a name="l02930"></a>02930         {
<a name="l02931"></a>02931             ui32Clk /= (((ui32RCC &amp; <a class="code" href="hw__sysctl_8h.html#a719b4628723fd5b2f675a111ef9aa851">SYSCTL_RCC_SYSDIV_M</a>) &gt;&gt;
<a name="l02932"></a>02932                          <a class="code" href="hw__sysctl_8h.html#acec4f9e17ebfb07b682d8a59693a8db3">SYSCTL_RCC_SYSDIV_S</a>) + 1);
<a name="l02933"></a>02933         }
<a name="l02934"></a>02934     }
<a name="l02935"></a>02935 
<a name="l02936"></a>02936     <span class="comment">//</span>
<a name="l02937"></a>02937     <span class="comment">// Limit the maximum clock to the maximum clock frequency.</span>
<a name="l02938"></a>02938     <span class="comment">//</span>
<a name="l02939"></a>02939     <span class="keywordflow">if</span>(ui32Max &lt; ui32Clk)
<a name="l02940"></a>02940     {
<a name="l02941"></a>02941         ui32Clk = ui32Max;
<a name="l02942"></a>02942     }
<a name="l02943"></a>02943 
<a name="l02944"></a>02944     <span class="comment">//</span>
<a name="l02945"></a>02945     <span class="comment">// Return the computed clock rate.</span>
<a name="l02946"></a>02946     <span class="comment">//</span>
<a name="l02947"></a>02947     <span class="keywordflow">return</span>(ui32Clk);
<a name="l02948"></a>02948 }
<a name="l02949"></a>02949 
<a name="l02950"></a>02950 <span class="comment">//*****************************************************************************</span>
<a name="l02951"></a>02951 <span class="comment">//</span>
<a name="l02986"></a>02986 <span class="comment"></span><span class="comment">//</span>
<a name="l02987"></a>02987 <span class="comment">//*****************************************************************************</span>
<a name="l02988"></a>02988 <span class="keywordtype">void</span>
<a name="l02989"></a><a class="code" href="group__sysctl__api.html#ga744cd0f180b45ce693702fd074acb1db">02989</a> <a class="code" href="group__sysctl__api.html#ga744cd0f180b45ce693702fd074acb1db">SysCtlDeepSleepClockSet</a>(uint32_t ui32Config)
<a name="l02990"></a>02990 {
<a name="l02991"></a>02991     <span class="comment">//</span>
<a name="l02992"></a>02992     <span class="comment">// Set the deep-sleep clock configuration.</span>
<a name="l02993"></a>02993     <span class="comment">//</span>
<a name="l02994"></a>02994     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a68c7187602ac287437278b7680d80ed1">SYSCTL_DSLPCLKCFG</a>) = ui32Config;
<a name="l02995"></a>02995 }
<a name="l02996"></a>02996 
<a name="l02997"></a>02997 <span class="comment">//*****************************************************************************</span>
<a name="l02998"></a>02998 <span class="comment">//</span>
<a name="l03036"></a>03036 <span class="comment"></span><span class="comment">//</span>
<a name="l03037"></a>03037 <span class="comment">//*****************************************************************************</span>
<a name="l03038"></a>03038 <span class="keywordtype">void</span>
<a name="l03039"></a><a class="code" href="group__sysctl__api.html#gac1a32f72f5bad65b43795069a68ac2a6">03039</a> <a class="code" href="group__sysctl__api.html#gac1a32f72f5bad65b43795069a68ac2a6">SysCtlDeepSleepClockConfigSet</a>(uint32_t ui32Div, uint32_t ui32Config)
<a name="l03040"></a>03040 {
<a name="l03041"></a>03041     uint32_t ui32Value;
<a name="l03042"></a>03042 
<a name="l03043"></a>03043     <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Div != 0);
<a name="l03044"></a>03044 
<a name="l03045"></a>03045     <span class="keywordflow">if</span>(<a class="code" href="hw__types_8h.html#aed400510c15509bdc6296e5c233f6cd3">CLASS_IS_TM4C123</a>)
<a name="l03046"></a>03046     {
<a name="l03047"></a>03047         <span class="comment">//</span>
<a name="l03048"></a>03048         <span class="comment">// Set the deep-sleep clock configuration.</span>
<a name="l03049"></a>03049         <span class="comment">//</span>
<a name="l03050"></a>03050         <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a68c7187602ac287437278b7680d80ed1">SYSCTL_DSLPCLKCFG</a>) = (ui32Config &amp; ~<a class="code" href="hw__sysctl_8h.html#a1b3c59ae3b3863589ef68e67c4202dac">SYSCTL_DSLPCLKCFG_D_M</a>) |
<a name="l03051"></a>03051                                    ((ui32Div - 1) &lt;&lt; <a class="code" href="hw__sysctl_8h.html#a1600d3436ff602162d7965675f0d7d85">SYSCTL_DSLPCLKCFG_D_S</a>);
<a name="l03052"></a>03052     }
<a name="l03053"></a>03053     <span class="keywordflow">else</span>
<a name="l03054"></a>03054     {
<a name="l03055"></a>03055         <span class="comment">//</span>
<a name="l03056"></a>03056         <span class="comment">// Initialize the value with the divider.</span>
<a name="l03057"></a>03057         <span class="comment">//</span>
<a name="l03058"></a>03058         ui32Value = ui32Div - 1;
<a name="l03059"></a>03059 
<a name="l03060"></a>03060         <span class="comment">//</span>
<a name="l03061"></a>03061         <span class="comment">// Set the clock source selection based on the defines used for</span>
<a name="l03062"></a>03062         <span class="comment">// SysCtlDeepSleepClockSet() function so that there is some backwards</span>
<a name="l03063"></a>03063         <span class="comment">// compatibility.</span>
<a name="l03064"></a>03064         <span class="comment">//</span>
<a name="l03065"></a>03065         <span class="keywordflow">switch</span>(ui32Config &amp; <a class="code" href="hw__sysctl_8h.html#a9445639f8c69fde7b3b9ca1549829fea">SYSCTL_DSLPCLKCFG_O_M</a>)
<a name="l03066"></a>03066         {
<a name="l03067"></a>03067             <span class="comment">//</span>
<a name="l03068"></a>03068             <span class="comment">// Choose the main external oscillator.</span>
<a name="l03069"></a>03069             <span class="comment">//</span>
<a name="l03070"></a>03070             <span class="keywordflow">case</span> <a class="code" href="sysctl_8h.html#ae22fd83f008cdaad12219f93aa846a0e">SYSCTL_DSLP_OSC_MAIN</a>:
<a name="l03071"></a>03071             {
<a name="l03072"></a>03072                 ui32Value |= <a class="code" href="hw__sysctl_8h.html#a1eabec8dd7a5a36122afa04f059c22c4">SYSCTL_DSCLKCFG_DSOSCSRC_MOSC</a>;
<a name="l03073"></a>03073 
<a name="l03074"></a>03074                 <span class="keywordflow">break</span>;
<a name="l03075"></a>03075             }
<a name="l03076"></a>03076 
<a name="l03077"></a>03077             <span class="comment">//</span>
<a name="l03078"></a>03078             <span class="comment">// Choose the low frequency oscillator.</span>
<a name="l03079"></a>03079             <span class="comment">//</span>
<a name="l03080"></a>03080             <span class="keywordflow">case</span> <a class="code" href="sysctl_8h.html#a0b2c093ccea186a3f309a4c2afd35f58">SYSCTL_DSLP_OSC_INT30</a>:
<a name="l03081"></a>03081             {
<a name="l03082"></a>03082                 ui32Value |= <a class="code" href="hw__sysctl_8h.html#a96e8e7aa23434a123b688ef9bfc81b99">SYSCTL_DSCLKCFG_DSOSCSRC_LFIOSC</a>;
<a name="l03083"></a>03083 
<a name="l03084"></a>03084                 <span class="keywordflow">break</span>;
<a name="l03085"></a>03085             }
<a name="l03086"></a>03086 
<a name="l03087"></a>03087             <span class="comment">//</span>
<a name="l03088"></a>03088             <span class="comment">// Choose the low frequency oscillator.</span>
<a name="l03089"></a>03089             <span class="comment">//</span>
<a name="l03090"></a>03090             <span class="keywordflow">case</span> <a class="code" href="sysctl_8h.html#a10da3db9e4299201a0e011eeb0c6a3f5">SYSCTL_DSLP_OSC_EXT32</a>:
<a name="l03091"></a>03091             {
<a name="l03092"></a>03092                 ui32Value |= <a class="code" href="hw__sysctl_8h.html#a959b46bd1cdf3a5ffb8c7028a018079e">SYSCTL_DSCLKCFG_DSOSCSRC_RTC</a>;
<a name="l03093"></a>03093 
<a name="l03094"></a>03094                 <span class="keywordflow">break</span>;
<a name="l03095"></a>03095             }
<a name="l03096"></a>03096             <span class="comment">//</span>
<a name="l03097"></a>03097             <span class="comment">// The zero value uses the PIOSC as the clock source.</span>
<a name="l03098"></a>03098             <span class="comment">//</span>
<a name="l03099"></a>03099             <span class="keywordflow">case</span> <a class="code" href="sysctl_8h.html#a944c129796e21c1bf4d908004231d8ed">SYSCTL_DSLP_OSC_INT</a>:
<a name="l03100"></a>03100             <span class="keywordflow">default</span>:
<a name="l03101"></a>03101             {
<a name="l03102"></a>03102                 <span class="keywordflow">break</span>;
<a name="l03103"></a>03103             }
<a name="l03104"></a>03104         }
<a name="l03105"></a>03105 
<a name="l03106"></a>03106         <span class="comment">//</span>
<a name="l03107"></a>03107         <span class="comment">// Set the PIOSC power down bit.</span>
<a name="l03108"></a>03108         <span class="comment">//</span>
<a name="l03109"></a>03109         <span class="keywordflow">if</span>(ui32Config &amp; <a class="code" href="sysctl_8h.html#ad9571b2166170f673777a875ab3dfc66">SYSCTL_DSLP_PIOSC_PD</a>)
<a name="l03110"></a>03110         {
<a name="l03111"></a>03111             ui32Value |= <a class="code" href="hw__sysctl_8h.html#abe3637fe8f54d98207e7f304b77c142f">SYSCTL_DSCLKCFG_PIOSCPD</a>;
<a name="l03112"></a>03112         }
<a name="l03113"></a>03113 
<a name="l03114"></a>03114         <span class="comment">//</span>
<a name="l03115"></a>03115         <span class="comment">// Set the PIOSC power down bit.</span>
<a name="l03116"></a>03116         <span class="comment">//</span>
<a name="l03117"></a>03117         <span class="keywordflow">if</span>(ui32Config &amp; <a class="code" href="sysctl_8h.html#a31ddb727349e5669348dc42581b1b233">SYSCTL_DSLP_MOSC_PD</a>)
<a name="l03118"></a>03118         {
<a name="l03119"></a>03119             ui32Value |= <a class="code" href="hw__sysctl_8h.html#a81a85a9c8f0c88d18e6279b9409572ab">SYSCTL_DSCLKCFG_MOSCDPD</a>;
<a name="l03120"></a>03120         }
<a name="l03121"></a>03121 
<a name="l03122"></a>03122         <span class="comment">//</span>
<a name="l03123"></a>03123         <span class="comment">// Update the deep-sleep clock configuration.</span>
<a name="l03124"></a>03124         <span class="comment">//</span>
<a name="l03125"></a>03125         <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a1b9b05995b84bd6156d34d9e4383ab19">SYSCTL_DSCLKCFG</a>) = ui32Value;
<a name="l03126"></a>03126     }
<a name="l03127"></a>03127 }
<a name="l03128"></a>03128 
<a name="l03129"></a>03129 <span class="comment">//*****************************************************************************</span>
<a name="l03130"></a>03130 <span class="comment">//</span>
<a name="l03149"></a>03149 <span class="comment"></span><span class="comment">//</span>
<a name="l03150"></a>03150 <span class="comment">//*****************************************************************************</span>
<a name="l03151"></a>03151 <span class="keywordtype">void</span>
<a name="l03152"></a><a class="code" href="group__sysctl__api.html#ga444e7a242f14e945fcc7a909d13d2d3c">03152</a> <a class="code" href="group__sysctl__api.html#ga444e7a242f14e945fcc7a909d13d2d3c">SysCtlPWMClockSet</a>(uint32_t ui32Config)
<a name="l03153"></a>03153 {
<a name="l03154"></a>03154     <span class="comment">//</span>
<a name="l03155"></a>03155     <span class="comment">// Check the arguments.</span>
<a name="l03156"></a>03156     <span class="comment">//</span>
<a name="l03157"></a>03157     <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32Config == <a class="code" href="sysctl_8h.html#a59a0f9df323b5881d47ced97084a576d">SYSCTL_PWMDIV_1</a>) ||
<a name="l03158"></a>03158            (ui32Config == <a class="code" href="sysctl_8h.html#aa157d73c016fea19d12df750dd63b2ef">SYSCTL_PWMDIV_2</a>) ||
<a name="l03159"></a>03159            (ui32Config == <a class="code" href="sysctl_8h.html#a073d62c65292e24aa8e15adfcf58df8e">SYSCTL_PWMDIV_4</a>) ||
<a name="l03160"></a>03160            (ui32Config == <a class="code" href="sysctl_8h.html#af8905ef3071c7fc58c58f68f886f261c">SYSCTL_PWMDIV_8</a>) ||
<a name="l03161"></a>03161            (ui32Config == <a class="code" href="sysctl_8h.html#ad5c3a5f6705e7514a6d093fec92b6306">SYSCTL_PWMDIV_16</a>) ||
<a name="l03162"></a>03162            (ui32Config == <a class="code" href="sysctl_8h.html#a79169c4f284411993029f496fe4f5ee1">SYSCTL_PWMDIV_32</a>) ||
<a name="l03163"></a>03163            (ui32Config == <a class="code" href="sysctl_8h.html#acf79845e27022c93146658e490e3446c">SYSCTL_PWMDIV_64</a>));
<a name="l03164"></a>03164 
<a name="l03165"></a>03165     <span class="comment">//</span>
<a name="l03166"></a>03166     <span class="comment">// Check that there is a PWM block on this part.</span>
<a name="l03167"></a>03167     <span class="comment">//</span>
<a name="l03168"></a>03168     <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(<a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a9f9ebf19876182aab0eccfbc50bebc2e">SYSCTL_DC1</a>) &amp; (<a class="code" href="hw__sysctl_8h.html#a3200a3e1dd398a805fd57de7862a5ced">SYSCTL_DC1_PWM0</a> | <a class="code" href="hw__sysctl_8h.html#a69db3be29abeab73c667d7f8835b14ce">SYSCTL_DC1_PWM1</a>));
<a name="l03169"></a>03169 
<a name="l03170"></a>03170     <span class="comment">//</span>
<a name="l03171"></a>03171     <span class="comment">// Set the PWM clock configuration into the run-mode clock configuration</span>
<a name="l03172"></a>03172     <span class="comment">// register.</span>
<a name="l03173"></a>03173     <span class="comment">//</span>
<a name="l03174"></a>03174     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a23e27fd6ce8421975c6d703068dc8fea">SYSCTL_RCC</a>) = ((<a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a23e27fd6ce8421975c6d703068dc8fea">SYSCTL_RCC</a>) &amp;
<a name="l03175"></a>03175                           ~(<a class="code" href="hw__sysctl_8h.html#a10e7f6f0d034bae2138721e90fc9dd6b">SYSCTL_RCC_USEPWMDIV</a> | <a class="code" href="hw__sysctl_8h.html#ab5d7c28dc903f334f78550806dd3f5fd">SYSCTL_RCC_PWMDIV_M</a>)) |
<a name="l03176"></a>03176                          ui32Config);
<a name="l03177"></a>03177 }
<a name="l03178"></a>03178 
<a name="l03179"></a>03179 <span class="comment">//*****************************************************************************</span>
<a name="l03180"></a>03180 <span class="comment">//</span>
<a name="l03192"></a>03192 <span class="comment"></span><span class="comment">//</span>
<a name="l03193"></a>03193 <span class="comment">//*****************************************************************************</span>
<a name="l03194"></a>03194 uint32_t
<a name="l03195"></a><a class="code" href="group__sysctl__api.html#gaaccf3eef212a6be9e924103bd100f54f">03195</a> <a class="code" href="group__sysctl__api.html#gaaccf3eef212a6be9e924103bd100f54f">SysCtlPWMClockGet</a>(<span class="keywordtype">void</span>)
<a name="l03196"></a>03196 {
<a name="l03197"></a>03197     <span class="comment">//</span>
<a name="l03198"></a>03198     <span class="comment">// Check that there is a PWM block on this part.</span>
<a name="l03199"></a>03199     <span class="comment">//</span>
<a name="l03200"></a>03200     <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(<a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a9f9ebf19876182aab0eccfbc50bebc2e">SYSCTL_DC1</a>) &amp; (<a class="code" href="hw__sysctl_8h.html#a3200a3e1dd398a805fd57de7862a5ced">SYSCTL_DC1_PWM0</a> | <a class="code" href="hw__sysctl_8h.html#a69db3be29abeab73c667d7f8835b14ce">SYSCTL_DC1_PWM1</a>));
<a name="l03201"></a>03201 
<a name="l03202"></a>03202     <span class="comment">//</span>
<a name="l03203"></a>03203     <span class="comment">// Return the current PWM clock configuration.  Make sure that</span>
<a name="l03204"></a>03204     <span class="comment">// SYSCTL_PWMDIV_1 is returned in all cases where the divider is disabled.</span>
<a name="l03205"></a>03205     <span class="comment">//</span>
<a name="l03206"></a>03206     <span class="keywordflow">if</span>(!(<a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a23e27fd6ce8421975c6d703068dc8fea">SYSCTL_RCC</a>) &amp; <a class="code" href="hw__sysctl_8h.html#a10e7f6f0d034bae2138721e90fc9dd6b">SYSCTL_RCC_USEPWMDIV</a>))
<a name="l03207"></a>03207     {
<a name="l03208"></a>03208         <span class="comment">//</span>
<a name="l03209"></a>03209         <span class="comment">// The divider is not active so reflect this in the value we return.</span>
<a name="l03210"></a>03210         <span class="comment">//</span>
<a name="l03211"></a>03211         <span class="keywordflow">return</span>(<a class="code" href="sysctl_8h.html#a59a0f9df323b5881d47ced97084a576d">SYSCTL_PWMDIV_1</a>);
<a name="l03212"></a>03212     }
<a name="l03213"></a>03213     <span class="keywordflow">else</span>
<a name="l03214"></a>03214     {
<a name="l03215"></a>03215         <span class="comment">//</span>
<a name="l03216"></a>03216         <span class="comment">// The divider is active so directly return the masked register value.</span>
<a name="l03217"></a>03217         <span class="comment">//</span>
<a name="l03218"></a>03218         <span class="keywordflow">return</span>(<a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a23e27fd6ce8421975c6d703068dc8fea">SYSCTL_RCC</a>) &amp;
<a name="l03219"></a>03219                (SYSCTL_RCC_USEPWMDIV | <a class="code" href="hw__sysctl_8h.html#ab5d7c28dc903f334f78550806dd3f5fd">SYSCTL_RCC_PWMDIV_M</a>));
<a name="l03220"></a>03220     }
<a name="l03221"></a>03221 }
<a name="l03222"></a>03222 
<a name="l03223"></a>03223 <span class="comment">//*****************************************************************************</span>
<a name="l03224"></a>03224 <span class="comment">//</span>
<a name="l03245"></a>03245 <span class="comment"></span><span class="comment">//</span>
<a name="l03246"></a>03246 <span class="comment">//*****************************************************************************</span>
<a name="l03247"></a>03247 <span class="keywordtype">void</span>
<a name="l03248"></a><a class="code" href="group__sysctl__api.html#gadf2447348f48b339b8e7a73ed5e80afd">03248</a> <a class="code" href="group__sysctl__api.html#gadf2447348f48b339b8e7a73ed5e80afd">SysCtlGPIOAHBEnable</a>(uint32_t ui32GPIOPeripheral)
<a name="l03249"></a>03249 {
<a name="l03250"></a>03250     <span class="comment">//</span>
<a name="l03251"></a>03251     <span class="comment">// Check the arguments.</span>
<a name="l03252"></a>03252     <span class="comment">//</span>
<a name="l03253"></a>03253     <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32GPIOPeripheral == <a class="code" href="sysctl_8h.html#aea621e9fcb42501468c5d42aa08972c8">SYSCTL_PERIPH_GPIOA</a>) ||
<a name="l03254"></a>03254            (ui32GPIOPeripheral == <a class="code" href="sysctl_8h.html#aacde21f07d16b073bf84d6b7eac72af7">SYSCTL_PERIPH_GPIOB</a>) ||
<a name="l03255"></a>03255            (ui32GPIOPeripheral == <a class="code" href="sysctl_8h.html#a14a273e397a6753c6036fddcb55de797">SYSCTL_PERIPH_GPIOC</a>) ||
<a name="l03256"></a>03256            (ui32GPIOPeripheral == <a class="code" href="sysctl_8h.html#a86c8966034ad2bb893b2eda828cf9d57">SYSCTL_PERIPH_GPIOD</a>) ||
<a name="l03257"></a>03257            (ui32GPIOPeripheral == <a class="code" href="sysctl_8h.html#a9b21d2d75e53972282522ff00568aa87">SYSCTL_PERIPH_GPIOE</a>) ||
<a name="l03258"></a>03258            (ui32GPIOPeripheral == <a class="code" href="sysctl_8h.html#a2222c3af2259930587efcb2a33c74fcc">SYSCTL_PERIPH_GPIOF</a>) ||
<a name="l03259"></a>03259            (ui32GPIOPeripheral == <a class="code" href="sysctl_8h.html#adcc37c492097ffa2885ed87504b37e09">SYSCTL_PERIPH_GPIOG</a>) ||
<a name="l03260"></a>03260            (ui32GPIOPeripheral == <a class="code" href="sysctl_8h.html#af5f289773bd22340cd56e539bced4d5b">SYSCTL_PERIPH_GPIOH</a>) ||
<a name="l03261"></a>03261            (ui32GPIOPeripheral == <a class="code" href="sysctl_8h.html#ac066eb7de420965b9417600b95008c5b">SYSCTL_PERIPH_GPIOJ</a>));
<a name="l03262"></a>03262 
<a name="l03263"></a>03263     <span class="comment">//</span>
<a name="l03264"></a>03264     <span class="comment">// Enable this GPIO for AHB access.</span>
<a name="l03265"></a>03265     <span class="comment">//</span>
<a name="l03266"></a>03266     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a4c4d9a120e8f86cd11fcf8e2af7b3104">SYSCTL_GPIOHBCTL</a>) |= (1 &lt;&lt; (ui32GPIOPeripheral &amp; 0xF));
<a name="l03267"></a>03267 }
<a name="l03268"></a>03268 
<a name="l03269"></a>03269 <span class="comment">//*****************************************************************************</span>
<a name="l03270"></a>03270 <span class="comment">//</span>
<a name="l03291"></a>03291 <span class="comment"></span><span class="comment">//</span>
<a name="l03292"></a>03292 <span class="comment">//*****************************************************************************</span>
<a name="l03293"></a>03293 <span class="keywordtype">void</span>
<a name="l03294"></a><a class="code" href="group__sysctl__api.html#ga319195ed040b6d8ddaee3ca5ea562606">03294</a> <a class="code" href="group__sysctl__api.html#ga319195ed040b6d8ddaee3ca5ea562606">SysCtlGPIOAHBDisable</a>(uint32_t ui32GPIOPeripheral)
<a name="l03295"></a>03295 {
<a name="l03296"></a>03296     <span class="comment">//</span>
<a name="l03297"></a>03297     <span class="comment">// Check the arguments.</span>
<a name="l03298"></a>03298     <span class="comment">//</span>
<a name="l03299"></a>03299     <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32GPIOPeripheral == <a class="code" href="sysctl_8h.html#aea621e9fcb42501468c5d42aa08972c8">SYSCTL_PERIPH_GPIOA</a>) ||
<a name="l03300"></a>03300            (ui32GPIOPeripheral == <a class="code" href="sysctl_8h.html#aacde21f07d16b073bf84d6b7eac72af7">SYSCTL_PERIPH_GPIOB</a>) ||
<a name="l03301"></a>03301            (ui32GPIOPeripheral == <a class="code" href="sysctl_8h.html#a14a273e397a6753c6036fddcb55de797">SYSCTL_PERIPH_GPIOC</a>) ||
<a name="l03302"></a>03302            (ui32GPIOPeripheral == <a class="code" href="sysctl_8h.html#a86c8966034ad2bb893b2eda828cf9d57">SYSCTL_PERIPH_GPIOD</a>) ||
<a name="l03303"></a>03303            (ui32GPIOPeripheral == <a class="code" href="sysctl_8h.html#a9b21d2d75e53972282522ff00568aa87">SYSCTL_PERIPH_GPIOE</a>) ||
<a name="l03304"></a>03304            (ui32GPIOPeripheral == <a class="code" href="sysctl_8h.html#a2222c3af2259930587efcb2a33c74fcc">SYSCTL_PERIPH_GPIOF</a>) ||
<a name="l03305"></a>03305            (ui32GPIOPeripheral == <a class="code" href="sysctl_8h.html#adcc37c492097ffa2885ed87504b37e09">SYSCTL_PERIPH_GPIOG</a>) ||
<a name="l03306"></a>03306            (ui32GPIOPeripheral == <a class="code" href="sysctl_8h.html#af5f289773bd22340cd56e539bced4d5b">SYSCTL_PERIPH_GPIOH</a>) ||
<a name="l03307"></a>03307            (ui32GPIOPeripheral == <a class="code" href="sysctl_8h.html#ac066eb7de420965b9417600b95008c5b">SYSCTL_PERIPH_GPIOJ</a>));
<a name="l03308"></a>03308 
<a name="l03309"></a>03309     <span class="comment">//</span>
<a name="l03310"></a>03310     <span class="comment">// Disable this GPIO for AHB access.</span>
<a name="l03311"></a>03311     <span class="comment">//</span>
<a name="l03312"></a>03312     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a4c4d9a120e8f86cd11fcf8e2af7b3104">SYSCTL_GPIOHBCTL</a>) &amp;= ~(1 &lt;&lt; (ui32GPIOPeripheral &amp; 0xF));
<a name="l03313"></a>03313 }
<a name="l03314"></a>03314 
<a name="l03315"></a>03315 <span class="comment">//*****************************************************************************</span>
<a name="l03316"></a>03316 <span class="comment">//</span>
<a name="l03326"></a>03326 <span class="comment"></span><span class="comment">//</span>
<a name="l03327"></a>03327 <span class="comment">//*****************************************************************************</span>
<a name="l03328"></a>03328 <span class="keywordtype">void</span>
<a name="l03329"></a><a class="code" href="group__sysctl__api.html#ga9af839cfa9e1635c3d437b7f466c0e03">03329</a> <a class="code" href="group__sysctl__api.html#ga9af839cfa9e1635c3d437b7f466c0e03">SysCtlUSBPLLEnable</a>(<span class="keywordtype">void</span>)
<a name="l03330"></a>03330 {
<a name="l03331"></a>03331     <span class="comment">//</span>
<a name="l03332"></a>03332     <span class="comment">// Turn on the USB PLL.</span>
<a name="l03333"></a>03333     <span class="comment">//</span>
<a name="l03334"></a>03334     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a6a83bd485e529b5a78559157d5569755">SYSCTL_RCC2</a>) &amp;= ~<a class="code" href="hw__sysctl_8h.html#a27e58030fca66cf089e0fd0229c0db28">SYSCTL_RCC2_USBPWRDN</a>;
<a name="l03335"></a>03335 }
<a name="l03336"></a>03336 
<a name="l03337"></a>03337 <span class="comment">//*****************************************************************************</span>
<a name="l03338"></a>03338 <span class="comment">//</span>
<a name="l03348"></a>03348 <span class="comment"></span><span class="comment">//</span>
<a name="l03349"></a>03349 <span class="comment">//*****************************************************************************</span>
<a name="l03350"></a>03350 <span class="keywordtype">void</span>
<a name="l03351"></a><a class="code" href="group__sysctl__api.html#ga980dda99cd999c319351c2c24992d9a6">03351</a> <a class="code" href="group__sysctl__api.html#ga980dda99cd999c319351c2c24992d9a6">SysCtlUSBPLLDisable</a>(<span class="keywordtype">void</span>)
<a name="l03352"></a>03352 {
<a name="l03353"></a>03353     <span class="comment">//</span>
<a name="l03354"></a>03354     <span class="comment">// Turn off the USB PLL.</span>
<a name="l03355"></a>03355     <span class="comment">//</span>
<a name="l03356"></a>03356     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a6a83bd485e529b5a78559157d5569755">SYSCTL_RCC2</a>) |= <a class="code" href="hw__sysctl_8h.html#a27e58030fca66cf089e0fd0229c0db28">SYSCTL_RCC2_USBPWRDN</a>;
<a name="l03357"></a>03357 }
<a name="l03358"></a>03358 
<a name="l03359"></a>03359 <span class="comment">//*****************************************************************************</span>
<a name="l03360"></a>03360 <span class="comment">//</span>
<a name="l03416"></a>03416 <span class="comment"></span><span class="comment">//</span>
<a name="l03417"></a>03417 <span class="comment">//*****************************************************************************</span>
<a name="l03418"></a>03418 <span class="keywordtype">void</span>
<a name="l03419"></a><a class="code" href="group__sysctl__api.html#ga5ab556872df7db77f97c62502f99ee30">03419</a> <a class="code" href="group__sysctl__api.html#ga5ab556872df7db77f97c62502f99ee30">SysCtlVoltageEventConfig</a>(uint32_t ui32Config)
<a name="l03420"></a>03420 {
<a name="l03421"></a>03421     <span class="comment">//</span>
<a name="l03422"></a>03422     <span class="comment">// Set the requested events.</span>
<a name="l03423"></a>03423     <span class="comment">//</span>
<a name="l03424"></a>03424     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a3fd602f9f4366b7cd066c89f56403052">SYSCTL_PTBOCTL</a>) = ui32Config;
<a name="l03425"></a>03425 }
<a name="l03426"></a>03426 
<a name="l03427"></a>03427 <span class="comment">//*****************************************************************************</span>
<a name="l03428"></a>03428 <span class="comment">//</span>
<a name="l03462"></a>03462 <span class="comment"></span><span class="comment">//</span>
<a name="l03463"></a>03463 <span class="comment">//*****************************************************************************</span>
<a name="l03464"></a>03464 uint32_t
<a name="l03465"></a><a class="code" href="group__sysctl__api.html#ga477377a31fd24fa238e9235392d69e68">03465</a> <a class="code" href="group__sysctl__api.html#ga477377a31fd24fa238e9235392d69e68">SysCtlVoltageEventStatus</a>(<span class="keywordtype">void</span>)
<a name="l03466"></a>03466 {
<a name="l03467"></a>03467     <span class="comment">//</span>
<a name="l03468"></a>03468     <span class="comment">// Return the current voltage event status.</span>
<a name="l03469"></a>03469     <span class="comment">//</span>
<a name="l03470"></a>03470     <span class="keywordflow">return</span>(<a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#affb5c3022c06d0f2f14188eb6c819548">SYSCTL_PWRTC</a>));
<a name="l03471"></a>03471 }
<a name="l03472"></a>03472 
<a name="l03473"></a>03473 <span class="comment">//*****************************************************************************</span>
<a name="l03474"></a>03474 <span class="comment">//</span>
<a name="l03499"></a>03499 <span class="comment"></span><span class="comment">//</span>
<a name="l03500"></a>03500 <span class="comment">//*****************************************************************************</span>
<a name="l03501"></a>03501 <span class="keywordtype">void</span>
<a name="l03502"></a><a class="code" href="group__sysctl__api.html#gaf62659875c2673c4f6da90ed38e6e230">03502</a> <a class="code" href="group__sysctl__api.html#gaf62659875c2673c4f6da90ed38e6e230">SysCtlVoltageEventClear</a>(uint32_t ui32Status)
<a name="l03503"></a>03503 {
<a name="l03504"></a>03504     <span class="comment">//</span>
<a name="l03505"></a>03505     <span class="comment">// Clear the requested voltage events.</span>
<a name="l03506"></a>03506     <span class="comment">//</span>
<a name="l03507"></a>03507     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#affb5c3022c06d0f2f14188eb6c819548">SYSCTL_PWRTC</a>) |= ui32Status;
<a name="l03508"></a>03508 }
<a name="l03509"></a>03509 
<a name="l03510"></a>03510 <span class="comment">//*****************************************************************************</span>
<a name="l03511"></a>03511 <span class="comment">//</span>
<a name="l03540"></a>03540 <span class="comment"></span><span class="comment">//</span>
<a name="l03541"></a>03541 <span class="comment">//*****************************************************************************</span>
<a name="l03542"></a>03542 uint32_t
<a name="l03543"></a><a class="code" href="group__sysctl__api.html#ga628248ad7d1558ec4f3a4070068422a6">03543</a> <a class="code" href="group__sysctl__api.html#ga628248ad7d1558ec4f3a4070068422a6">SysCtlNMIStatus</a>(<span class="keywordtype">void</span>)
<a name="l03544"></a>03544 {
<a name="l03545"></a>03545     <span class="keywordflow">return</span>(<a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a2edf1bf1842cd39e6df633710485d1b6">SYSCTL_NMIC</a>));
<a name="l03546"></a>03546 }
<a name="l03547"></a>03547 
<a name="l03548"></a>03548 <span class="comment">//*****************************************************************************</span>
<a name="l03549"></a>03549 <span class="comment">//</span>
<a name="l03580"></a>03580 <span class="comment"></span><span class="comment">//</span>
<a name="l03581"></a>03581 <span class="comment">//*****************************************************************************</span>
<a name="l03582"></a>03582 <span class="keywordtype">void</span>
<a name="l03583"></a><a class="code" href="group__sysctl__api.html#ga1fa88f58928e04ae7a3b35355664d4d9">03583</a> <a class="code" href="group__sysctl__api.html#ga1fa88f58928e04ae7a3b35355664d4d9">SysCtlNMIClear</a>(uint32_t ui32Ints)
<a name="l03584"></a>03584 {
<a name="l03585"></a>03585     <span class="comment">//</span>
<a name="l03586"></a>03586     <span class="comment">// Clear the requested interrupt sources.</span>
<a name="l03587"></a>03587     <span class="comment">//</span>
<a name="l03588"></a>03588     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a2edf1bf1842cd39e6df633710485d1b6">SYSCTL_NMIC</a>) &amp;= ~ui32Ints;
<a name="l03589"></a>03589 }
<a name="l03590"></a>03590 
<a name="l03591"></a>03591 <span class="comment">//*****************************************************************************</span>
<a name="l03592"></a>03592 <span class="comment">//</span>
<a name="l03631"></a>03631 <span class="comment"></span><span class="comment">//</span>
<a name="l03632"></a>03632 <span class="comment">//*****************************************************************************</span>
<a name="l03633"></a>03633 <span class="keywordtype">void</span>
<a name="l03634"></a><a class="code" href="group__sysctl__api.html#ga57d891ebea267f6236f5192b9f09f657">03634</a> <a class="code" href="group__sysctl__api.html#ga57d891ebea267f6236f5192b9f09f657">SysCtlClockOutConfig</a>(uint32_t ui32Config, uint32_t ui32Div)
<a name="l03635"></a>03635 {
<a name="l03636"></a>03636     <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>(ui32Div != 0);
<a name="l03637"></a>03637     <a class="code" href="debug_8h.html#a28301f76c53b643912da7c538f74e2c6">ASSERT</a>((ui32Config &amp; ~(<a class="code" href="sysctl_8h.html#ae2000c83d70954237d5981a0c172adf4">SYSCTL_CLKOUT_EN</a> | <a class="code" href="sysctl_8h.html#a54cf9ff06eac8184447f7296c790b076">SYSCTL_CLKOUT_DIS</a> |
<a name="l03638"></a>03638                            <a class="code" href="sysctl_8h.html#a5b890de65910f0dfd2dee15a94ba678f">SYSCTL_CLKOUT_SYSCLK</a> | <a class="code" href="sysctl_8h.html#af10516a9ba4862bddbfbc0de762b6bca">SYSCTL_CLKOUT_PIOSC</a> |
<a name="l03639"></a>03639                            <a class="code" href="sysctl_8h.html#ad9d2acd289ba757a7d741d9b2c8fbf7e">SYSCTL_CLKOUT_MOSC</a>)) == 0);
<a name="l03640"></a>03640 
<a name="l03641"></a>03641     <span class="comment">//</span>
<a name="l03642"></a>03642     <span class="comment">// Set the requested configuration and divisor.</span>
<a name="l03643"></a>03643     <span class="comment">//</span>
<a name="l03644"></a>03644     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a0477a1b414c4e90b5e8cc98e7fd5bb20">SYSCTL_DIVSCLK</a>) = ui32Config | ((ui32Div - 1) &amp;
<a name="l03645"></a>03645                                           <a class="code" href="hw__sysctl_8h.html#a8e9b7b332d5568683c37bcb8067e6c57">SYSCTL_DIVSCLK_DIV_M</a>);
<a name="l03646"></a>03646 }
<a name="l03647"></a>03647 
<a name="l03648"></a>03648 <span class="comment">//*****************************************************************************</span>
<a name="l03649"></a>03649 <span class="comment">//</span>
<a name="l03683"></a>03683 <span class="comment"></span><span class="comment">//</span>
<a name="l03684"></a>03684 <span class="comment">//*****************************************************************************</span>
<a name="l03685"></a>03685 <span class="keywordtype">void</span>
<a name="l03686"></a><a class="code" href="group__sysctl__api.html#gaf719a6614c2febdea012870765a7d06c">03686</a> <a class="code" href="group__sysctl__api.html#gaf719a6614c2febdea012870765a7d06c">SysCtlAltClkConfig</a>(uint32_t ui32Config)
<a name="l03687"></a>03687 {
<a name="l03688"></a>03688     <span class="comment">//</span>
<a name="l03689"></a>03689     <span class="comment">// Set the requested configuration and divisor.</span>
<a name="l03690"></a>03690     <span class="comment">//</span>
<a name="l03691"></a>03691     <a class="code" href="hw__types_8h.html#ac9660181819fceac0b5abcd67d76ca6e">HWREG</a>(<a class="code" href="hw__sysctl_8h.html#a51c1ad20cdc6c1eded606b1d42b4ab6c">SYSCTL_ALTCLKCFG</a>) = ui32Config;
<a name="l03692"></a>03692 }
<a name="l03693"></a>03693 
<a name="l03694"></a>03694 <span class="comment">//*****************************************************************************</span>
<a name="l03695"></a>03695 <span class="comment">//</span>
<a name="l03696"></a>03696 <span class="comment">// Close the Doxygen group.</span>
<a name="l03698"></a>03698 <span class="comment"></span><span class="comment">//</span>
<a name="l03699"></a>03699 <span class="comment">//*****************************************************************************</span>
</pre></div></div><!-- contents -->
</div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Defines</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="sysctl_8c.html">sysctl.c</a>      </li>

    <li class="footer">Generated on Tue Jan 27 2015 21:45:30 for EE 445M by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.7.6.1 </li>
   </ul>
 </div>


</body>
</html>
